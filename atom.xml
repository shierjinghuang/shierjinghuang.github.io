<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>十二惊惶</title>
  
  <subtitle>犁牛之子骍且角，虽欲勿用，山川其舍诸</subtitle>
  <link href="https://shierjinghuang.github.io/atom.xml" rel="self"/>
  
  <link href="https://shierjinghuang.github.io/"/>
  <updated>2025-04-21T09:49:00.148Z</updated>
  <id>https://shierjinghuang.github.io/</id>
  
  <author>
    <name>十二惊惶</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="https://shierjinghuang.github.io/2025/05/05/BGP%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E6%96%B0%E5%BB%BA%20Markdown/"/>
    <id>https://shierjinghuang.github.io/2025/05/05/BGP%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E6%96%B0%E5%BB%BA%20Markdown/</id>
    <published>2025-05-05T07:11:23.887Z</published>
    <updated>2025-04-21T09:49:00.148Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>IPv6路由高级特性</title>
    <link href="https://shierjinghuang.github.io/2025/05/05/IPv6%E8%B7%AF%E7%94%B1%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"/>
    <id>https://shierjinghuang.github.io/2025/05/05/IPv6%E8%B7%AF%E7%94%B1%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/</id>
    <published>2025-05-05T07:09:55.000Z</published>
    <updated>2025-05-05T07:12:38.527Z</updated>
    
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="HCIP" scheme="https://shierjinghuang.github.io/tags/HCIP/"/>
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>以太网交换安全</title>
    <link href="https://shierjinghuang.github.io/2025/05/05/%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%AE%89%E5%85%A8/"/>
    <id>https://shierjinghuang.github.io/2025/05/05/%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%AE%89%E5%85%A8/</id>
    <published>2025-05-05T07:09:19.000Z</published>
    <updated>2025-05-05T07:12:15.107Z</updated>
    
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="HCIP" scheme="https://shierjinghuang.github.io/tags/HCIP/"/>
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>信息安全技术:网络安全等级保护基本要求</title>
    <link href="https://shierjinghuang.github.io/2025/05/03/GB_T%2022239_2019%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%AD%89%E7%BA%A7%E4%BF%9D%E6%8A%A4/"/>
    <id>https://shierjinghuang.github.io/2025/05/03/GB_T%2022239_2019%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%AD%89%E7%BA%A7%E4%BF%9D%E6%8A%A4/</id>
    <published>2025-05-03T10:16:59.000Z</published>
    <updated>2025-05-03T10:52:02.666Z</updated>
    
    <content type="html"><![CDATA[<h1>信息安全技术 网络安全等级保护基本要求</h1><p>GB/T 22239-2019《信息安全技术 网络安全等级保护基本要求》是中国关于网络安全等级保护的核心标准，由全国信息安全标准化技术委员会（SAC/TC260）制定，2019年发布实施。以下是该标准的关键内容：</p><hr><h5 id="一-标准背景"><strong>一、标准背景</strong></h5><ul><li><strong>替代关系</strong>：替代了2008版标准（GB/T 22239-2008），与《网络安全法》及《等级保护2.0》体系衔接。</li><li><strong>法律依据</strong>：依据《网络安全法》第21条，要求网络运营者履行等级保护义务。</li></ul><hr><h5 id="二-核心内容"><strong>二、核心内容</strong></h5><h6 id="1-保护对象">1. <strong>保护对象</strong></h6><p>涵盖网络基础设施、信息系统、云计算平台、大数据平台、物联网系统、工业控制系统等。</p><h6 id="2-安全等级划分">2. <strong>安全等级划分</strong></h6><p>分为五个等级（第一级至第五级，逐级增高），根据系统遭破坏后的危害程度（公民/社会/国家利益）确定等级。</p><h6 id="3-安全要求框架">3. <strong>安全要求框架</strong></h6><p>分为<strong>技术安全要求</strong>和<strong>管理安全要求</strong>两大类，具体包括：</p><ul><li><strong>技术安全</strong>：物理环境、通信网络、区域边界、计算环境、管理中心等层面的防护。</li><li><strong>管理安全</strong>：安全管理制度、机构、人员、系统建设、运维管理等。</li></ul><h6 id="4-扩展要求">4. <strong>扩展要求</strong></h6><p>针对新技术场景新增专项要求：</p><ul><li><strong>云计算安全</strong>：虚拟机隔离、云平台管理权限控制等。</li><li><strong>移动互联安全</strong>：终端管控、无线接入加密等。</li><li><strong>物联网安全</strong>：设备认证、数据防篡改等。</li><li><strong>工业控制系统安全</strong>：实时监控、协议安全等。</li></ul><hr><h5 id="三-实施流程"><strong>三、实施流程</strong></h5><ol><li><strong>定级</strong>：确定系统等级（需备案）。</li><li><strong>备案</strong>：向属地公安机关备案。</li><li><strong>测评</strong>：通过第三方测评机构合规性检测。</li><li><strong>整改</strong>：对不符合项进行整改。</li><li><strong>监督检查</strong>：持续合规性维护。</li></ol><hr><h5 id="四-等级保护2-0的主要变化"><strong>四、等级保护2.0的主要变化</strong></h5><ul><li><strong>范围扩大</strong>：从传统信息系统扩展到云计算、物联网等新场景。</li><li><strong>强化防护</strong>：强调“一个中心，三重防护”（安全管理中心+计算环境、区域边界、通信网络防护）。</li><li><strong>主动防御</strong>：增加威胁监测、应急处置等要求。</li></ul><hr><h5 id="五-适用对象"><strong>五、适用对象</strong></h5><ul><li><strong>企事业单位</strong>：涉及关键信息基础设施的行业（金融、电力、交通等）。</li><li><strong>政府部门</strong>：政务系统、公共服务平台。</li><li><strong>服务提供商</strong>：云服务商、大数据企业等。</li></ul><hr><h5 id="六-相关标准"><strong>六、相关标准</strong></h5><ul><li><strong>配套标准</strong>：<ul><li>GB/T 25070-2019（安全设计技术要求）</li><li>GB/T 28448-2019（测评要求）</li><li>GB/T 25058-2019（实施指南）</li></ul></li></ul><hr><h5 id="七-重要性"><strong>七、重要性</strong></h5><ul><li><strong>法律合规</strong>：未履行等级保护可能面临行政处罚。</li><li><strong>风险防控</strong>：帮助组织系统性识别和降低网络安全风险。</li></ul><p>如需具体条款或实施细节，可进一步查阅标准全文或咨询专业测评机构。</p><h2 id="逐模块详细解析">逐模块详细解析</h2><p>以下是针对GB/T 22239-2019《信息安全技术 网络安全等级保护基本要求》的<strong>逐模块详细解析</strong>，按标准框架分层展开：</p><hr><h3 id="一-安全等级划分-定级标准"><strong>一、安全等级划分（定级标准）</strong></h3><h4 id="1-定级依据">1. <strong>定级依据</strong></h4><ul><li><strong>受侵害客体</strong>：<ul><li>第一级（一般损害）：公民、法人权益。</li><li>第二级（严重损害）：社会秩序、公共利益。</li><li>第三级（特别严重损害）：国家关键基础设施、社会稳定。</li><li>第四级及以上（极严重损害）：国家安全（需国家专门审批）。</li></ul></li><li><strong>侵害程度</strong>：从“一般损害”到“国家级灾难”逐级递增。</li></ul><h4 id="2-定级流程">2. <strong>定级流程</strong></h4><ul><li><strong>自主定级</strong>：运营者根据业务重要性初步定级。</li><li><strong>专家评审</strong>：二级及以上系统需专家评审。</li><li><strong>公安备案</strong>：向属地公安机关提交《定级报告》和《备案表》。</li></ul><hr><h3 id="二-技术安全要求"><strong>二、技术安全要求</strong></h3><h4 id="1-物理环境安全">1. <strong>物理环境安全</strong></h4><ul><li><strong>一级</strong>：基础防火、防盗、防雷击。</li><li><strong>三级</strong>：增加电磁屏蔽、视频监控、门禁系统（需生物识别）。</li><li><strong>特殊要求</strong>：数据中心电力冗余（UPS+柴油发电机）、抗震设计。</li></ul><h4 id="2-通信网络安全">2. <strong>通信网络安全</strong></h4><ul><li><strong>数据传输</strong>：<ul><li>二级：VPN或SSL加密。</li><li>三级：IPSec VPN+双向证书认证。</li></ul></li><li><strong>网络架构</strong>：三级以上需冗余设计（双链路/设备热备）。</li></ul><h4 id="3-区域边界防护">3. <strong>区域边界防护</strong></h4><ul><li><strong>访问控制</strong>：<ul><li>二级：防火墙规则（端口/IP黑白名单）。</li><li>三级：防火墙+入侵检测（IDS）联动阻断。</li></ul></li><li><strong>防攻击</strong>：抗DDoS设备（三级必备）、Web应用防火墙（WAF）。</li></ul><h4 id="4-计算环境安全">4. <strong>计算环境安全</strong></h4><ul><li><strong>主机安全</strong>：<ul><li>二级：口令复杂度策略、定期漏洞扫描。</li><li>三级：强制双因素认证、主机入侵防御（HIPS）。</li></ul></li><li><strong>数据安全</strong>：<ul><li>三级：存储加密（AES-256）、传输加密（TLS 1.2+）。</li><li>四级：数据分片存储+国密算法（SM4）。</li></ul></li></ul><h4 id="5-管理中心要求">5. <strong>管理中心要求</strong></h4><ul><li><strong>集中管控</strong>：<ul><li>三级：统一日志审计（留存6个月）、SIEM系统。</li><li>四级：安全运维堡垒机、操作行为录屏审计。</li></ul></li></ul><hr><h3 id="三-管理安全要求"><strong>三、管理安全要求</strong></h3><h4 id="1-安全管理制度">1. <strong>安全管理制度</strong></h4><ul><li><strong>文档体系</strong>：<ul><li>二级：《信息安全管理制度》《应急预案》。</li><li>三级：增加《安全配置基线》《风险评估报告》。</li></ul></li><li><strong>评审机制</strong>：每年至少一次制度修订（需管理层签字）。</li></ul><h4 id="2-组织机构与人员">2. <strong>组织机构与人员</strong></h4><ul><li><strong>岗位职责</strong>：<ul><li>三级：设立专职安全管理员（不得兼任网络运维）。</li></ul></li><li><strong>培训要求</strong>：全员年度安全意识培训，技术人员需CISP认证。</li></ul><h4 id="3-系统建设管理">3. <strong>系统建设管理</strong></h4><ul><li><strong>供应商管控</strong>：<ul><li>三级：设备采购需“安全功能检测报告”。</li></ul></li><li><strong>代码安全</strong>：二级以上系统需代码审计（SQL注入/XSS漏洞扫描）。</li></ul><h4 id="4-系统运维管理">4. <strong>系统运维管理</strong></h4><ul><li><strong>变更控制</strong>：三级系统需“三员分立”（系统管理员、安全管理员、审计员）。</li><li><strong>应急响应</strong>：<ul><li>二级：每年1次应急演练。</li><li>三级：建立7×24小时应急团队，2小时内响应。</li></ul></li></ul><hr><h3 id="四-扩展要求详解"><strong>四、扩展要求详解</strong></h3><h4 id="1-云计算安全">1. <strong>云计算安全</strong></h4><ul><li><strong>租户隔离</strong>：虚拟化层漏洞扫描（如Hypervisor逃逸防护）。</li><li><strong>数据主权</strong>：云服务商需承诺“数据不出境”（三级以上强制）。</li></ul><h4 id="2-移动互联安全">2. <strong>移动互联安全</strong></h4><ul><li><strong>终端管控</strong>：MDM（移动设备管理）强制安装，远程擦除数据。</li><li><strong>APP安全</strong>：代码混淆、反调试（防逆向分析）。</li></ul><h4 id="3-物联网安全">3. <strong>物联网安全</strong></h4><ul><li><strong>设备认证</strong>：三级需硬件级可信芯片（如TPM 2.0）。</li><li><strong>协议加固</strong>：禁用Telnet/FTP，使用MQTT+DTLS。</li></ul><h4 id="4-工业控制系统">4. <strong>工业控制系统</strong></h4><ul><li><strong>边界防护</strong>：工业防火墙（Modbus TCP白名单）。</li><li><strong>实时监控</strong>：SCADA系统行为基线分析（检测异常指令）。</li></ul><hr><h3 id="五-实施流程细化"><strong>五、实施流程细化</strong></h3><ol><li><p><strong>定级阶段</strong>：</p><ul><li>参考《定级指南》（GB/T 22240-2020）附录A的典型案例。</li></ul></li><li><p><strong>测评整改</strong>：</p><ul><li><strong>高风险项</strong>：如“默认口令未修改”需72小时内修复。</li><li><strong>测评报告</strong>：三级系统每年复测，四级每半年一次。</li></ul></li><li><p><strong>监督检查</strong>：</p><ul><li>公安机关抽查重点：医疗、金融行业的三级系统。</li></ul></li></ol><hr><h3 id="六-合规性关联"><strong>六、合规性关联</strong></h3><ul><li><strong>与《网络安全法》衔接</strong>：<ul><li>第21条：未落实等级保护可处10-100万元罚款。</li></ul></li><li><strong>与《数据安全法》关系</strong>：三级以上系统需单独评估数据跨境风险。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;信息安全技术 网络安全等级保护基本要求&lt;/h1&gt;
&lt;p&gt;GB/T 22239-2019《信息安全技术 网络安全等级保护基本要求》是中国关于网络安全等级保护的核心标准，由全国信息安全标准化技术委员会（SAC/TC260）制定，2019年发布实施。以下是该标准的关键内容：&lt;/</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="网络安全等级保护" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%AD%89%E7%BA%A7%E4%BF%9D%E6%8A%A4/"/>
    
  </entry>
  
  <entry>
    <title>SDN与NFV概述</title>
    <link href="https://shierjinghuang.github.io/2025/05/03/SDN%E4%B8%8ENFV%E6%A6%82%E8%BF%B0/"/>
    <id>https://shierjinghuang.github.io/2025/05/03/SDN%E4%B8%8ENFV%E6%A6%82%E8%BF%B0/</id>
    <published>2025-05-03T05:16:59.000Z</published>
    <updated>2025-05-03T10:18:49.710Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><p>**SDN [Software Defined Networking 即软件定义网络]**是一种新型网络创新架构</p><p>SDN核心理念通过将网络设备控制平面与数据平面分离，从而实现了网络控制平面的集中控制，为网络应用的创新提供了良好的支撑</p><img src=".\SDN与NFV概述\SDN网络架构.png" style="zoom:50%;" /><h3 id="openflow基本概念">OpenFlow基本概念</h3><blockquote><p>OpenFlow是控制器与交换机之间的一种南向接口协议</p></blockquote><blockquote><p>OpenFlow是一个网络协议。运行OpenFlow的交换机通过查询流表指导流量转发</p></blockquote><p>OpenFlow定义了三种类型的消息，Controller-to-Switch、 Asynchronous 和 Symmetric。每一种消息又包含了更多的子类型</p><ul><li><p>Controller-to-Switch消息由Controller发送。用于管理Switch和查询Switch的相关信息</p></li><li><p>Asynchronous消息由Switch发起。当Switch状态发生改变时，发送该消息告诉Controller状态变化</p></li><li><p>Symmetric消息没有固定发起方，可由Switch或者Controller发起</p></li></ul><h5 id="controller-to-switch子类型：">Controller-to-Switch子类型：</h5><ul><li><strong>Features消息</strong>：在SSL/TCP会话建立后，Controller给Switch发送Features请求Switch的相关信息。Switch必须应答自己支持的功能，包括接口名、接口MAC地址、接口支持的速率等等基本信息</li><li><strong>Configuration消息</strong>：Controller可以设置或查询Switch的状态</li><li><strong>Modify-State消息</strong>：Controller发送该消息给Switch，来管理Switch的状态，即增加/删除、更改流表，并设置Switch的端口属性</li><li><strong>Read-State消息</strong>：Controller用该消息收集Switch上的统计信息</li><li><strong>Send-Packet消息</strong>：Controller发送该消息到Switch的特定端口</li></ul><h5 id="asynchronous子类型：">Asynchronous子类型：</h5><ul><li><strong>Packet-in消息</strong>：当Flow Table中没有匹配的表项或者匹配send to Controller，Switch将给Controller发送packet-in消息</li><li><strong>Packet-out消息</strong>：从控制器回复的消息</li><li><strong>Flow-Removed消息</strong>：<ol><li>当给Switch增加一条表项时，会设定超时周期</li><li>当时间超时后，该条目就会被删除</li><li>Switch就会给Controller发送Flow-Removed消息</li><li>当流表中有条目要删除时，Switch也会给Controller发送该消息</li></ol></li><li><strong>Port-status消息</strong>：当数据路径接口被添加、删除、修改的时候，此消息用于通知控制器。</li></ul><h5 id="symmetric子类型：">Symmetric子类型：</h5><ul><li><strong>Hello消息</strong>：<ol><li>当一个OpenFlow连接建立时，Controller和Switch都会立刻向对端发送OFPT_HELLO消息，该消息中的version域填充发送方支持的OpenFlow协议最高的版本号</li><li>接收方收到该消息后，接收方会计算协议版本号，即在发送方和接收方的版本号中选择一个较小的</li><li>如果接收方支持该版本，则继续处理连接，连接成功</li><li>接收者回复一个OFPT_ERROR消息，类型域中填充ofp_error_type.OFPET_HELLO_FAILED</li></ol></li><li><strong>Echo消息</strong>： Switch和Controller任何一方都可以发起Echo request消息，但收到的一方必须回应Echo reply消息。这个消息可以来测量latency、Controller-Switch之间的连接性，即心跳消息；</li><li><strong>Error消息</strong>：当交换机需要通知控制器发生问题或错误时，Switch给Controller 发送Error消息</li></ul><h4 id="流表-flow-table-简介">流表 [Flow Table] 简介</h4><blockquote><p>OpenFlow交换机<strong>基于流表 [Flow Table] 转发报文</strong></p></blockquote><ul><li><p>流表一般是由OF控制器统一计算，然后下发到交换机</p></li><li><p>流表是变长的，拥有丰富的匹配规则和转发规则。一台网络设备有多张流表</p></li><li><p>每个流表项由<strong>匹配字段、优先级、计数器、指令、超时、Cookie、Flags</strong>这七部分组成</p></li></ul><p>关于转发的关键的两个内容是匹配字段和指令</p><ul><li>匹配字段是匹配规则，支持自定义</li><li>指令是用来描述匹配后的处理方式</li></ul><img src=".\SDN与NFV概述\流表项.png" style="zoom:50%;" /><ul><li><strong>Match Fields：流表项匹配项</strong>，可以匹配入接口、物理入接口，流表间数据，二层报文头，三层报文头，四层端口号等报文字段等</li><li><strong>Priority：流表项优先级</strong>，定义流表项之间的匹配顺序，优先级高的先匹配。</li><li><strong>Counters：流表项统计计数</strong>，统计有多少个报文和字节匹配到该流表项。</li><li><strong>Instructions：流表项动作指令集</strong>，定义匹配到该流表项的报文需要进行的处理。当报文匹配流表项时，每个流表项包含的指令集就会执行。这些指令会影响到报文、动作集以及管道流程。</li><li>Timeouts：流表项的超时时间，包括了Idle Time和Hard Time。<ul><li>Idle Time：在Idle Time时间超时后如果没有报文匹配到该流表项，则此流表项被删除</li><li>Hard Time：在Hard Time时间超时后，无论是否有报文匹配到该流表项，此流表项都会被删除</li></ul></li><li>Cookie：Controller下发的流表项的标识。</li><li>Flags：该字段改变流条目的管理方式。</li></ul><h3 id="sdn网络架构">SDN网络架构</h3><ul><li>SDN网络架构分为协同应用层、控制器层和设备层</li></ul><blockquote><p>不同层次通过开放接口连接。以控制器层为主要视角，区分<strong>面向设备层的南向接口</strong>和<strong>面向协同应用层的北向接口</strong></p></blockquote><img src="D:\blog\shierjinghuang\source\_posts\SDN与NFV概述\SDN网络.png" style="zoom:50%;" /><ul><li>协同应用层：主要完成用户意图的各种上层应用，典型的协同层应用包括OSS、OpenStack等<ul><li>OSS可以负责整网的业务协同，OpenStack云平台一般用于数据中心负责网络、计算、存储的业务协同</li></ul></li><li>控制器层：控制器层的实体就是SDN控制器，是SDN网络架构下最核心的部分。控制层是SDN系统的大脑，其核心功能是实现网络业务编排</li><li>设备层：网络设备接收控制器指令，执行设备转发</li><li>NBI北向接口：北向接口为控制器对接协同应用层的接口，主要为RESTful</li><li>SBI南向接口：南向接口为控制器与设备交互的协议，包括NETCONF、SNMP、OpenFlow、OVSDB</li></ul><h4 id="华为sdn网络架构">华为SDN网络架构</h4><p>华为SDN网络架构支持丰富的南北向接口，包括OpenFlow、OVSDB、NETCONF、PCEP、 RESTful 、SNMP、BGP、JsonRPC、RESTCONF等</p><img src=".\SDN与NFV概述\华为SDN网络架构.png" alt="华为SDN网络架构" style="zoom:50%;" /><ul><li><p>云平台：云数据中心内资源管理平台。云平台包含对网络资源、计算资源和存储资源的管理。OpenStack是最主流的开源云平台</p></li><li><p><strong>EMS [Element Management System，网元管理系统]</strong> 是管理特定类型的一个或多个**电信NE [Network Element，网络单元]**的系统</p></li><li><p><strong>Orchestration [容器编排]</strong>：容器编排工具也可以包含网络业务编排功能。Kubernetes是主流的工具</p></li><li><p>MTOSI/CORBA用于对接BSS/OSS</p></li><li><p>Kafka/SFTP可用于对接大数据平台</p></li></ul><h4 id="imaster-nce">iMaster NCE</h4><blockquote><p>iMaster NCE，自动驾驶网络管理与控制系统，是华为集管理、控制、分析和AI智能功能于一体的网络自动化与智能化平台</p></blockquote><h4 id="华为数据中心cloudfabric自动驾驶解决方案">华为数据中心CloudFabric自动驾驶解决方案</h4><blockquote><p>基于iMaster NCE-Fabric，为数据中心网络提供从规划-建设-运维-调优全生命周期服务</p></blockquote><ul><li>规建一体：规划工具对接NCE，实现规划建设一体化、<strong>ZTP [Zero Touch Provisioning，零配置开局]</strong></li><li>极简部署：业务意图自理解和转换部署、网络变更仿真评估，杜绝人为错误</li><li>智能运维：基于知识图谱和专家规则的快速故障发现定位、基于专家规则和仿真分析的快速故障恢复</li><li>实时调优：面向AI-Fabric的流量本地推理，在线模型训练调优、用户行为预测、资源调优建议</li></ul><h5 id="关键特性：极简ztp部署">关键特性：极简ZTP部署</h5><p>ZTP部署流程：</p><ol><li>网络管理员点击启动ZTP任务</li><li>设备自动获取IP地址访问控制器</li><li>控制器判断设备角色 [Spine or Leaf]，对上线设备下发管理IP、SNMP、NETCONF等配置，并通过管理IP纳管设备</li><li>控制器全局下发互联配置及OSPF、BGP等配置</li><li>设备上线成功，管理员NCE查看全网信息。</li></ol><h3 id="nfv概述">NFV概述</h3><p>网络功能虚拟化被称为<strong>NFV [Network Functions Virtualization]</strong> ，而虚拟化之后的网络功能被称为VNF [Virtualized Network Function]</p><p>NFV相关的标准组织主要有：</p><ul><li>ETSI NFV ISG：制定NFV的需求和功能框架</li><li>3GPP SA5工作组：重点关注3GPP网元的虚拟化管理（MANO相关）的技术标准和规范</li><li>OPNFV：加速NFV市场化节奏的开源平台项目</li></ul><p>NFV在重构电信网络的价值如下：缩短业务上线时间、降低建网成本、提升网络运维效率、构建开放的生态系统</p><h4 id="nfv关键技术">NFV关键技术</h4><ul><li>在NFV中，虚拟化是基础，云化是关键</li></ul><h5 id="nfv关键技术：虚拟化">NFV关键技术：虚拟化</h5><p>虚拟化具有<strong>分区、隔离、封装和相对于硬件独立</strong>的特征，能够很好匹配NFV的需求</p><ul><li>分区：在单一物理服务器上同时运行多个虚拟机</li><li>隔离：在同一服务器上的虚拟机之间相互隔离</li><li>封装：整个虚拟机都保存在文件中，而且可以通过移动和复制这些文件的方式来移动和复制该虚拟机</li><li>相对于硬件独立：无需修改即可在任何服务器上运行虚拟机</li></ul><h5 id="nfv关键技术：云化">NFV关键技术：云化</h5><blockquote><p>云计算是一种模型，它可以实现随时随地，便捷地，随需应变地从可配置计算资源共享池中获取所需的资源，资源能够快速供应并释放，使管理资源的工作量和与服务提供商的交互减小到最低限度</p></blockquote><p>云计算服务应该具备以下几条特征：</p><ul><li><strong>按需自助服务 [On-demand Self-service]</strong>：实现了IT资源的按需自助服务，不需要管理员介入即可申请和释放资源</li><li><strong>广泛网络接入 [Broad Network Access]</strong>：有网络即可随时、随地的使用</li><li><strong>资源池化 [Resource Pooling]</strong>：资源池中的资源包括网络、服务器、存储等资源，提供给用户使用</li><li><strong>快速弹性伸缩 [Rapid Elasticity]</strong>：资源能够快速的供应和释放。申请即可使用，释放立即回收资源</li><li><strong>可计量服务 [Measured Service]</strong>：计费功能。计费依据就是所使用的资源可计量</li></ul><p>运营商网络中网络功能的云化更多的是利用了<strong>资源池化</strong>和<strong>快速弹性伸缩</strong>两个特征</p><h4 id="nfv架构简介">NFV架构简介</h4><p>NFV架构分<strong>NFVI  [Network Functions Virtualization Infrastructure，基础设施层]</strong>、 <strong>VNF  [Virtualized Network Function，虚拟化网络功能层] <strong>和</strong>MANO [Management and Orchestration，管理编排域 ] ** ，同还要支持现有的</strong>BSS/OSS [Business support system/ Operation support system]**</p><img src=".\SDN与NFV概述\NFV架构.png" alt="NFV架构" style="zoom:50%;" /><p>NFV价值是通过设备归一和软硬件解耦实现资源的高效利用，可以降低运营商TCO，缩短业务上线时间，打造开放的产业生态</p><p>NFVI包含硬件层和虚拟化层，业界也有说法称作COTS和CloudOS：<br>COTS（commercial off-the-shelf，商用现货），即通用硬件，强调了易获得性和通用性。例如Huawei FusionServer系列硬件服务器。<br>CloudOS：设备云化的平台软件，可以理解为电信业的操作系统。CloudOS提供了硬件设备的虚拟化能力，将物理的计算/存储/网络资源变成虚拟资源供上层的软件使用。例如华为的云操作系统FusionSphere。<br>VNF：VNF可以理解为各种不同网络功能的APP，是运营商传统网元（IMS，EPC，BRAS，CPE…）的软件实现。<br>MANO：MANO的引入是要解决NFV多CT/IT厂家环境下的网络业务的发放问题，包括：分配物理/虚拟资源，垂直打通管理各层，快速适配对接新厂家新网元。MANO包括NFVO（Network Functions Virtualization Orchestrator，负责网络服务的生命周期的管理）、VNFM（Virtualized Network Function Manager, 负责VNF的生命周期管理）、VIM（Virtualized Infrastructure Manager，负责NFVI的资源管理）三部分。</p><h5 id="nfv的标准架构">NFV的标准架构</h5><p>ETSI定义了NFV标准架构，由NFVI、VNF以及MANO主要组件组成。NFVI包括通用的硬件设施及其虚拟化，VNF使用软件实现虚拟化网络功能，MANO实现NFV架构的管理和编排</p><h5 id="nfv架构功能模块">NFV架构功能模块</h5><p>NFV标准架构定义的主要功能模块：</p><img src=".\SDN与NFV概述\NFV标准架构定义的主要功能模块.png" alt="NFV标准架构定义的主要功能模块" style="zoom:50%;" /><ul><li>BSS：Business support system 业务支撑系统</li><li>OSS：Operation support system 运营支撑系统</li><li>Hypervisor：是一种运行在物理服务器和虚拟机操作系统之间的中间软件层，可允许多个操作系统和应用共享一套基础物理硬件。因此也可以看作是虚拟环境中的“元”操作系统，它可以协调访问服务器上的所有物理设备和虚拟机，也叫虚拟机监视器</li><li>Hypervisor是所有虚拟化技术的核心。目前主流的Hypervisor有KVM，VMWare ESXi，Xen，HyperV等</li></ul><h5 id="nfv架构接口">NFV架构接口</h5><p>NFV标准架构的主要接口：</p><table><thead><tr><th>接口类型</th><th>功能描述</th></tr></thead><tbody><tr><td>Vi-Ha</td><td>虚拟化层与基础硬件之间的接口。虚拟化层满足基础硬件兼容性要求</td></tr><tr><td>Vn-Nf</td><td>虚拟机与NFVI之间的接口。确保虚拟机可以部署在NFVI上，满足性能、可靠性和可扩展性要求，NFVI满足虚拟机操作系统兼容性要求</td></tr><tr><td>Nf-Vi</td><td>虚拟化层管理软件与NFVI之间的接口，提供NFVI虚拟计算、存储和网络系统管理，虚拟基础架构配置和连接与系统利用率、性能监控和故障管理</td></tr><tr><td>Ve-Vnfm</td><td>VNFM与VNF之间的接口，实现VNF生命周期管理、VNF配置、VNF性能和故障管理</td></tr><tr><td>OS-Ma</td><td>实现网络服务生命周期管理，VNF生命周期管理</td></tr><tr><td>Vi-Vnfm</td><td>提供业务应用管理系统/业务编排系统与虚拟化层管理软件之间交互接口</td></tr><tr><td>Or-Vnfm</td><td>给VNFM发送配置信息，对VNFM进行配置，完成Orchestrator与VNFM的对接；分配给一个VNF的NFVI资源的交互；VNF信息的交换</td></tr><tr><td>Or-Vi</td><td>Orchestrator需要的资源预定及资源分配的请求；虚拟硬件资源配置及状态信息的交换</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;[TOC]&lt;/p&gt;
&lt;p&gt;**SDN [Software Defined Networking 即软件定义网络]**是一种新型网络创新架构&lt;/p&gt;
&lt;p&gt;SDN核心理念通过将网络设备控制平面与数据平面分离，从而实现了网络控制平面的集中控制，为网络应用的创新提供了良好的支撑&lt;</summary>
      
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="HCIA" scheme="https://shierjinghuang.github.io/tags/HCIA/"/>
    
    <category term="SDN" scheme="https://shierjinghuang.github.io/tags/SDN/"/>
    
    <category term="NFV" scheme="https://shierjinghuang.github.io/tags/NFV/"/>
    
  </entry>
  
  <entry>
    <title>园区网典型组网架构及案例实践</title>
    <link href="https://shierjinghuang.github.io/2025/05/02/%E5%9B%AD%E5%8C%BA%E7%BD%91%E5%85%B8%E5%9E%8B%E7%BB%84%E7%BD%91%E6%9E%B6%E6%9E%84%E5%8F%8A%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5/"/>
    <id>https://shierjinghuang.github.io/2025/05/02/%E5%9B%AD%E5%8C%BA%E7%BD%91%E5%85%B8%E5%9E%8B%E7%BB%84%E7%BD%91%E6%9E%B6%E6%9E%84%E5%8F%8A%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5/</id>
    <published>2025-05-02T05:39:53.000Z</published>
    <updated>2025-05-02T12:58:06.604Z</updated>
    
    <content type="html"><![CDATA[<h2 id="园区网典型组网架构及案例实践">园区网典型组网架构及案例实践</h2><h3 id="园区网络基本概念">园区网络基本概念</h3><blockquote><p>园区网络是限定区域内，连接人与物的局域网络</p></blockquote><ul><li>园区网络通常只有一个管理主体，如果有多个管理主体，通常被认为为多个园区网络</li></ul><img src=".\园区网典型组网架构及案例实践\园区网络架构.png" style="zoom:50%;" /><p>园区网络使用的典型局域网技术包括遵循IEEE 802.3 标准的<strong>Ethernet 技术</strong> 和遵循IEEE 802.11 标准的<strong>Wi-Fi 技术</strong></p><h4 id="园区网络典型架构">园区网络典型架构</h4><img src=".\园区网典型组网架构及案例实践\园区网络详细架构.png" style="zoom:50%;" /><p><strong>园区网络典型层次和区域：</strong></p><ul><li>核心层：是园区网骨干，是园区数据交换的核心，联接园区网的各个组成部分，如<strong>数据中心、管理中心、园区出口</strong>等</li><li>汇聚层：处于园区网的中间层次，完成数据汇聚或交换的功能，可以提供一些关键的网络基本功能，如路由、 QoS、安全等</li><li>接入层：为终端用户提供园区网接入服务，是园区网的边界</li><li>出口区：园区内部网络到外部网络的边界，用于实现内部用户接入到公网，外部用户接入到内部网络。一般会在此区域中部署大量的网络安全设备来抵御外部网络的攻击，如<strong>IPS [intrusion prevention system，入侵防御系统]</strong>、<strong>Anti-DDoS设备</strong>、<strong>Firewall</strong>等</li><li>数据中心区：部署服务器和应用系统的区域，为企业内部和外部用户提供数据和应用服务</li><li>网络管理区：部署网络管理系统的区域，包括<strong>SDN控制器，无线控制器，eLOG [日志服务器]</strong> 等，管理监控整个园区网络</li></ul><h5 id="小型园区网络典型架构">小型园区网络典型架构</h5><img src=".\园区网典型组网架构及案例实践\小型园区网络.png" style="zoom:50%;" /><ul><li>小型园区网络特点：<ul><li>用户数量较少：小型园区网络应用于接入用户数量较少的场景，一般支持几个至几十个用户</li><li>仅单个地点：网络覆盖范围也仅限于一个地点</li><li>网络无层次性：网络不分层次结构</li><li>网络需求简单：网络建设的目的常常就是为了满足内部资源互访</li></ul></li></ul><h5 id="中型园区网络典型架构">中型园区网络典型架构</h5><img src=".\园区网典型组网架构及案例实践\中型园区网络典型架构.png" alt="中型园区网络典型架构" style="zoom:50%;" /><p><strong>中型园区网络特点</strong>：</p><ul><li>规模中等：中型园区网络能够支撑几百至上千用户的接入</li><li>使用场合最多</li><li>功能分区：<ul><li>中型网络引入了按功能进行分区的理念，也就是模块化的设计思路，但功能模块相对较少</li><li>一般根据业务需要进行灵活分区</li></ul></li><li>一般采用三层网络结构：核心、汇聚、接入</li></ul><h5 id="大型园区网络典型架构">大型园区网络典型架构</h5><p>大型园区网络可能是覆盖多幢建筑的网络，也可能是通过WAN连接一个城市内的多个园区的网络。一般会提供接入服务，允许出差员工通过VPN等技术接入公司内部网络。</p><ul><li>大型园区网络特点：覆盖范围广、用户数量多、网络需求复杂、功能模块全、网络层次丰富</li></ul><h3 id="典型园区网络建设流程">典型园区网络建设流程</h3><h4 id="园区网络项目生命周期">园区网络项目生命周期</h4><h5 id="规划与设计">规划与设计</h5><ul><li>设备选型、物理拓扑、逻辑拓扑、使用技术与协议等</li></ul><h5 id="部署与实施">部署与实施</h5><ul><li>设备安装、单机调测、联调测试、割接并网等</li></ul><p><strong>网络运维</strong></p><ul><li>日常维护、软件与配置备份、集中式网管监控、软件升级等</li></ul><p><strong>网络优化</strong></p><ul><li>提升网络的安全性、软件与配置备份、提升网络的用户体验等</li></ul><h4 id="小型园区网络设计">小型园区网络设计</h4><img src=".\园区网典型组网架构及案例实践\园区网络设计.png" style="zoom:50%;" /><p><strong>基础业务设计：IP地址设计</strong></p><p><strong>业务IP地址</strong>：业务IP地址是服务器、主机以及网关的IP地址</p><ul><li>网关IP地址推荐统一使用相同的末位数字</li><li>各业务IP地址范围要清晰区分，每一类业务终端IP地址连续、可聚合</li><li>建议使用掩码为24位的IP地址段</li></ul><p><strong>管理IP地址</strong></p><ul><li>二层设备使用VLANIF地址作为管理IP地址，建议网关下的所有二层交换机使用同一网段</li></ul><p><strong>网络设备互联IP地址</strong></p><ul><li>互联IP地址推荐使用30位掩码的IP地址，核心设备使用主机地址较小的IP地址</li></ul><p><strong>基础业务设计：路由设计</strong></p><p>中小型园区网络的路由设计包括<strong>园区内部的路由设计、园区出口与Internet/广域设备之间的路由设计</strong></p><p>园区内部的路由设计：主要满足园区内部设备/终端的互通需求，并且可以与外部路由交互。由于中小型园区的网络规模比较小，网络结构也比较简单</p><ul><li>AP设备：通过DHCP分配IP地址后默认会生成一条缺省路由</li><li>交换机、网关设备：通过静态路由即可满足需求，无需部署复杂的路由协议</li></ul><p>园区出口的路由设计：出口路由设计主要满足园区内部用户访问Internet和广域网的需求。出口设备与 Internet或者WAN连接时，建议在出口设备上配置静态路由来满足需求。</p><p><strong>基础业务设计：VLAN设计</strong></p><ul><li>VLAN编号建议连续分配，以保证VLAN资源合理利用</li><li>VLAN划分需要区分业务VLAN、 管理VLAN和互联VLAN</li><li>最常用的划分方式是基于接口的方式</li></ul><p><strong>基础业务设计：IP地址分配方式设计</strong></p><ol><li>出口网关设备： WAN侧接口的IP地址由运营商进行分配，可以通过静态IP地址、 DHCP、 或者PPPoE方式分配，对于出口网关的IP地址需要提前与运营商沟通获取</li><li>服务器、特殊终端设备建议采用静态IP地址绑定方式分配</li><li>用户终端：用户办公用PC、IP电话等设备建议通过在网关设备上部署DHCP Server后，通过DHCP方式分配</li></ol><p><strong>WLAN组网设计</strong></p><p>根据AC和AP的IP地址情况，以及数据流量是否流经AC，可将组网划分为：</p><ul><li>直连二层组网、旁挂二层组网、直连三层组网、旁挂三层组网</li></ul><p><strong>WLAN数据转发方式设计</strong>：WLAN中的数据包括控制报文和数据报文</p><ul><li>控制报文通过CAPWAP隧道转发</li><li>用户数据报文分为隧道转发、直接转发</li></ul><p><strong>可靠性设计</strong>：</p><ul><li><strong>端口级别的可靠性</strong>：为了增加接入交换机与汇聚交换机之间的可靠性，同时为了增加链路带宽，采用以太网链路聚合技术</li><li><strong>设备级别的可靠性</strong>：可以采用iStack或者CSS技术</li></ul><p><strong>安全设计</strong></p><ol><li><p>流量管控</p><ul><li>允许部门之间的流量互访，但不允许访问Internet</li><li>访客可以访问Internet但不能访问园区内部网络</li><li>可以用过traffic-policy、traffic-filter等技术完成内外网隔离，通过NAT控制内部网络访问Internet</li></ul></li><li><p>DHCP安全</p><ul><li>在园区网中，经常会出现有员工私接带DHCP的无线路由器，导致内网地址混乱，出现地址冲突、无法上网等情况。一般会在接入交换机使能DHCP Snooping防止这种情况</li></ul></li><li><p>网络管理安全</p><ul><li>当使用Telnet或WEB等方式对设备进行网络管理时，可以通过ACL技术，仅允许固定的用户登录管理</li><li>对于集中式网管，SNMPv3增加了身份验证和加密处理，可以大大提高网管的安全性</li></ul></li></ol><p><strong>运维管理设计</strong></p><ul><li><p><strong>传统设备管理</strong></p><ul><li>保证网络管理员与设备IP可达的情况下，可以通过Telnet、WEB以及SSH等方式对设备进行管理</li><li>当网络中设备较多时，可部署基于SNMP协议的统一网管软件进行网络的运维与管理</li></ul></li><li><p><strong>基于iMaster NCE平台管理</strong></p><ul><li>除了基于SNMP的传统网管之外，也可采用iMaster NCE平台进行网络的管理和运维</li></ul></li></ul><h4 id="小型园区网络部署与实施">小型园区网络部署与实施</h4><p>项目的部署与实施需要按照一定流程进行，内容包括：</p><ul><li>方案制定、设备安装、网络调试、割接并网、转维培训、项目验收</li></ul><p><strong>配置方案：</strong></p><ol><li>网络设备之间物理线路连接，配置链路聚合，同时添加接口描述</li><li>VLAN配置</li><li>IP地址配置</li><li>IP地址分配方式配置</li><li>路由配置</li><li>网络管理配置</li><li>网络出口配置</li><li>WLAN配置</li><li>安全相关配置</li></ol><h4 id="小型园区网络调试">小型园区网络调试</h4><img src=".\园区网典型组网架构及案例实践\小型园区网络调试.png" style="zoom:50%;" /><h4 id="小型园区网络运维">小型园区网络运维</h4><p>项目上线运行之后，就进入到了运维阶段，常见的运维手段包括：</p><ul><li>设备环境检查、设备基本信息检查、设备运行状态检查、业务检查、告警处理</li></ul><blockquote><p>当网络达到一定规模，可以采用网络管理软件进行管理和运维，提升效率</p></blockquote><h4 id="小型园区网络优化">小型园区网络优化</h4><p>通过网络优化，能够提升网络的可靠性、健壮性，更好的支撑企业业务的发展。常见的优化方案包括但不限于：</p><ul><li>设备性能优化，如升级硬件设备、更新设备软件版本等</li><li>网络基础优化，如网络架构优化、路由协议调整等</li><li>业务质量优化，如针对语音、视频业务的优先转发等</li></ul><p>应从网络需求出发，结合实际情况制定适合的优化方案</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;园区网典型组网架构及案例实践&quot;&gt;园区网典型组网架构及案例实践&lt;/h2&gt;
&lt;h3 id=&quot;园区网络基本概念&quot;&gt;园区网络基本概念&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;园区网络是限定区域内，连接人与物的局域网络&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li</summary>
      
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="HCIA" scheme="https://shierjinghuang.github.io/tags/HCIA/"/>
    
  </entry>
  
  <entry>
    <title>MPLS VPN相关知识</title>
    <link href="https://shierjinghuang.github.io/2025/04/23/MPLS-VPN%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/"/>
    <id>https://shierjinghuang.github.io/2025/04/23/MPLS-VPN%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</id>
    <published>2025-04-23T00:19:43.000Z</published>
    <updated>2025-04-24T13:11:31.086Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1>MPLS VPN相关知识</h1><blockquote><p><strong>VPN [Virtual Private Network，虚拟专用网络]</strong> 指的是在一个公共网络中实现虚拟的专用网络，从而使得用户能够基于该专用网络实现通信的技术</p></blockquote><blockquote><p>MPLS VPN也是VPN技术中的一种。本章所介绍的MPLS VPN指的是BGP/MPLS IP VPN，这是一种被业界广泛使用的三层VPN</p></blockquote><h2 id="mpls-vpn原理与配置">MPLS VPN原理与配置</h2><h3 id="mpls-vpn概述">MPLS VPN概述</h3><blockquote><p>BGP/MPLS IP VPN网络一般由运营商搭建，VPN用户购买VPN服务来实现用户网络之间的路由传递、数据互通等</p></blockquote><p>MPLS VPN使用BGP在<strong>运营商骨干网</strong>上发布VPN路由，<strong>使用MPLS在运营商骨干网上转发VPN报文</strong></p><p>BGP/MPLS IP VPN又被简称为MPLS VPN，是一种常见的<strong>L3VPN [Layer 3 VPN] 技术</strong></p><h4 id="mpls-vpn网络架构">MPLS VPN网络架构</h4><p>MPLS VPN网络架构由三部分组成：<strong>CE [Customer Edge]</strong> 、<strong>PE [Provider Edge]</strong> 和<strong>P [Provider]</strong> ，其中PE和P是运营商设备，CE是MPLS VPN用户设备</p><p><strong>站点 [site]</strong> 就是MPLS VPN的用户，由CE和其他用户设备构成</p><ul><li><strong>CE：用户网络边缘设备 [Customer Edge]</strong>，有接口直接与运营商网络相连<ul><li>CE可以是路由器或交换机，也可以是一台主机。通常情况下，CE感知不到VPN的存在，不需要支持MPLS</li></ul></li><li><strong>PE：运营商边缘路由器 [Provider Edge]</strong>，是运营商网络的边缘设备，与CE直接相连<ul><li>在MPLS网络中，对VPN的所有处理都发生在PE上，对PE性能要求较高</li></ul></li><li><strong>P：运营商网络中的骨干路由器 [Provider]</strong>，不与CE直接相连<ul><li>P设备只需要具备基本MPLS转发能力，不维护VPN相关信息</li></ul></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\MPLS VPN网络架构.png" alt="MPLS VPN网络架构" style="zoom:50%;" /><p>站点的含义可以从下述几个方面理解：</p><ul><li><p><strong>站点是指相互之间具备IP连通性的一组IP系统</strong>，并且这组IP系统的IP连通性不需通过运营商网络实现</p></li><li><p><strong>站点的划分是根据设备的拓扑关系</strong>，而不是地理位置</p></li></ul><p><strong>站点与VPN的关系</strong>：</p><ul><li>对于多个连接到同一服务提供商网络的站点，通过制定策略，可以将它们划分为不同的集合，只有属于相同集合的站点之间才能通过服务提供商网络互访，这种集合就是VPN</li><li>一个Site中的设备可以属于多个VPN，换言之，<strong>一个Site可以属于多个VPN</strong></li><li>出现站点为一台主机的情况，此时该主机就是CE设备</li></ul><h4 id="mpls-vpn技术架构">MPLS VPN技术架构</h4><p>MPLS VPN不是单一的一种VPN技术，是<strong>多种技术结合的综合解决方案</strong>，主要包含下列技术：</p><ul><li><strong>MP-BGP</strong>：负责在PE与PE之间传递站点内的路由信息</li><li><strong>LDP</strong>：负责PE与PE之间的隧道建立</li><li><strong>VRF</strong>：负责PE的VPN用户管理</li><li><strong>静态路由、IGP、BGP</strong>：负责PE与CE之间的路由信息交换</li></ul><h4 id="mpls-vpn的优势">MPLS VPN的优势</h4><ul><li>对VPN客户而言：<ul><li>感知不到VPN的存在，不需要部署和维护VPN，降低企业运维难度和成本</li><li>一般部署在运营商的MPLS VPN专网上，有一定的安全性保障</li></ul></li><li>对于运营商而言：<ul><li>MPLS在无连接的IP网络中增加了面向连接的控制平面，为IP网络增添了管理和运营的手段</li><li>支持地址空间重叠、支持重叠VPN、组网方式灵活、可扩展性好</li><li>能够方便地支持MPLS TE合理调控现有网络资源，最大限度的节省运营商成本</li></ul></li></ul><p><strong>补充：</strong></p><p><strong>MPLS TE [MPLS Traffic Engineering，MPLS流量工程]</strong> ：基于一定约束条件LSP隧道，并将流量引入到这些隧道中进行转发，使网络流量按照指定的路径进行传输</p><ul><li>可以在不进行硬件升级的情况下对现有网络资源进行合理调配和利用，并对网络流量提供带宽和QoS保证，最大限度的节省成本</li></ul><h5 id="mpls-vpn常见组网">MPLS VPN常见组网</h5><p>根据VPN用户的需求不同，可采用以下几种常见的组网方案：</p><ul><li><strong>Intranet</strong>：一个VPN中的所有用户形成闭合用户群，<strong>同一VPN站点之间可以互访，不同VPN站点间不能互访</strong></li><li><strong>Extranet</strong>：<strong>适用于一个VPN用户希望提供部分本VPN的站点资源给其他VPN的用户访问的场景</strong></li><li><strong>Hub&amp;Spoke</strong>：如果希望在VPN中设置中心访问控制设备，其它用户的互访都通过中心访问控制设备进行，可采用Hub&amp;Spoke组网方案</li></ul><h3 id="mpls-vpn路由交互">MPLS VPN路由交互</h3><p><strong>MPLS VPN控制层面</strong>：</p><ul><li>通过VRF和RD隔离不同用户的私网路由信息并构建唯一的VPNv4路由</li><li>通过RT值控制VPNv4路由的发布和接收</li><li>通过MP-BGP传递VPNv4路由前缀、标签以及RT等信息</li><li>通过MPLS LDP构建公网标签转发路径</li></ul><p><strong>MPLS转发层面</strong>：通过内外两层标签进行数据转发，内层标签区分私网数据，外层标签穿通公网网络</p><h4 id="mpls-vpn路由发布概述">MPLS VPN路由发布概述</h4><p>在基本MPLS VPN组网中，VPN路由信息的发布涉及CE和PE，P路由器只维护骨干网的路由，不需要了解任何VPN路由信息。VPN路由信息的发布过程包括三部分：</p><ul><li><strong>本地CE到入口PE、入口PE到出口PE、出口PE到远端CE</strong></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\路由信息的发布过程.png" style="zoom:50%;" /><h4 id="ce与pe之间的路由信息交换">CE与PE之间的路由信息交换</h4><ul><li>CE与PE之间可以使用静态路由、OSPF、IS-IS或BGP交换路由信息。无论使用哪种路由协议，CE和PE之间交换的都是<strong>标准的IPv4路由</strong></li><li>本地CE到入口PE和出口PE到远端CE的路由信息交换原理完全相同</li></ul><h4 id="入口pe到出口pe路由传递">入口PE到出口PE路由传递</h4><h5 id="一-不同的客户使用重叠ip地址空间的问题">一、不同的客户使用重叠IP地址空间的问题</h5><blockquote><p>PE在接收到CE传递来的路由之后，需要独立保存不同VPN的路由，且需要<strong>解决不同的客户使用重叠IP地址空间的问题</strong></p></blockquote><p>解决不同的客户使用重叠IP地址空间的问题产生的原因</p><p>VPN是一种私有网络，不同的VPN独立管理自己的地址范围，也称为<strong>地址空间 [Address Space]</strong></p><p>不同VPN的地址空间可能会在一定范围内重合，这就发生了<strong>地址空间的重叠 [Address Spaces Overlapping]</strong></p><p>以下两种情况允许VPN使用重叠的地址空间：</p><ul><li>两个VPN没有共同的站点</li><li>两个VPN有共同的站点，但此共同站点中的设备不与两个VPN中使用重叠地址空间的设备互访</li></ul><p><strong>VRF [Virtual Routing and Forwarding，虚拟路由转发]</strong> ，又称VPN实例，是MPLS VPN架构中的关键技术，每个VPN实例使用独立的路由转发表项，实现VPN之间的逻辑隔离</p><p>**RD [ Route Distinguisher，路由标识符 ] **</p><ul><li>RD长8字节，用于区分使用相同地址空间的IPv4前缀</li><li>PE从CE接收到IPv4路由后，在IPv4前缀前加上RD，转换为全局唯一的VPN-IPv4路由</li></ul><blockquote><p>配置RD时，只需要指定RD的Administrator子字段和Assigned Number子字段</p></blockquote><p>RD的配置格式有四种，常用的两种如下：</p><ul><li>16bits自治系统号:32bits用户自定义数字</li><li>32bits IPv4地址:16bits用户自定义数字</li></ul><p>RD的结构使得每个运营商可以独立地分配RD，但为了在某些应用场景下保证路由正常，<strong>必须保证RD全局唯一</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\RD报文结构.png" style="zoom:50%;" /><p><strong>VPN-IPv4地址</strong></p><p>VPN-IPv4地址称为<strong>VPNv4地址</strong>：VPNv4地址共有12个字节，包括8字节的<strong>路由标识符RD [Route Distinguisher]</strong> 和4字节的IPv4地址前缀</p><h5 id="二-通过bgp进行路由传递">二、通过BGP进行路由传递</h5><blockquote><p>PE之间建立BGP邻居关系，并通过BGP进行路由传递</p></blockquote><p>采用BGP的优势：</p><ul><li>BGP使用TCP作为其传输层协议，提高了协议的可靠性。可以跨路由器的两个PE设备之间直接交换路由</li><li>BGP拓展性强，为PE间传播VPN路由提供了便利</li><li>PE之间需要传送的路由条目可能较大，BGP只发送更新的路由，提高传递路由数量且不占用过多链路带宽</li></ul><blockquote><p>传统的BGP-4不支持处理VPNv4路由</p></blockquote><p><strong>MP-BGP</strong></p><blockquote><p>为了正确处理VPN路由，MPLS VPN使用[RFC2858 Multiprotocol Extensions for BGP-4] 中规定的MP-BGP，即BGP-4的多协议扩展</p></blockquote><p><strong>MP-BGP采用地址族 [Address Family]</strong> 来区分不同的网络层协议，既可以支持传统的IPv4地址族，又可以支持其它地址族</p><p>MP-BGP新增了两种路径属性：</p><ul><li><strong>MP_REACH_NLRI：Multiprotocol Reachable NLRI</strong>，<strong>多协议可达NLRI</strong>。用于发布可达路由及下一跳信息</li><li><strong>MP_UNREACH_NLRI：Multiprotocol Unreachable NLRI</strong>，<strong>多协议不可达NLRI</strong>。用于撤销不可达路由</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\MP-BGP两种路径属性.png" style="zoom:50%;" /><ul><li><p>NLRI：Network Layer Reachability Information，网络层可达信息</p></li><li><p>MP_REACH_NLRI用于发布可达路由及下一跳信息。该属性由一个或多个三元组&lt;地址族信息、下一跳信息、网络可达性信息&gt;组成，格式如下：</p><ul><li>地址族信息域 [Address Family Information] ：由2字节的<strong>地址族标识AFI</strong> [Address Family Identifier] 和1字节的<strong>子地址族标识SAFI</strong> [Subsequent Address Family Identifier] 组成<ul><li>AFI标识网络层协议，对应RFC3232的Address Family Number所定义的地址族值<ul><li>IPv4的值是1，IPv6的值是2</li></ul></li><li>SAFI表示NLRI的类型。AFI值为1，SAFI值为128表示NLRI中的地址为MPLS-labeled VPN-IPv4地址</li></ul></li><li><strong>下一跳信息域 [Next Hop Network Address Information]</strong> ：由一字节的下一跳网络地址长度和可变长度的下一跳网络地址组成</li><li><strong>网络层可达性信息域 [NLRI]</strong> ：由一个或多个三元组&lt;长度、标签、前缀&gt;组成，该部分内容将在后面的课程里详细介绍</li></ul></li></ul><blockquote><p>MP_UNREACH_NLRI用于通知对等体删除不可达的路由</p></blockquote><p>该属性的格式如下：</p><ul><li>地址族标识AFI：与MP_REACH_NLRI属性中的相同</li><li>子地址族标识SAFI：与MP_REACH_NLRI属性中的相同，表示NLRI的类型</li><li><strong>撤销路由 [Withdrawn Routes]</strong> ：不可达路由列表，也是由一个或多个NLRI组成。BGP发言者可以通过在撤销路由域中携带与之前发布的可达路由中相同的NLRI来撤销路由</li></ul><p>MP-BGP的报文类型、VPNv4路由发布策略仍与普通BGP相同</p><h5 id="三-mp-bgp将vpnv4传递到远端pe">三、MP-BGP将VPNv4传递到远端PE</h5><p>MP-BGP将VPNv4传递到远端PE之后，远端PE需要将VPNv4路由导入正确的VPN实例</p><blockquote><p>MPLS VPN使用<strong>BGP扩展团体属性－VPN Target</strong> [也称为Route Target] 来控制VPN路由信息的发布与接收</p></blockquote><p>本地PE在发布VPNv4路由前附上RT属性，对端PE在接到VPNv4路由后根据RT将路由导入对应的VPN实例</p><p><strong>BGP扩展团体属性 RT</strong></p><p>与RD相同，RT由Type、Administrator和Assigned Number三个字段构成，长度也是8字节</p><ul><li>配置VPN-Target时，只需要指定VPN-Target的Administrator子字段和Assigned Number子字段</li><li>VPN-Target的配置格式与RD格式一致</li></ul><p>在PE上，每一个VPN实例都会与一个或多个VPN Target属性绑定，有两类VPN Target属性：</p><ul><li><strong>Export Target [ERT]</strong> ：本地PE从直接相连站点学到IPv4路由后，转换为VPN IPv4路由，并为这些路由添加Export Target属性<ul><li>Export Target属性作为BGP的扩展团体属性随路由发布</li></ul></li><li><strong>Import Target [IRT]</strong> ：PE收到其它PE发布的VPN-IPv4路由时，检查其Export Target属性<ul><li>当此属性与PE上某个VPN实例的Import Target匹配时，PE就把路由加入到该VPN实例的路由表</li></ul></li></ul><h5 id="四-pe根据vpnv4路由所携带的rt将路由导入正确的vpn实例之后">四、PE根据VPNv4路由所携带的RT将路由导入正确的VPN实例之后</h5><p>PE根据VPNv4路由所携带的RT将路由导入正确的VPN实例之后，VPNv4路由的RD值剥除，将IPv4路由通告给相应的客户的CE设备</p><blockquote><p>外层标签 [公网标签] 由LDP为VPN路由的NextHop [一般是PE的某个接口地址]分发，P根据外层标签转发数据到PE</p></blockquote><blockquote><p>内层标签 [私网标签] 由PE的MP-BGP为VPN路由分发。PE根据内层标签确定数据所属的VPN</p></blockquote><h5 id="五">五、</h5><ul><li>PE和P设备之间运行LDP，交换公网标签，建立PE之间的LSP隧道 [公网隧道]</li><li>入口PE在通过MP-BGP传递VPNv4路由时，会携带私网标签，用于区分不同VPN的数据</li><li>出口PE在接收到VPNv4路由后，需要执行私网路由交叉和隧道迭代来选择路由</li></ul><p>PE上分配私网标签的方法有如下两种：</p><p><strong>基于路由的MPLS标签分配</strong>：为VPN路由表的每一条路由分配一个标签 [one label per route ]</p><ul><li>缺点：当路由数量较多时，<strong>设备入标签映射表ILM [Incoming Label Map]</strong> 需要维护的表项也会增多，从而提高了对设备容量的要求</li></ul><p><strong>基于VPN实例的MPLS标签分配</strong>：为整个VPN实例分配一个标签，该VPN实例里的所有路由都共享一个标签</p><ul><li>优点：节约标签</li></ul><p><strong>私网路由交叉</strong>：VPNv4路由与本地VPN实例的VPN-Target进行匹配的过程称为私网路由交叉。PE在收到VPNv4路由后，既不进行优选，也不检查隧道是否存在，直接将其与本地的VPN实例进行交叉</p><p><strong>隧道迭代</strong>：为了将私网流量通过公网传递到另一端，需要有一条公网隧道承载这个私网流量。因此私网路由交叉完成后，需要根据目的IPv4前缀进行路由迭代，即该IPv4路由的下一跳有对应的LSP存在；只有隧道迭代成功，该路由才被放入对应的VPN实例路由表</p><h4 id="mpls-vpn中的路由交互全过程">MPLS VPN中的路由交互全过程</h4><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\MPLS VPN中的路由交互全过程.png" style="zoom:50%;" /><ol><li>IGP或者EBGP交换私网IPv4路由</li><li>客户私网路由被学习到VPN路由表中 [VPN实例路由表]</li><li>IPv4路由引入到MP-BGP，RD被添加到IPv4路由上，构成VPNv4路由</li><li>VPNv4路由被PE1通过MP-IBGP的Update消息通告给PE2<ul><li>Update消息携带着MP_REACH_NLRI属性（包含VPNv4路由前缀，下一跳和标签等重要信息）和RT属性</li></ul></li><li>PE2根据RT将路由导入特定的VRF，同时将VPNv4路由的RD剥除，将IPv4路由通告给相应的客户的CE设备</li><li>客户IPv4路由被通告给CE设备</li></ol><h4 id="小结">小结</h4><p>在MPLS VPN中，PE与CE，PE与PE之间需要进行VPN路由信息的传递</p><ul><li>PE与CE之间可以采用BGP、IGP以及静态路由方式交互IPv4路由信息</li><li>PE与PE之间通过MP-BGP交互VPNv4路由信息，包含：<ul><li>RD：与IPv4前缀组合组成VPNv4前缀</li><li>RT：用于控制PE之间路由信息的接收和发布</li><li>标签：数据转发时的内层（私网）标签，在PE上用来区分不同VPN的数据</li></ul></li></ul><h3 id="mpls-vpn报文转发">MPLS  VPN报文转发</h3><p>以图中用户X的站点B访问站点A的192.168.1.0/24网段为例，报文转发过程如下：</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\报文转发过程.png" alt="报文转发过程" style="zoom:50%;" /><ol><li>CE3上存在到192.168.1.0/24网段路由，发送一个普通IP报文</li><li>PE2根据报文入接口找到VPN实例，查找对应VPN的转发表</li><li>匹配目的IPv4前缀，并打上对应的<strong>内层标签 [I-L]</strong></li><li>根据下一跳地址，查找对应的Tunnel-ID</li><li>将报文从隧道发送出去，即<strong>打上公网 [外层] MPLS标签头 [O-L1]</strong></li><li>骨干网的所有P设备都对该报文进行外层标签交换，直到到达PE1</li><li>PE1收到该携带两层标签的报文，交给MPLS处理，MPLS协议将去掉外层标签</li><li>PE1继续处理内层标签：根据内层标签确定对应的下一跳，并将内层标签剥离后，以纯IPv4报文的形式发送给CE1</li><li>CE1收到该IPv4报文后，进行常规的IPv4处理流程</li></ol><h3 id="mpls-vpn配置与实现">MPLS VPN配置与实现</h3><h4 id="vpn实例配置">VPN实例配置</h4><p><strong>1. 创建VPN实例或进入VPN实例视图</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE]</span> ip vpn<span class="token operator">-</span>instance vpn<span class="token operator">-</span>instance<span class="token operator">-</span>name<span class="token comment">#缺省情况下，未配置VPN实例</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td>vpn-instance-name</td><td>指定VPN实例的名称</td></tr></tbody></table><p><strong>2. 使能VPN实例的IPv4地址族或进入VPN实例IPv4地址族视图</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-vpn-instance-InstanceName]</span> ipv4<span class="token operator">-</span>family <span class="token comment">#缺省情况下，未使能VPN实例的IPv4地址族</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>3. 为VPN实例地址族配置路由标识RD</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-vpn-instance-InstanceName]</span> route<span class="token operator">-</span>distinguisher route<span class="token operator">-</span>distinguisher <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>RD常见格式有两种：<ul><li><strong>2字节自治系统号</strong>:4字节用户自定义数</li><li><strong>IPv4地址</strong>:2字节用户自定义数</li></ul></li><li>无论采用哪种格式，必须保证RD值全局唯一</li><li>VPN实例地址族下一旦配置RD后，RD将不能被修改或删除。如果要修改，需要去使能VPN实例相应的地址族或者删除VPN实例，然后再重新配置</li></ul><p><strong>4. 配置VPN实例的VPN-Target属性</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-vpn-instance-InstanceName]</span> vpn<span class="token operator">-</span>target vpn<span class="token operator">-</span>target &amp;&lt;1<span class="token operator">-</span>8> <span class="token punctuation">[</span> both <span class="token punctuation">|</span> <span class="token function">export-extcommunity</span> <span class="token punctuation">|</span> <span class="token function">import-extcommunity</span> <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>vpn-target命令用来配置VPN实例地址族入方向或出方向的VPN-Target扩展团体属性</p><ul><li>VPN-Target的格式与RD一致</li><li>一条vpn-target命令一次最多可配置8个VPN-Target。如希望配置更多的VPN-Target，可以多次使用vpn-target命令</li></ul><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td>vpn-target</td><td>指定vpn-target添加到VPN实例地址族的VPN-Target扩展团体列表</td></tr><tr><td><strong>both</strong></td><td>指定vpn-target添加到VPN实例地址族的入方向和出方向VPN-Target扩展团体属性列表中如果用户不指定关键字<strong>both</strong>、<strong>export-extcommunity</strong>、<strong>import-extcommunity</strong>，则缺省为<strong>both</strong></td></tr><tr><td><strong>export-extcommunity</strong></td><td>指定vpn-target添加到VPN实例地址族的出方向VPN-Target扩展团体属性列表中</td></tr><tr><td><strong>import-extcommunity</strong></td><td>指定vpn-target添加到VPN实例地址族的入方向VPN-Target扩展团体属性列表中</td></tr></tbody></table><p><strong>5. 将接口绑定到VPN实例</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-GigabitEthernet0/0/0]</span>ip binding vpn<span class="token operator">-</span>instance vpn<span class="token operator">-</span>instance<span class="token operator">-</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ip binding vpn-instance命令用来将PE上的接口与VPN实例绑定。缺省情况下，接口不与任何VPN实例绑定，属于根实例。配置接口与VPN实例绑定后，或取消接口与VPN实例的绑定，都会清除该接口的IP地址、三层特性和IP相关的路由协议，如果需要应重新配置</p><h4 id="mp-bgp配置">MP-BGP配置</h4><p><strong>1. BGP基本配置</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE]</span> bgp <span class="token punctuation">&#123;</span> as<span class="token operator">-</span>number<span class="token operator">-</span>plain <span class="token punctuation">|</span> as<span class="token operator">-</span>number<span class="token operator">-</span>dot <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>参数</th><th>参数说明</th><th>取值</th></tr></thead><tbody><tr><td>as-number-plain</td><td>指定整数形式的AS号</td><td>整数形式，取值范围是1-4294967295</td></tr><tr><td>as-number-dot</td><td>指定点分形式的AS号</td><td>格式为x.y，x的取值范围是1-65535，y的取值范围是0-65535</td></tr></tbody></table><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp]</span> peer ipv4<span class="token operator">-</span>address as<span class="token operator">-</span>number as<span class="token operator">-</span>number<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp]</span> peer ipv4<span class="token operator">-</span>address <span class="token function">connect-interface</span> loopback interface<span class="token operator">-</span>number<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>PE之间必须使用32位掩码的Loopback接口地址来建立MP-IBGP对等体关系，以便能够迭代到隧道</p><p><strong>2. 使能与指定MP-BGP对等体之间交换VPNv4路由信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp]</span> ipv4<span class="token operator">-</span>family vpnv4 <span class="token punctuation">[</span> unicast <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp-af-vpnv4]</span> peer ipv4<span class="token operator">-</span>address enable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>缺省情况下，只有BGP-IPv4单播地址族的对等体是自动使能的。即在BGP视图下配置peer as-number命令后，系统会自动配置相应的peer enable命令。其他地址族视图下都必须手动使能</p><p><strong>3. 配置对VPNv4路由进行过滤</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp-af-vpnv4]</span> policy vpn<span class="token operator">-</span>target<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>policy vpn-target命令用来对接收到的VPN路由根据VPN-Target进行过滤。缺省情况下，该功能已经使能。在某些特定组网场景下，需要手动关闭过滤</p><h4 id="pe与ce间路由配置">PE与CE间路由配置</h4><p><strong>1. PE与CE间采用EBGP传递路由</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp]</span> ipv4<span class="token operator">-</span>family vpn<span class="token operator">-</span>instance vpn<span class="token operator">-</span>instance<span class="token operator">-</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp-InstanceName]</span> peer ipv4<span class="token operator">-</span>address as<span class="token operator">-</span>number as<span class="token operator">-</span>number<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>PE上需进入VPN实例IPv4地址族视图，并将CE配置为VPN私网对等体</li><li>CE上配置与普通EBGP配置相同，并将VPN路由通过import或network的方式引入BGP</li></ul><p><strong>2. PE与CE间采用IGP传递路由 [以OSPF为例]</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE]</span> ospf <span class="token keyword">process</span><span class="token operator">-</span>id <span class="token punctuation">[</span> router<span class="token operator">-</span>id router<span class="token operator">-</span>id <span class="token punctuation">]</span> vpn<span class="token operator">-</span>instance vpn<span class="token operator">-</span>instance<span class="token operator">-</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-ospf-processid]</span> <span class="token function">import-route</span> bgp <span class="token punctuation">[</span> permit<span class="token operator">-</span>ibgp <span class="token punctuation">]</span> <span class="token punctuation">[</span> cost cost <span class="token punctuation">|</span> route<span class="token operator">-</span>policy route<span class="token operator">-</span>policy<span class="token operator">-</span>name <span class="token punctuation">|</span> tag tag <span class="token punctuation">|</span> <span class="token function">type</span> <span class="token function">type</span> <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp]</span> ipv4<span class="token operator">-</span>family vpn<span class="token operator">-</span>instance vpn<span class="token operator">-</span>instance<span class="token operator">-</span>name <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[PE-bgp]</span> <span class="token function">import-route</span> ospf <span class="token keyword">process</span><span class="token operator">-</span>id <span class="token punctuation">[</span> med med <span class="token punctuation">|</span> route<span class="token operator">-</span>policy route<span class="token operator">-</span>policy<span class="token operator">-</span>name <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>PE上需要创建与VPN实例绑定的OSPF进程，并与CE建立OSPF邻居关系。同时需要在OSPF和BGP之间互相引入路由</li><li>CE上配置与普通OSPF配置相同</li></ul><h2 id="mpls-vpn部署与应用">MPLS VPN部署与应用</h2><h3 id="mpls-vpn应用与组网概述">MPLS VPN应用与组网概述</h3><h4 id="mpls-vpn典型应用">MPLS VPN典型应用</h4><blockquote><p>MPLS VPN的主要应用包括企业互连和虚拟业务网络</p></blockquote><ul><li><strong>企业互连应用</strong>：可通过MPLS VPN将分布在各地的分支机构和合作伙伴的IP网络连接在一起</li><li><strong>虚拟业务网络</strong>：可在同一物理网络上运行多种业务，如VoIP、IPTV，为每个业务建立一个VPN，实现业务隔离</li></ul><h4 id="mpls-vpn基本组网">MPLS VPN基本组网</h4><h5 id="内联网-intranet">内联网 Intranet</h5><blockquote><p>当采用Intranet组网方案时，一个VPN中的所有用户形成闭合用户群，相互之间能够进行流量转发，VPN中的用户不能与任何本VPN以外的用户通信，其站点通常是属于同一个组织</p></blockquote><ul><li>PE需要为每个站点创建VPN实例，并配置全网唯一的RD</li><li>PE通过配置Import RT和Export RT来控制不同VPN的站点做到无法互访</li></ul><h5 id="外联网-extranet">外联网 Extranet</h5><blockquote><p>当采用Extranet组网方案时，VPN用户可将部分站点中的网络资源给其他VPN用户进行访问</p></blockquote><h5 id="hub-spoke">Hub&amp;Spoke</h5><p>当采用Hub&amp;Spoke方案时，可以将多个站点中的一个站点设置为Hub站点，其余站点为Spoke站点。站点间的互访必须通过Hub站点，通过Hub站点集中管控站点间的数据传输</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\Hub&amp;Spoke.png" alt="Hub&amp;Spoke" style="zoom:50%;" /><ul><li>Spoke站点需要把路由发布给Hub站点，再通过Hub站点发布给其他Spoke站点<ul><li>Spoke站点之间不直接交互路由信息</li></ul></li><li>Spoke-PE需要设置Export Target为Spoke，Import Target为Hub</li><li>Hub-PE上需要使用两个接口或子接口，一个用于接收Spoke-PE发来的路由，其VPN实例的Import Target为Spoke；另一个用于向Spoke-PE发布路由，其VPN实例的Export Target为Hub</li></ul><h4 id="mce组网">MCE组网</h4><p>具有<strong>MCE [Multi-VPN-Instance，CE多实例CE]</strong> 功能的CE设备可以在MPLS VPN组网应用中承担多个VPN实例的CE功能，减少用户网络设备的投入</p><ul><li>MCE将PE的部分功能扩展到CE设备，通过将不同的接口与VPN绑定，并为每个VPN创建和维护独立的路由转发表 [Multi-VRF]</li><li>MCE与对应的PE之间可以通过物理接口、子接口或者逻辑接口进行互联，PE上需要将这些接口绑定到对应的VPN实例</li></ul><h4 id="mpls-vpn跨域组网">MPLS VPN跨域组网</h4><blockquote><p>随着MPLS VPN解决方案的广泛应用，服务的终端用户的规格和范围也在增长，在一个企业内部的站点数目越来越大，某个地理位置与另外一个服务提供商相连的需求变得非常的普遍，存在着跨越不同自治系统的情况</p></blockquote><p>AS之间的MPLS VPN部署需要通过<strong>跨域 [Inter-AS] MPLS VPN</strong>实现</p><p>RFC2547中提出了三种跨域VPN解决方案，分别是：</p><ul><li><strong>跨域VPN-OptionA [Inter-Provider Backbones Option A] 方式</strong>：需要跨域的VPN在ASBR间通过专用的接口管理自己的VPN路由，也称为VRF-to-VRF</li><li><strong>跨域VPN-OptionB [Inter-Provider Backbones Option B] 方式</strong>：ASBR间通过MP-EBGP发布标签VPN-IPv4路由，也称为EBGP redistribution of labeled VPN-IPv4 routes</li><li><strong>跨域VPN-OptionC [Inter-Provider Backbones Option C] 方式</strong>：PE间通过Multi-hop MP-EBGP发布标签VPN-IPv4路由，也称为Multihop EBGP redistribution of labeled VPN-IPv4 routes</li></ul><h3 id="mpls-vpn典型应用场景与部署">MPLS VPN典型应用场景与部署</h3><h4 id="intranet场景">Intranet场景</h4><p><strong>部署思路</strong></p><ol><li>MPLS VPN骨干网配置<ol><li>IGP配置，实现骨干网的IP连通性</li><li>MPLS与MPLS LDP配置，建立MPLS LSP公网隧道，传输VPN数据</li><li>MP-BGP配置，建立后续传递VPNv4路由的MP-BGP对等体关系</li></ol></li><li>VPN用户接入配置<ol><li>创建VPN实例并配置参数（RT、RD）</li><li>将接口加入VPN实例</li><li>配置PE与CE之间的路由交换</li></ol></li></ol><h5 id="特殊场景下的bgp配置-as号替换">特殊场景下的BGP配置 - AS号替换</h5><blockquote><p>在MPLS VPN场景中，若PE与CE之间运行EBGP交互路由信息，则可能会出现两个站点的AS号相同的情况</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\AS号替换.png" style="zoom:50%;" /><ul><li>若CE1通过EBGP向PE1发送一条私网路由，并经过PE2发送到CE2，则CE2会由于AS号重复丢弃这条路由，导致属于同一VPN的Site 1和Site 2之间无法连通</li><li>可以在PE上执行<strong>peer substitute-as命令</strong>使能AS号替换功能，即PE用本地AS号替换收到的私网路由中CE所在VPN站点的AS号，这样对端CE就不会因为AS号重复而丢弃路由了</li></ul><h5 id="特殊场景下的bgp配置-soo">特殊场景下的BGP配置 - SoO</h5><p>在CE多归属，若使能了BGP的AS号替换功能，可能会引起路由环路，需要<strong>SoO [Site of Origin]特性</strong>来避免环路</p><p>配置了BGP邻居的SoO后：</p><ul><li>接收到该邻居的BGP路由时，会在路径属性中携带该SoO属性并通告给其他BGP邻居。</li><li>向该邻居通告BGP路由时，会检查路由中SoO属性是否与配置的SoO值相同，若相同则不通告，避免引起环路</li></ul><p><strong>示例如下：</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\SoO.png" style="zoom:50%;" /><ul><li>CE1与CE3处于同一个VPN站点1，CE2位于站点Site2，Site1和Site2站点所在的AS号都为65001。PE与CE之间运行的都是EBGP路由协议，为了Site 1和Site 2之间的路由可以正常学习，需要在PE1和PE2上配置AS号替换功能</li><li>CE1传递站点内的路由给PE1，PE1传递该路由给CE3，由于配置AS号替换，CE3会接收该路由，可能会导致产生路由环路</li></ul><h4 id="hub-spoke场景">Hub&amp;Spoke场景</h4><p>Hub&amp;Spoke有以下组网方案：</p><ul><li>方式一：Hub-CE与Hub-PE，Spoke-PE与Spoke-CE使用EBGP</li><li>方式二：Hub-CE与Hub-PE，Spoke-PE与Spoke-CE使用IGP</li><li>方式三：Hub-CE与Hub-PE使用EBGP，Spoke-PE与Spoke-CE使用IGP</li><li>无法通过Hub-CE与Hub-PE使用IGP，Spoke-PE与Spoke-CE使用EBGP来部署Hub&amp;Spoke组网的MPLS VPN</li></ul><h3 id="ospf-vpn拓展">OSPF VPN拓展</h3><h4 id="ospf与bgp互操作">OSPF与BGP互操作</h4><h5 id="mpls-vpn中的ospf-bgp">MPLS VPN中的OSPF/BGP</h5><p>当PE-CE间部署OSPF交互路由信息时，若在PE上使用标准BGP/OSPF过程互来传递路由信息，则远端PE在将BGP引入VPN实例的OSPF进程时，会直接产生Type5 LSA，不同站点都会将其他站点的路由视为<strong>自治系统外部路由[AS_external]</strong></p><p><strong>BGP扩展团体属性</strong></p><p>为了保留OSPF的路由信息，BGP新增了部分可携带OSPF路由信息的团体属性：</p><ul><li>Domain ID：域标识符用来标识和区分不同的域。</li><li>Route Type：包含被引入到BGP的OSPF路由的 Area-ID 以及Route Type<ul><li>Area-ID：PE 的VPN实例的OSPF进程与CE建立邻接关系的区域号</li><li>Route Type：被引入的 OSPF 路由的类型<ul><li>1 或 2：表示路由的类型为区域内部路由， 也就是 PE 根据 Type-1 及 Type-2 LSA 所计算出来的路由</li><li>3：表示路由的类型为区域间路由</li><li>5：表示路由的类型为 OSPF 外部路由，也就是 PE 通过 Type-5 LSA 计算得出的路由。当 Route-Type 字段的值为 5 时， Area-ID 字段的值需为 0.0.0.0</li><li>7：表示路由的类型为 NSSA 路由，也就是 PE 通过 Type-7 LSA 计算得出的路由</li></ul></li></ul></li></ul><p><strong>Domain ID</strong></p><blockquote><p>在PE上将OSPF引入BGP时，PE将根据本地的配置为BGP路由增加<strong>域ID属性</strong>，域ID作为BGP的扩展团体属性传播</p></blockquote><p>在PE将BGP路由引入OSPF时：</p><ul><li>若BGP路由携带的Domain ID与本地相同，则认为两个站点属于同一个OSPF路由域</li><li>若不相同，则认为不在同一个路由域</li></ul><p><strong>Domain ID与Route Type</strong></p><p>根据BGP路由中的Domain ID与Route Type属性，PE将产生不同类型的OSPF LSA类型发布到VRF的OSPF进程中</p><table><thead><tr><th>Domain ID与本地是否相同</th><th>Route Type</th><th>PE生成的OSPF LSA类型</th></tr></thead><tbody><tr><td>是</td><td>1、2、3</td><td>3</td></tr><tr><td>是</td><td>5、7</td><td>5、7</td></tr><tr><td>否</td><td>1、2、3、5、7</td><td>5、7</td></tr></tbody></table><h4 id="ospf防环">OSPF防环</h4><h5 id="type3路由防环-dn位">Type3路由防环 - DN位</h5><ul><li>为了防止3类LSA环路，OSPF多实例进程使用LSA Options域中一个原先未使用的比特作为标志位，称为DN位。使用DN位可以防止Type3 LSA环路</li><li>PE路由器的OSPF实例进程在进行SPF计算时，忽略DN置位的Type3 LSA</li></ul><h5 id="type5-7路由防环-vpn-route-tag">Type5/7路由防环 - VPN Route Tag</h5><p>可以使用VPN Route Tag（VPN路由标记）来防止此5类或7类路由环路</p><p>PE在根据收到的BGP的私网路由生成5/7类LSA时，携带VPN路由标记。当PE发现LSA的VPN路由标记和本地配置的一样，就会忽略这条LSA，因此可以避免上述环路</p><h4 id="ospf-sham-link">OSPF sham link</h4><h5 id="sham-link的应用场景">Sham link的应用场景</h5><p>通常情况下，BGP对等体之间通过BGP扩展团体属性在MPLS VPN骨干网上承载路由信息。另一端PE上运行的OSPF可利用这些信息来生成PE到CE的Type 3 LSA，这些路由是<strong>区域间路由 [Inter_Area route]</strong></p><p>若在CE1和CE2之间增加一条<strong>后门 [Backdoor] 链路</strong>，并且直接运行OSPF交互路由。通过后门链路学习到的路由类型为<strong>区域内路由 [Intra_Area route]</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS-VPN相关知识\Sham link的应用场景.png" alt="Sham link的应用场景" style="zoom:50%;" /><blockquote><p>由于区域内路由优于区域间路由，故后门链路会被优选，若想实现后门链路作为备份链路，可采用sham link实现</p></blockquote><h5 id="sham-link的工作机制">Sham link的工作机制</h5><p>Sham link在两台PE之间创建了一条区域内链路。当LSA在伪装链路中泛洪，所有的OSPF路由类型都不会改变，不会转换成LSA3或者LSA5的类型</p><p>Sham link被看成是两个VPN实例之间的链路，链路的两端是PE上的端点地址，分别作为建立连接时的源和目的地址。伪连接的源地址和目的地址使用32位掩码的Loopback接口地址，该Loopback接口需要绑定到VPN实例中，并通过BGP发布</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1&gt;MPLS VPN相关知识&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;VPN [Virtual Private Network，虚拟专用网络]&lt;/strong&gt; 指的是在一个公共网络中实现虚拟的专用网络，从而使得用户能够基于该专用网</summary>
      
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="网络工程" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B/"/>
    
    <category term="HCIP" scheme="https://shierjinghuang.github.io/tags/HCIP/"/>
    
    <category term="MPLS" scheme="https://shierjinghuang.github.io/tags/MPLS/"/>
    
    <category term="VPN" scheme="https://shierjinghuang.github.io/tags/VPN/"/>
    
  </entry>
  
  <entry>
    <title>VLAN高级技术</title>
    <link href="https://shierjinghuang.github.io/2025/04/22/VLAN%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/"/>
    <id>https://shierjinghuang.github.io/2025/04/22/VLAN%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/</id>
    <published>2025-04-22T08:48:20.000Z</published>
    <updated>2025-04-22T14:25:31.410Z</updated>
    
    <content type="html"><![CDATA[<h2 id="vlan高级技术">Vlan高级技术</h2><h3 id="vlan聚合">VLAN聚合</h3><p><strong>VLAN聚合 [VLAN Aggregation]</strong>，也称<strong>Super-VLAN</strong>: 指在一个物理网络内，用多个VLAN [称为<strong>Sub-VLAN</strong>] 隔离广播域，并将这些Sub-VLAN聚合成一个逻辑的VLAN [<strong>Super-VLAN</strong>]，这些Sub-VLAN使用同一个IP子网和缺省网关，进而达到节约IP地址资源的目的</p><p><strong>Sub-VLAN</strong>：<strong>只包含物理接口，不能建立三层VLANIF接口</strong>，用于隔离广播域</p><ul><li>每个Sub-VLAN内的主机与外部的三层通信是靠Super-VLAN的三层VLANIF接口来实现的</li></ul><p><strong>Super-VLAN</strong>：只建立三层VLANIF接口，不包含物理接口，与子网网关对应</p><ul><li>Super-VLAN的VLANIF接口状态取决于所包含Sub-VLAN的物理接口状态</li></ul><h5 id="vlan聚合的原理">VLAN聚合的原理</h5><blockquote><p>每个Sub-VLAN对应一个广播域，多个Sub-VLAN和一个Super-VLAN关联，只给Super-VLAN分配一个IP子网，所有Sub-VLAN都使用Super-VLAN的IP子网和缺省网关进行三层通信</p></blockquote><p><strong>VLAN聚合的优势：</strong></p><ul><li>多个Sub-VLAN共享一个网关地址，节约了子网网络地址、子网定向广播地址、子网缺省网关地址</li><li>各Sub-VLAN间的界线也不再是子网界线，可以根据每个Sub-VLAN内所需的IP地址数量进行灵活的地址规划，从而既保证了各个Sub-VLAN作为一个独立广播域实现广播隔离，又节省了IP地址资源，提高了编址的灵活性</li></ul><h5 id="vlan聚合的应用">VLAN聚合的应用</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\Vlan聚合的应用.png" style="zoom:50%;" /><h4 id="vlan间通信">VLAN间通信</h4><p><strong>相同Sub-VLAN内部通信</strong>：同一个Sub-VLAN属于同一个广播域，相同Sub-VLAN之间可以通过二层直接通信</p><p><strong>不同Sub-VLAN之间通信</strong>：不同Sub-VLAN之间进行通信，IP地址属于相同网段，因此主机会发送ARP请求，但是实际不同Sub-VLAN之间属于不同的广播域，因而ARP报文无法传递到其他Sub-VLAN，ARP请求得不到响应，设备无法学习到对端MAC地址，从而无法完成Sub-VLAN之间通信</p><ul><li>要实现Sub-VLAN之间的通信，需要<strong>在Super-VLAN 的VLANIF中开启ARP代理功能</strong></li></ul><p><strong>不同Sub-VLAN之间通信举例</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\不同Sub-VLAN之间通信举例.png" style="zoom:50%;" /><p>Super-VLAN VLANIF100开启ARP代理之后PC1和PC2之间通信过程如下：</p><ol><li>PC1发现PC2与自己在同一网段，且自己ARP表无PC2对应表项，则直接发送ARP广播请求PC2的MAC地址</li><li>作为网关的Super-VLAN对应的VLANIF 100收到PC1的ARP请求，由于网关上使能Sub-VLAN间的ARP代理功能，则向Super-VLAN 100的所有Sub-VLAN接口发送一个ARP广播，请求PC2的MAC地址</li><li>PC2收到网关发送的ARP广播后，对此请求进行ARP应答</li><li>网关收到PC2的应答后，就把自己的MAC地址回应给PC1，PC1之后要发给PC2的报文都先发送给网关，由网关做三层转发</li></ol><p><strong>Sub-VLAN与其他设备的二层通信</strong></p><ul><li>当Sub-VLAN与其他设备进行二层通信时，与普通的VLAN内二层通信无区别</li><li>由于Super-VLAN不属于任何物理接口，即不会处理任何携带Super-VLAN标签的报文</li></ul><p><strong>Sub-VLAN二层通信过程举例：</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\Sub-VLAN二层通信过程举例.png" style="zoom:50%;" /><ol><li>从PC1进入SW1的报文会被打上VLAN10的Tag，在SW1中这个Tag不会因为VLAN10是VLAN100的Sub-VLAN而变为VLAN100的Tag</li><li>当报文从SW1的GE0/0/0出去时，依然携带VLAN10的Tag。也就是说，SW1本身不会发出VLAN100的报文</li><li>如果其他设备有VLAN100的报文发送到该设备上，这些报文也会因为SW1上没有VLAN100应的物理接口而被丢弃</li></ol><ul><li>对于其他设备而言，有效的VLAN只有Sub-VLAN10，20和30， 所有的报文都是在这些VLAN中交互的</li><li>因此，SW1上虽然配置了VLAN聚合，但与其他设备的二层通信，不会涉及到Super-VLAN，与正常的二层通信流程一样</li></ul><p><strong>Sub-VLAN 与其他网络进行三层通信</strong>：先将数据发往默认网关，即Super-VLAN对应的VLANIF，再进行路由</p><h4 id="vlan聚合关键配置命令">VLAN聚合关键配置命令</h4><p><strong>1. 创建Super-VLAN</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-vlan100]</span> aggregate<span class="token operator">-</span>vlan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>Super-VLAN中不能包含任何物理接口，VLAN1不能配置为Super-VLAN</li><li>Super-VLAN中的VLAN ID与Sub-VLAN中的VLAN ID 必须使用不同的 VLAN ID</li></ul><p><strong>2. 将Sub-VLAN加入Super-VLAN</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-vlan100]</span> access<span class="token operator">-</span>vlan <span class="token punctuation">&#123;</span> vlan<span class="token operator">-</span>id1 <span class="token punctuation">[</span> to vlan<span class="token operator">-</span>id2 <span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>将Sub-VLAN加入到Super-VLAN中时，必须保证Sub-VLAN没有创建对应的VLANIF接口</p></li><li><p>vlan-id1表示第一个VLAN的编号</p></li><li><p>vlan-id2表示最后一个VLAN的编号。vlan-id2的取值必须大于等于vlan-id1的取值，它和vlan-id1共同确定一个范围</p></li><li><p>如果不指定to vlan-id2参数，则只将编号为vlan-id1的VLAN加入super-VLAN中</p></li></ul><p><strong>3. 使能Super-VLAN对应的VLANIF接口的Proxy ARP</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-vlanif100]</span> arp<span class="token operator">-</span>proxy inter<span class="token operator">-</span>sub<span class="token operator">-</span>vlan<span class="token operator">-</span>proxy enable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>使能Sub-VLAN间的Proxy ARP功能</li></ul><h3 id="mux-vlan">MUX VLAN</h3><p><strong>MUX VLAN [Multiplex VLAN]</strong> 提供了一种通过VLAN进行网络资源控制的机制</p><p>MUX VLAN分为<strong>Principal VLAN [主VLAN]<strong>和</strong>Subordinate VLAN [从VLAN]</strong> ，Subordinate VLAN又分为<strong>Separate VLAN</strong> <strong>[隔离型从VLAN]</strong> 和<strong>Group VLAN</strong> <strong>[互通型从VLAN]</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\MUX VLAN.png" style="zoom:50%;" /><ul><li>Principal port可以和MUX VLAN内的所有接口进行通信</li><li>Separate port只能和Principal port进行通信，和其他类型的接口实现完全隔离</li><li>Group port可以和Principal port进行通信，在同一组内的接口也可互相通信，但不能和其他组接口或Separate port通信</li></ul><blockquote><p>在使用MUX VLAN的过程中，无论是Separate VLAN还是Group VLAN都必须与一个Principle VLAN绑定</p></blockquote><p>加入Principal VLAN中的接口，可以与MUX VLAN内的所有接口进行通信。</p><h4 id="mux-vlan配置命令">MUX VLAN配置命令</h4><p><strong>1. 配置MUX VLAN中的Principal VLAN</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-vlan100]</span> mux<span class="token operator">-</span>vlan<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>配置该VLAN为MUX VLAN，即Principal VLAN</li><li>如果指定VLAN已经用于Principal VLAN，那么该VLAN不能在Super-VLAN、Sub-VLAN的配置中使用</li></ul><p><strong>2. 配置Subordinate VLAN中的Group VLAN</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-vlan100]</span> subordinate <span class="token function">group</span> <span class="token punctuation">&#123;</span> vlan<span class="token operator">-</span>id1 <span class="token punctuation">[</span> to vlan<span class="token operator">-</span>id2 <span class="token punctuation">]</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>一个Principal VLAN下最多配置128个Group VLAN</li></ul><p><strong>3. 配置Subordinate VLAN中的Separate VLAN</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-vlan100]</span> subordinate separate vlan<span class="token operator">-</span>id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>一个Principal VLAN下只能配置一个Separate VLAN，同一MUX VLAN中Group VLAN和Separate VLAN的VLAN ID不能相同</li></ul><p><strong>4. 使能接口MUX VLAN功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/1]</span> port mux<span class="token operator">-</span>vlan enable vlan<span class="token operator">-</span>id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>使能接口的MUX VLAN功能，协商类型negotiation-auto和negotiation-desirable接口不支持配置port mux-vlan enable</li><li>只有使能接口MUX VLAN功能后，才能实现Principal VLAN与Subordinate VLAN之间通信、Group VLAN内的接口可以相互通信及Separate VLAN接口间不能相互通信的目的</li></ul><h3 id="qinq">QinQ</h3><h4 id="qinq概述">QinQ概述</h4><p><strong>QinQ [802.1Q in 802.1Q] 技术</strong>：是一项扩展VLAN空间的技术，通过在802.1Q标签报文的基础上再增加一层802.1Q的Tag来达到扩展VLAN空间的功能</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\QinQ.png" style="zoom:50%;" /><p>用户报文在公网上传递时携带了两层Tag，内层是私网Tag，外层是公网Tag</p><h4 id="qinq封装结构">QinQ封装结构</h4><p>QinQ封装报文是在无标签的以太网数据帧的源MAC地址字段后面加上两个VLAN标签构成</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\QinQ封装报文.png" style="zoom:50%;" /><p><strong>TPID [Tag Protocol Identifier，标签协议标识] 表示帧类型</strong></p><p>取值为0x8100时表示<strong>802.1Q Tag</strong>帧。如果不支持802.1Q的设备收到这样的帧，会将其丢弃</p><p>对于内层的802.1Q Tag，该值设置为0x8100；对于外层的802.1Q Tag，不同厂商所使用的值可能不相同：</p><ul><li>0x8100：Huawei路由器使用</li><li>0x88A8：802.1ad规定外层802.1Q Tag中的TPID为0x88a8</li></ul><p>在华为设备上，外层802.1Q Tag缺省情况下值为0x8100，可以通过命令行调整该值</p><h4 id="qinq工作原理">QinQ工作原理</h4><p>公网的传输过程中，设备根据外层VLAN Tag转发报文，并根据报文外层VLAN Tag进行MAC地址学习，而用户的私网VLAN Tag将被当作报文的数据部分进行传输。即使私网VLAN Tag相同，也能通过公网VLAN Tag区分不同用户</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\QinQ工作原理.png" style="zoom:50%;" /><h5 id="qinq实现方式-基本qinq">QinQ实现方式 - 基本QinQ</h5><ul><li>基本QinQ是基于端口方式实现的。开启端口的基本QinQ功能后，当该端口接收到报文，设备会为该报文打上本端口缺省VLAN 的VLAN Tag<ul><li>如果接收到的是已经带有VLAN Tag的报文，该报文就成为双Tag的报文</li><li>如果接收到的是不带VLAN Tag的报文，该报文就成为带有端口缺省VLAN Tag的报文</li></ul></li><li>基于端口的QinQ的缺点是外层VLAN Tag封装方式固定，不能根据业务种类选择外层VLAN Tag封装的方式，从而很难有效支持多业务的灵活运营</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\基本QinQ.png" alt="基本QinQ" style="zoom:50%;" /><p>基本QinQ的报文处理过程:</p><ol><li>SW1收到VLAN ID为10和20的报文，将该报文发给SW2</li><li>SW2收到该报文后，在该报文原有Tag的外侧再添加一层VLAN ID 为100的外层Tag</li><li>带着两层Tag的用户数据报文在网络中按照正常的二层转发流程转发</li><li>SW3收到VLAN100的报文后，剥离报文的外层Tag。将报文发送给SW4，此时报文只有一层Tag</li><li>SW4收到该报文，根据VLAN ID和目的MAC地址进行相应的转发</li></ol><h5 id="qinq实现方式-灵活qinq">QinQ实现方式 - 灵活QinQ</h5><p>**灵活[QinQ Selective QinQ]**可根据流分类的结果选择是否打外层VLAN Tag，打上何种外层VLAN Tag。灵活QinQ可根据用户的VLAN标签、优先级、MAC地址、IP协议、IP源地址、IP目的地址、或应用程序的端口号进行流分类</p><p><strong>基于VLAN ID的灵活QinQ</strong>：为具有不同内层VLAN ID的报文添加不同的外层VLAN Tag</p><p><strong>基于802.1p优先级的灵活QinQ</strong>：根据报文的原有内层VLAN的802.1p优先级添加不同的外层VLAN Tag</p><p><strong>基于流策略的灵活QinQ</strong>：根据QoS策略添加不同的外层VLAN Tag。基于流策略的灵活QinQ能够针对业务类型提供差别服务</p><p>灵活QinQ功能是对基本QinQ功能的扩展，它比基本QinQ的功能更灵活。二者之间的主要区别是：</p><ul><li>基本QinQ：对进入二层QinQ接口的所有帧都加上相同的外层Tag</li><li>灵活QinQ：对进入二层QinQ接口的帧，可以根据不同的内层Tag而加上不同的外层Tag，对于用户VLAN的划分更加细致</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\VLAN高级技术\灵活QinQ.png" style="zoom:50%;" /><p>灵活QinQ的报文处理过程：</p><ol><li>SW1收到VLAN ID为10和20的报文，将该报文转发给SW2</li><li>SW2收到VLAN ID为10的报文后，添加一层VLAN ID 为100 的外层Tag；SW2收到VLAN ID为20的报文后，添加一层VLAN ID为200的外层Tag</li><li>带着两层Tag的用户数据报文在网络中按照正常的二层转发流程转发</li><li>SW3收到报文后，剥离报文的外层Tag。将报文发送给SW4，此时报文只有一层Tag</li><li>SW4收到报文，根据VLAN ID和目的MAC地址进行相应的转发</li></ol><h4 id="qinq配置命令介绍">QinQ配置命令介绍</h4><p><strong>1. 配置接口类型为dot1q-tunnel</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/1]</span> port link<span class="token operator">-</span><span class="token function">type</span> dot1q<span class="token operator">-</span>tunnel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>配置接口类型为dot1q-tunnel，该接口可以是物理接口，也可以是Eth-Trunk接口</p><p><strong>2. 使能接口VLAN转换功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/1]</span> qinq vlan<span class="token operator">-</span>translation enable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>3. 配置配置灵活QinQ</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/1]</span> port vlan<span class="token operator">-</span>stacking vlan vlan<span class="token operator">-</span>id1 <span class="token punctuation">[</span> to vlan<span class="token operator">-</span>id2 <span class="token punctuation">]</span> stack<span class="token operator">-</span>vlan vlan<span class="token operator">-</span>id3 <span class="token punctuation">[</span> remark<span class="token operator">-</span>8021p 8021p<span class="token operator">-</span>value <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>配置不同的内层VLAN叠加不同的外层VLAN，缺省情况下，外层VLAN优先级与内层VLAN优先级保持一致</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;vlan高级技术&quot;&gt;Vlan高级技术&lt;/h2&gt;
&lt;h3 id=&quot;vlan聚合&quot;&gt;VLAN聚合&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;VLAN聚合 [VLAN Aggregation]&lt;/strong&gt;，也称&lt;strong&gt;Super-VLAN&lt;/strong&gt;: 指在一</summary>
      
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="网络工程" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B/"/>
    
    <category term="VLAN" scheme="https://shierjinghuang.github.io/tags/VLAN/"/>
    
  </entry>
  
  <entry>
    <title>MPLS相关知识</title>
    <link href="https://shierjinghuang.github.io/2025/04/21/MPLS%E5%8E%9F%E7%90%86%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <id>https://shierjinghuang.github.io/2025/04/21/MPLS%E5%8E%9F%E7%90%86%E4%B8%8E%E9%85%8D%E7%BD%AE/</id>
    <published>2025-04-21T09:51:29.000Z</published>
    <updated>2025-04-24T13:11:09.965Z</updated>
    
    <content type="html"><![CDATA[<h1>MPLS相关知识</h1><p>[TOC]</p><h2 id="mpls原理与配置">MPLS原理与配置</h2><h3 id="mpls基础">MPLS基础</h3><h4 id="mpls概述">MPLS概述</h4><blockquote><p>MPLS [多协议标签交换] 是一种高效的数据传输技术，主要用于运营商网络和企业专网</p></blockquote><ul><li>MPLS位于TCP/IP协议栈中的数据链路层和网络层之间，可以向所有网络层提供服务</li><li>通过在数据链路层和网络层之间增加额外的MPLS头部，基于MPLS头部实现数据快速转发</li></ul><h4 id="mpls术语">MPLS术语</h4><p><strong>MPLS域 [MPLS Domain]</strong>：一系列连续的运行MPLS的网络设备构成了一个MPLS域</p><p><strong>LSR [Label Switching Router，标签交换路由器]</strong>：支持MPLS的路由器</p><ul><li>位于MPLS域边缘、连接其它网络的LSR称为<strong>边沿路由器LER</strong> [Label Edge Router]</li><li>区域内部的LSR称为<strong>核心LSR</strong> [Core LSR]</li></ul><p>根据数据处理方式的不同对LSR分类：</p><ul><li><strong>入站LSR</strong> Ingress LSR：通常是向IP报文中压入MPLS头部并生成MPLS报文的LSR</li><li><strong>中转LSR</strong> Transit LSR：通常是将MPLS报文进行例如标签置换操作，并将报文继续在MPLS域中转发的LSR</li><li><strong>出站LSR</strong> Egress LSR：通常是将MPLS报文中MPLS头部移除，还原为IP报文的LSR</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\LSR分类.png" style="zoom:50%;" /><p><strong>FEC [Forwarding Equivalence Class，转发等价类]</strong> 是一组具有某些共性的数据流的集合，这些数据流在转发过程中被网络节点以相同方式处理</p><ul><li>在MPLS网络中，FEC可以通过多种方式划分</li><li>数据属于哪一个LSP，由数据进入MPLS域时的Ingress LSR决定</li><li>MPLS标签通常是与FEC相对应的，必须有某种机制使得网络中的LSR获得关于某FEC的标签信息</li></ul><blockquote><p>在传统的采用最长匹配算法的IP转发中，匹配到同一条路由的所有报文就是一个转发等价</p></blockquote><p><strong>LSP [Label Switched Path，标签交换路径]</strong> 是标签报文穿越MPLS网络到达目的地所走的路径</p><p>同一个FEC的报文通常采用相同的LSP穿越MPLS域，所以对同一个FEC，LSR总是用相同的标签转发</p><ul><li>一条LSP包含一台入站LSR、一台出站LSR以及数量可变的中转LSR，LSP也可以看做是这些LSR的有序集合</li><li>LSP需要在数据转发开始前建立完成，只有这样报文才能顺利穿越MPLS域</li><li>LSP可通过静态和动态两种方式建立</li><li>LSP是一个从起点到终点的单向路径，若需要双向数据互通，则需要在双方之间建立双向的LSP</li></ul><h4 id="mpls标签">MPLS标签</h4><ul><li>IP报文进入MPLS域之前，会被入站LSR压入MPLS头部，形成一个<strong>MPLS标签报文</strong></li><li>一个标签报文可以包含一个或多个MPLS标签</li></ul><h5 id="mpls报文格式">MPLS报文格式</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\MPLS报文格式.png" style="zoom:50%;" /><blockquote><p>当上层为MPLS标签栈时，以太网头部中的Type字段为0x8847，PPP头部中的Protocol字段为0x8281</p></blockquote><p><strong>MPLS报文字段解析：</strong></p><ul><li><strong>标签 Label</strong>：用于携带标签值，长度20bit</li><li><strong>EXP [Experimental Use]</strong>：主要用于CoS Class of Service，长度3bit</li><li><strong>S [Bottom of Stack]</strong>：栈底位，用于指示该标签头部是否为最后一层标签，长度1bit<ul><li>如果该字段为1，则表示当前标签头部为栈底</li><li>如果该字段为0，则表示当前标签头部之后依然还有其他标签头部</li></ul></li><li><strong>TTL [Time To Live]</strong>：用于当网络出现环路时，防止标签报文被无限制转发，长度8bit</li></ul><h5 id="mpls标签栈">MPLS标签栈</h5><p>MPLS支持一层或多层标签头部，这些标签头部的有序集合被称为 <strong>标签栈 [Label Stack]</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\MPLS标签栈.png" style="zoom:50%;" /><p><strong>标签空间</strong>：</p><p><strong>标签是一个短而定长的、只具有本地意义的标识符，标签空间就是指标签的取值范围</strong></p><blockquote><p>只具有本地意义说明每一台LSR之间的标签空间是相互独立的，即每台路由器都可以使用完整的标签空间</p></blockquote><p>标签值的范围及规划如下：</p><table><thead><tr><th>标签值</th><th>描述</th></tr></thead><tbody><tr><td>0~15</td><td>特殊标签值，<strong>0被定义为IPv4显式空标签 [IPv4 Explicit NULL Label]</strong></td></tr><tr><td></td><td><strong>标签值3被定义为隐式空标签 [Implicit NULL Label]</strong></td></tr><tr><td>16~1023</td><td>用于静态LSP、静态CR-LSP的共享标签空间</td></tr><tr><td>1024~1048575</td><td>LDP、RSVP-TE、MP-BGP等动态信令协议的标签空间</td></tr><tr><td></td><td>动态信令协议的标签空间不是共享的，而是独立且连续的，互不影响</td></tr></tbody></table><h4 id="mpls标签的处理">MPLS标签的处理</h4><p>LSR对标签的操作类型包括<strong>标签压入 [Push]、标签交换 [Swap]和标签弹出 [Pop]</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\MPLS标签的处理.png" style="zoom:50%;" /><h3 id="mpls转发">MPLS转发</h3><h4 id="mpls转发概述">MPLS转发概述</h4><blockquote><p>MPLS转发的本质就是<strong>将数据归到对应的FEC并按照提前建立好的LSP进行转发</strong></p></blockquote><ul><li>对于整个MPLS域，LSP是某一给定的FEC进入域和离开域的路径，可以看成是LSR的有序集合</li><li>对于单台LSR，需要建立标签转发表，用标签来标识FEC，并绑定相应的标签处理和转发等行为</li></ul><p><strong>补充说明</strong>：</p><ul><li>同一个FEC，若进入MPLS域的Ingress LSR不同，转发时的LSP也不相同</li><li>同一个FEC，LSR的处理方式相同，不论这个FEC来自哪里</li><li>LSR的转发动作决定了LSP，而标签转发表确定转发动作，所以建立标签转发表也可以理解为建立LSP</li></ul><h4 id="mpls体系结构">MPLS体系结构</h4><p>MPLS的体系结构由<strong>控制平面 [Control Plane]</strong> 和<strong>转发平面 [Forwarding Plane]</strong> 组成</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\MPLS体系结构.png" style="zoom:50%;" /><blockquote><p>控制平面：控制平面是无连接的，主要功能是负责产生和维护路由信息以及标签信息</p></blockquote><p><strong>控制平面包括</strong>：</p><ul><li>IP路由协议</li><li><strong>路由信息表 RIB [Routing Information Base]</strong>：由IP路由协议[IP Routing Protocol]、静态路由和直连路由共同生成，用于选择路由</li><li><strong>标签分发协议 LDP</strong></li><li><strong>标签信息表 LIB [Label Information Base]</strong>：用于管理标签信息，LIB中的表项可由标签交换协议 [LDP、RSVP等协议]或静态配置生成。</li></ul><blockquote><p>转发平面：转发平面也称为数据平面，是面向连接的， 主要功能是负责普通IP报文的转发以及带MPLS标签报文的转发</p></blockquote><p><strong>转发平面包括</strong>：</p><ul><li><strong>转发信息表FIB [Forwarding Information Base]</strong>：从RIB提取必要的路由信息生成，负责普通IP报文的转发</li><li><strong>标签转发信息表LFIB [Label Forwarding Information Base]</strong>：简称标签转发表，负责带MPLS标签报文的转发</li></ul><center><img src=".\MPLS原理与配置\路由信息和标签信息传递过程.png" style="zoom:50%;" /><img src=".\MPLS原理与配置\IP数据包和MPLS标签数据包传递过程.png" style="zoom:50%;" /></center>#### LSP建立原则<ul><li>当网络层协议为IP协议时，FEC所对应的路由必须存在于LSR的IP路由表中，否则该FEC的标签转发表项不生效</li><li>LSR用标签标识指定FEC，所以该FEC的数据被发送至LSR时，必须携带正确的标签，才能被LSR正确的处理</li></ul><h4 id="lsp建立方式">LSP建立方式</h4><blockquote><p>MPLS需要为报文事先分配好标签，建立一条LSP，才能进行报文转发。LSP分为静态LSP和动态LSP两种</p></blockquote><h5 id="静态lsp">静态LSP</h5><ul><li><strong>基本概念</strong>：<ul><li>静态LSP是用户通过手工为各个FEC分配标签而建立的</li><li>静态LSP不使用标签发布协议，不需要交互控制报文，因此消耗资源比较小</li><li>通过静态方式建立的LSP不能根据网络拓扑变化动态调整，需要管理员干预</li></ul></li><li><strong>应用场景</strong>：适用于拓扑结构简单并且稳定的小型网络</li><li><strong>标签分配原则</strong>：前一节点出标签的值等于下一个节点入标签的值</li><li>补充：<strong>由于静态LSP各节点上不能相互感知到整个LSP的情况，因此静态LSP是一个本地的概念</strong></li></ul><h5 id="动态lsp">动态LSP</h5><ul><li><p>基本概念：</p><ul><li>动态LSP<strong>通过标签发布协议动态建立</strong></li><li>标签发布协议是MPLS的控制协议，负责FEC的分类、标签的分发以及LSP的建立和维护等一系列操作</li></ul></li><li><p>常用标签发布协议：<strong>标签分发协议 [LDP]</strong></p><ul><li>全称：Label Distribution Protocol</li><li>定义：<strong>LDP是多协议标签交换MPLS的一种控制协议，负责转发等价类FEC的分类、标签的分配以及标签交换路径LSP的建立和维护等操作</strong></li><li>LDP规定了标签分发过程中的各种消息以及相关处理过程</li><li>应用场景：LDP广泛地应用在VPN服务上，具有组网、配置简单、支持基于路由动态建立LSP、支持大容量LSP等优点</li></ul></li><li><p>其他标签发布协议：</p><ul><li><strong>RSVP-TE</strong>：[Resource Reservation Protocol Traffic Engineering]<ul><li>是对RSVP的扩展，用于建立基于约束的LSP</li><li>拥有普通LDP LSP没有的功能，如发布带宽预留请求、带宽约束、链路颜色和显式路径等</li></ul></li><li>MP-BGP：[Multiprotocol Border Gateway Protocol]<ul><li>MP-BGP是在BGP协议基础上扩展的协议</li><li>MP-BGP支持为MPLS VPN业务中私网路由和跨域VPN的标签路由分配标签</li></ul></li></ul></li></ul><h4 id="mpls标签转发">MPLS标签转发</h4><blockquote><p>LSR处理报文时主要根据FTN、 NHLFE和ILM</p></blockquote><p><strong>FTN [FEC-to-NHLFE]</strong> ：当LSR收到IP报文并需要进行MPLS转发时使用，FTN只在Ingress存在</p><ul><li>FTN包括：<strong>Tunnel ID、FEC到NHLFE的映射信息</strong></li></ul><p><strong>NHLFE 下一跳标签转发表项</strong> [Next Hop Label Forwarding Entry]：LSR对报文 [MPLS或IP报文] 进行MPLS转发时使用，<strong>NHLFE在Ingress和Transit存在</strong></p><ul><li>NHLFE包括：Tunnel ID、出接口、下一跳、出标签、标签操作类型等信息</li></ul><p><strong>ILM 入标签映射 [Incoming Label Map]</strong> ：用于指导MPLS报文的转发，<strong>ILM只在Transit和Egress存在</strong></p><ul><li>ILM包括：Tunnel ID、入标签、入接口、标签操作类型等信息</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\MPLS标签转发.png" style="zoom:50%;" /><p><strong>补充：</strong></p><ul><li>Tunnel ID：为了给使用隧道的上层应用提供统一的接口，系统自动为隧道分配了一个ID，也称为Tunnel ID。该Tunnel ID的长度为32比特，只是本地有效</li><li>在MPLS转发过程中，FIB、ILM和NHLFE表项是通过Tunnel ID关联的</li></ul><h5 id="ingress-lsr的处理">Ingress LSR的处理</h5><p>当IP报文进入MPLS域时：</p><ul><li>Ingress LSR查看FIB表，检查目的IP地址对应的<strong>Tunnel ID值是否为0x0</strong><ul><li>如果Tunnel ID值为0x0，则进入正常的IP转发流程</li><li>如果Tunnel ID值不为0x0，则进入MPLS转发流程<ol><li>根据FIB表的Tunnel ID找到对应的NHLFE表项，将FIB表项和NHLFE表项关联起来</li><li>查看NHLFE表项，可以得到出接口、下一跳、出标签和标签操作类型</li><li>在IP报文中压入出标签，同时处理TTL，然后将封装好的MPLS报文发送给下一跳</li></ol></li></ul></li></ul><h5 id="transit-lsr的处理">Transit LSR的处理</h5><blockquote><p>在Transit LSR，通过查询ILM表和NHLFE表指导MPLS报文的转发</p></blockquote><p>当MPLS报文在MPLS域转发时：</p><ol><li>Transit LSR根据MPLS的标签值查看对应的ILM表，得到Tunnel ID</li><li>根据ILM表的Tunnel ID找到对应的NHLFE表项</li><li>查看NHLFE表项，得到出接口、下一跳、出标签和标签操作类型，标签操作类型为Swap，则交换标签</li></ol><h5 id="egress-lsr的处理">Egress LSR的处理</h5><p>当MPLS报文需要离开MPLS域时：</p><ol><li>Egress根据ILM查询到该标签对应的操作为Pop，说明需要剥离该标签</li><li>根据当前标签头部的下一层报文头部进行下一步处理</li></ol><h3 id="静态lsp配置">静态LSP配置</h3><h5 id="mpls基本配置命令">MPLS基本配置命令</h5><p><strong>1. 配置LSR ID</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> mpls lsr<span class="token operator">-</span>id lsr<span class="token operator">-</span>id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>mpls lsr-id命令用来配置LSR的ID</li><li>LSR ID用来在网络中唯一标识一个LSR。LSR没有缺省的LSR ID，必须手工配置</li><li>为了提高网络的可靠性，推荐使用LSR某个Loopback接口的地址作为LSR ID并在配置前对网络中所有LSR的LSR ID进行统一规划</li></ul><p><strong>2. 使能MPLS</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> mpls <span class="token comment">#mpls命令用来使能本节点的全局MPLS能力，并进入MPLS视图</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/0]</span> mpls<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在接口视图下，使能当前接口的MPLS功能。需先使能全局MPLS能力后才能执行接口下的MPLS使能命令</p><h5 id="静态lsp配置命令">静态LSP配置命令</h5><p><strong>1. Ingress LSR配置</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> static<span class="token operator">-</span>lsp ingress lsp<span class="token operator">-</span>name destination ip<span class="token operator">-</span>address <span class="token punctuation">&#123;</span> mask<span class="token operator">-</span>length <span class="token punctuation">|</span> mask <span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span> nexthop next<span class="token operator">-</span>hop<span class="token operator">-</span>address <span class="token punctuation">|</span> outgoing<span class="token operator">-</span>interface interface<span class="token operator">-</span><span class="token function">type</span> interface<span class="token operator">-</span>number <span class="token punctuation">&#125;</span> <span class="token operator">*</span> <span class="token function">out-label</span> <span class="token function">out-label</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>static-lsp ingress命令用来为入口节点配置静态LSP</p></blockquote><ul><li>推荐采用指定next-hop的方式配置静态LSP，确保本地路由表中存在与指定目的IP地址精确匹配的路由项，包括目的IP地址和下一跳IP地址</li><li>如果LSP出接口为以太网类型，必须配置nexthop next-hop-address参数以保证LSP的正常转发</li><li>out-label的取值范围为16~1048575</li></ul><p><strong>2. Transit LSR配置</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> static<span class="token operator">-</span>lsp transit lsp<span class="token operator">-</span>name <span class="token punctuation">[</span> incoming<span class="token operator">-</span>interface interface<span class="token operator">-</span><span class="token function">type</span> interface<span class="token operator">-</span>number <span class="token punctuation">]</span> in<span class="token operator">-</span>label in<span class="token operator">-</span>label <span class="token punctuation">&#123;</span> nexthop next<span class="token operator">-</span>hop<span class="token operator">-</span>address <span class="token punctuation">|</span> outgoing<span class="token operator">-</span>interface interface<span class="token operator">-</span><span class="token function">type</span> interface<span class="token operator">-</span>number <span class="token punctuation">&#125;</span><span class="token operator">*</span> <span class="token function">out-label</span> <span class="token function">out-label</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>static-lsp transit命令用来为中间转发节点配置静态LSP</p></blockquote><ul><li>下一跳和出接口的配置规则和Ingress LSR保持一致</li><li>out-label占用的是下游LSR的标签空间，而下游空间采用的标签分发方式不确定，所以out-label的标签空间为16~1048575</li><li>in-label占用的是当前LSR的标签空间，采用静态LSP时，标签空间为16~1023</li></ul><p><strong>3. Egress LSR配置</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> static<span class="token operator">-</span>lsp egress lsp<span class="token operator">-</span>name <span class="token punctuation">[</span> incoming<span class="token operator">-</span>interface interface<span class="token operator">-</span><span class="token function">type</span> interface<span class="token operator">-</span>number <span class="token punctuation">]</span> in<span class="token operator">-</span>label in<span class="token operator">-</span>label <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>static-lsp egress命令用来在出口节点配置静态LSP</p></blockquote><p><strong>4. 查看静态LSP配置</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> display mpls static<span class="token operator">-</span>lsp <span class="token punctuation">[</span> lsp<span class="token operator">-</span>name <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token punctuation">&#123;</span> include <span class="token punctuation">|</span> exclude <span class="token punctuation">&#125;</span> ip<span class="token operator">-</span>address mask<span class="token operator">-</span>length <span class="token punctuation">]</span> <span class="token punctuation">[</span> verbose <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ldp原理与配置">LDP原理与配置</h2><h3 id="ldp基本概念">LDP基本概念</h3><blockquote><p>LDP 标签分发协议 [Label Distribution Protocol] 是MPLS的一种控制协议，相当于传统网络中的信令协议，负责FEC的分类、标签的分配以及LSP的建立和维护等操作</p></blockquote><ul><li>LDP规定了标签分发过程中的各种消息以及相关处理过程</li></ul><p><strong>LDP的工作过程主要分为两部分</strong>：</p><ol><li>LSR之间建立LDP会话</li><li>LSR之间基于LDP会话动态交换标签与FEC的映射信息，并根据标签信息建立LSP</li></ol><p>LSR之间交互标签绑定消息之前必须建立LDP会话。LDP会话可以分为：</p><ul><li><strong>本地LDP会话 [Local LDP Session]</strong> ：建立会话的两个LSR之间是直连的</li><li><strong>远程LDP会话 [Remote LDP Session]</strong>：建立会话的两个LSR之间可以是直连的，也可以是非直连的</li></ul><p>两台LSR之间交互Hello消息之后，即建立起<strong>邻接体 [Adjacency]关系</strong></p><p>在邻接体关系的基础上，两台LSR之间交互LDP会话消息，建立起LDP会话，两台设备之间形成<strong>LDP对等体关系</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\LDP标签分发.png" style="zoom:50%;" /><p>每一台运行了LDP的LSR除了必须配置<strong>LSR ID</strong>，还必须拥有<strong>LDP ID</strong></p><ul><li>LDP ID的长度为48bit，由32bit的<strong>LSR ID</strong>与16bit的**标签空间标识符 [Label Space ID] **构成</li><li>LDP ID以<strong>LSR ID : 标签空间标识</strong>的形式呈现</li><li>标签空间标识一般存在两种形态：<ul><li>值为0：表示基于设备的标签空间</li><li>值非0：表示基于接口的标签空间</li></ul></li></ul><h4 id="ldp消息">LDP消息</h4><p>LDP消息可分为四大类型：<strong>发现消息 [Discovery Message]</strong>，<strong>会话消息 [Session Message]</strong>，<strong>通告消息 [Advertisement Message]</strong> 和<strong>通知消息 [Notification Message]</strong></p><ul><li>发现消息：用来宣告和维护网络中一个LSR的存在，如Hello报文</li><li>会话消息：用于建立、维护和终止LDP对等体之间的会话，如Initialization报文、KeepAlive报文</li><li>通告消息：用来生成、改变和删除FEC的标签映射</li><li>通知消息：用来宣告告警和错误信息</li></ul><blockquote><p>LDP消息承载在UDP或TCP之上，端口号均为646</p></blockquote><ul><li>发现消息用来发现邻居，承载在UDP报文上</li><li>其他消息的传递要求可靠而有序，所以LDP使用TCP建立会话，会话、通告和通知消息都基于TCP传递</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\LDP消息.png" style="zoom:50%;" /><h4 id="ldp报文封装">LDP报文封装</h4><p>LDP协议报文包括了<strong>LDP头部</strong>和<strong>LDP消息</strong>两部分</p><ul><li>LDP头部中携带了LDP版本、报文长度等信息</li><li>LDP消息中携带了消息类型、消息长度等信息</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\LDP封装.png" style="zoom:50%;" /><ul><li><p>LDP头部长度为10Byte，包括Version，PDU Length和LDP Identifier三部分</p><ul><li>Version占用2Byte，表示LDP版本号，当前版本号为1</li><li>PDU Length占用2Byte，以字节为单位表示除了Version和PDU Length以外的其他部分的总长度</li><li>LDP Identifier，即LDP ID，长度6Byte，其中前4Byte用来唯一标识一个LSR，后2Byte用来表示LSR的标签空间</li></ul></li><li><p>LDP消息包含五个部分。</p><ul><li><p>U占用1个bit，为Unknown Message bit</p><ul><li>当LSR收到一个无法识别的消息时，该消息的U=0时，LSR会返回给该消息的生成者一个通告，当U=1时，忽略该无法识别的消息，不发送通告给生成者</li></ul></li><li><p>Message Length占用2个bytes，以字节为单位<strong>表示Message ID、Mandatory Parameters和Optional Parameters的总长度</strong></p></li><li><p><strong>Message ID</strong>占用32个bit，用来标识一个消息</p></li><li><p><strong>Mandatory Parameters</strong>和<strong>Optional Parameters</strong>分别为<strong>可变长的该消息的必须的参数和可选的参数</strong></p></li><li><p>Message Type表示具体的消息类型，目前LDP定义的常用的消息有Notification，Hello，Initialization，KeepAlive，Address，Address Withdraw，Label Mapping，Label Request，Label Abort Request，Label Withdraw，Label Release</p></li></ul></li></ul><h3 id="ldp工作原理">LDP工作原理</h3><h4 id="ldp会话状态机">LDP会话状态机</h4><blockquote><p>LDP Session协商过程可以通过状态机来描述，LDP使用5种状态描述LDP会话状态机，分别是<strong>Non-Existent，Initialized，OpenRec，OpenSent，Operational</strong></p></blockquote><ul><li><strong>Non-Existent状态</strong>：该状态为LDP Session最初的状态，在此状态双方发送HELLO消息，选举主动方，在收到TCP连接建立成功事件的触发后变为Initialized状态</li><li><strong>Initialized状态</strong>：该状态下分为<strong>主动方和被动方两种情况</strong><ul><li>主动方将主动发送Initialization消息，转OpenSent 状态，等待回应的Initialization消息</li><li>被动方在此状态等待主动方发给自己的Initialization消息，如果收到的Initialization消息的参数可以接受，则发送Initialization和KeepAlive转向OpenRec状态</li><li>主动方和被动方在此状态下收到任何非Initialization消息或等待超时时，都会转向Non-Existent状态</li></ul></li><li><strong>OpenSent 状态</strong>：此状态为主动方发送Initialization消息后的状态，在此状态等待被动方回答Initialization消息和KeepAlive消息<ul><li>如果收到的Initialization消息中的参数可以接受则转向OpenRec状态</li><li>如果参数不能接受或Initialization消息超时则断开TCP连接转向Non-Existent状态</li></ul></li><li><strong>OpenRec状态</strong>：<ul><li>此状态不管主动方还是被动方都是发出KeepAlive后的状态，在等待对方回应KeepAlive，只要<strong>收到KeepAlive消息就转向Operational状态</strong></li><li>如果收到其它消息或KeepAlive超时则转向Non-Existent状态</li></ul></li><li>Operational状态：该状态是LDP Session成功建立的标志，在此状态下可以发送和接收所有其它的LDP消息<ul><li>在此状态如果KeepAlive超时或收到致命错误的Notification消息或者自己主动发送Shutdown消息主动结束会话，都会转向Non-Existent状态</li></ul></li></ul><p>LDP状态切换信息可以通过指令<strong>debug mpls ldp session</strong>看到</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\LDP会话状态机.png" style="zoom:50%;" /><h4 id="ldp会话建立流程">LDP会话建立流程</h4><h5 id="发现阶段：">发现阶段：</h5><p>设备通过<strong>周期性地发送LDP链路Hello报文 [LDP Link Hello]</strong>，实现LDP基本发现机制</p><ul><li>LDP链路Hello报文使用UDP报文，<strong>目的地址是组播地址224.0.0.2</strong></li><li>如果LSR在特定接口接收到LDP链路Hello报文，表明该接口存在LDP邻接体</li></ul><h5 id="tcp连接建立阶段">TCP连接建立阶段:</h5><blockquote><p>两台LSR之间在建立LDP会话之前，需要先建立TCP连接，以便进行LDP协议报文的交换</p></blockquote><ul><li>Hello报文中携带传输地址，双方后续将使用传输地址建立LDP会话<ul><li>设备的传输地址被包含在LDP Hello报文中，LSR通过Hello报文知晓邻居的传输地址</li></ul></li><li>传输地址较大的一方作为主动方，主动发起建立TCP连接</li><li>经过TCP三次握手之后，两者建立起TCP连接</li><li>补充：<ul><li>在使用Hello报文发现邻居并且知道了对方的传输地址后，邻居之间就会开始尝试TCP三次握手，并且交互LDP的初始化报文、标签映射报文等，这些报文都使用双方的传输地址作为源、目的IP地址</li><li>LSR必须拥有到达邻居的传输地址的路由</li><li>缺省情况下，公网的LDP传输地址等于设备的LSR ID，私网的传输地址等于接口的主IP地址</li></ul></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\发现与建立阶段.png" style="zoom:50%;" /><h5 id="会话建立与保持">会话建立与保持</h5><ol><li>TCP连接建立成功后，主动方发送LDP初始化报文，协商建立LDP会话的相关参数</li><li>LDP会话的相关参数包括LDP协议版本、标签分发方式、KeepAlive保持定时器的值、最大PDU长度和标签空间等</li><li>被动方收到初始化报文后，若接受主动方的相关参数，则回应KeepAlive报文作为确认，为了提高发送效率同时发送自己的初始化报文</li><li>主动方收到被动方的初始化报文后，若接受相关参数，则回复KeepAlive报文给被动方</li><li>双方都收到对端的KeepAlive报文后，会话建立成功。后续通过周期性发送的KeepAlive报文保持会话</li></ol><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\会话建立与保持.png" style="zoom: 67%;" /><h5 id="ldp邻居状态">LDP邻居状态</h5><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">&lt;R1> display mpls ldp peer LDP Peer Information in Public networkA <span class="token string">'*'</span> before a peer means the peer is being deleted<span class="token punctuation">.</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>PeerID                 TransportAddress   DiscoverySource<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2:0              2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2            GigabitEthernet0<span class="token operator">/</span>0<span class="token operator">/</span>0<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>TOTAL: 1 Peer<span class="token punctuation">(</span>s<span class="token punctuation">)</span> Found<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>PeerID：LDP邻居的LDP ID，上文的2.2.2.2:0，其中2.2.2.2代表的是邻居节点的LSR ID，0代表的是标签空间是基于平台的</li><li>TransportAddress：LDP邻居的传输地址，2.2.2.2代表邻居用来建立TCP连接的IP地址</li></ul><h5 id="ldp会话状态">LDP会话状态</h5><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">&lt;R1> display mpls ldp session LDP Session<span class="token punctuation">(</span>s<span class="token punctuation">)</span> in Public NetworkCodes: LAM<span class="token punctuation">(</span>Label Advertisement Mode<span class="token punctuation">)</span><span class="token punctuation">,</span> SsnAge Unit<span class="token punctuation">(</span>DDDD:HH:MM<span class="token punctuation">)</span>A <span class="token string">'*'</span> before a session means the session is being deleted<span class="token punctuation">.</span><span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>PeerIDStatus   LAM  SsnRole  SsnAge      KASent<span class="token operator">/</span>Rcv<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2:0Operational DU   Passive  0000:00:33  133<span class="token operator">/</span>133<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span><span class="token operator">-</span>TOTAL: 1 session<span class="token punctuation">(</span>s<span class="token punctuation">)</span> Found<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Status：LDP会话的状态</li><li>LAM：标签发布模式：标签发布模式有DU和DoD两种模式，此例中采用的是DU模式</li><li>SsnRole：LSR在LDP会话中的角色，Active表示建立LDP会话的主动方；Passive表示建立LDP会话的被动方</li></ul><h4 id="ldp标签分发">LDP标签分发</h4><h5 id="标签的发布和管理">标签的发布和管理</h5><ul><li>在MPLS网络中，<strong>下游LSR决定标签和FEC的绑定关系，并将这种绑定关系发布给上游LSR</strong></li><li>LDP通过<strong>发送标签请求和标签映射消息</strong>，在LDP对等体之间通告FEC和标签的绑定关系来建立LSP</li><li><strong>标签的发布和管理由标签发布方式、标签分配控制方式和标签保持方式来决定</strong></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\标签发布与管理方式.png" style="zoom:50%;" /><blockquote><p>MPLS根据数据的转发方向确定上、下游关系。标签报文从上游LSR发出，被下游LSR接收并处理</p></blockquote><p><strong>标签发布方式 - DU模式</strong></p><p>对于一个特定的FEC，LSR无需从上游获得标签请求消息即进行标签分配与分发，<strong>LSR会主动将自己为FEC捆绑的标签通告给上游邻居，无需邻居先发起请求再通告</strong></p><ul><li>标签分配：<strong>LSR从本地标签空间中取出一个标签与FEC绑定</strong></li><li>标签分发：LSR将标签与FEC的绑定关系通知给上游LSR</li><li>标签发布方式为DU时，系统默认支持LDP为所有对等体分标签，即每个节点都可以向所有的对等体发布标签映射关系，不再区分上下游关系。在只给上游对等体分标签情况下，发送标签映射消息的时候，要根据路由信息对会话的上下游关系进行确认。</li></ul><p><strong>标签发布方式 - DoD模式</strong></p><p>对于一个特定的FEC，LSR获得标签请求消息之后才进行标签分配与分发，<strong>即只有上游邻居向自己请求标签映射时，LSR才会通告标签映射给该邻居</strong></p><p>一般情况下，对特定FEC的访问需求会触发标签请求消息</p><h5 id="标签分配控制方式-独立模式">标签分配控制方式 - 独立模式</h5><p><strong>独立 [Independent] 模式</strong>：本地LSR可以自主地分配一个标签绑定到某个FEC，并通告给上游LSR，而无需等待下游的标签</p><p><strong>标签分配控制方式需要与标签发布方式结合使用</strong>：</p><p>在使用DU作为标签分发方式的情况下，如图所示，R2和R3对192.168.4.0/24这条FEC，可以在上游LSR无请求，且自身没有收到下游LSR的标签绑定信息的情况下，主动向上游LSR通告标签绑定信息</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\DU+独立模式.png" style="zoom:50%;" /><p>采用DoD作为标签发布方式时，如图所示，R2和R3对192.168.4.0/24这条FEC，只要收到上游LSR的标签请求消息，可以在自身没有收到下游LSR的标签绑定信息的情况下，向上游LSR通告标签绑定信息</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\DoD+独立模式.png" alt="DoD+独立模式" style="zoom:50%;" /><h5 id="标签分配控制方式-有序模式">标签分配控制方式 - 有序模式</h5><p><strong>有序 [Ordered] 模式</strong>：对于LSR上某个FEC的标签映射，只有当该LSR已经具有此FEC下一跳的标签映射消息、或者该LSR就是此FEC的出节点时，该LSR才可以向上游发送此FEC的标签映射</p><p><strong>标签保留 - 自由模式</strong></p><p><strong>自由 [Liberal] 模式</strong>：</p><ul><li>LSR收到的标签映射可能来自下一跳，也可能来自非下一跳</li><li>对于从邻居LSR收到的标签映射，无论邻居LSR是不是自己的下一跳都保留</li></ul><blockquote><p>当基于IP网络部署MPLS时，LSR根据IP路由表判断接收到的标签映射是否来自下一跳</p></blockquote><ul><li>Liberal方式的优点在于路由发生变化时能够快速建立新的LSP进行数据转发，因为Liberal方式保留所有标签</li><li>Liberal方式的缺点是需要分发和维护不必要的标签映射</li></ul><p><strong>标签保留 - 保守模式</strong></p><p><strong>保守 [Conservative] 模式</strong>：对于从邻居LSR收到的标签映射，只有当邻居LSR是自己的下一跳时才保留</p><ul><li>Conservative方式的优点在于只需保留和维护用于转发数据的标签，以达到节约标签的目的<ul><li>当使用DU标签分发方式时，LSR可能从多个LDP邻居收到到同一网段的标签映射消息，如果采用Conservative保持方式，则只保留下一跳发来的标签，丢弃非下一跳发来的标签</li><li>当使用DoD标签分发方式时， LSR根据路由信息只向它的下一跳请求标签</li></ul></li><li>当网络拓扑变化引起下一跳邻居改变时：<ul><li>使用自由标签保持方式，LSR可以直接利用原来非下一跳邻居发来的标签，迅速重建LSP，但需要更多的内存和标签空间</li><li>使用保守标签保持方式，LSR只保留来自下一跳邻居的标签，节省内存和标签空间，但LSP重建会比较慢</li><li>保守标签保持方式通常与DoD方式一起，用于标签空间有限的LSR</li></ul></li></ul><p><strong>PHP [Penultimate Hop Popping，次末跳弹出]</strong></p><ul><li>如果激活了PHP特性，那么egress节点在为本地路由分配标签的时候，会分配一个特殊标签—3，该标签被称为隐式空标签（Implicit NULL Label）</li><li>当LSR转发一个标签报文时，如果发现对应的出标签值为3，则LSR会将栈顶标签弹出，并将里面所封装的数据转发给下游LSR</li></ul><p><strong>隐式空标签</strong></p><blockquote><p>缺省情况下，Egress节点向倒数第二跳分配 [隐式空标签 implicit-null]，即特殊标签3</p></blockquote><ul><li>但在部署QoS的场景下，标签被弹出后，其中的优先级也会一并丢失</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\MPLS原理与配置\隐式空标签.png" style="zoom:50%;" /><p><strong>显式空标签</strong></p><p>显式空标签机制，Egress节点向倒数第二跳分配特殊标签0</p><p>R3在转发标签报文时，若出标签封装为0，则不会将标签头部弹出，标签头部中的QoS信息得以保存。R4在收到带0标签的报文的时候，直接弹出标签，不用去查找ILM表项</p><p>缺省情况下，Egress分配的是隐式空标签</p><h4 id="在mpls中-运行ldp协议的lsr的操作小结">在MPLS中，运行LDP协议的LSR的操作小结</h4><ol><li>LSR首先通过运行IGP协议来构建路由表、FIB表</li><li>LDP根据相应的模式，为路由表中的路由前缀分配标签</li><li>LDP根据相应的模式，将自己为路由前缀分配的标签，通过LDP标签映射报文通告给LDP邻居</li><li>LSR将自己为路由前缀分配的标签，以及LDP邻居为该路由前缀通告的标签存储起来，并与出接口、下一跳地址等信息形成关联</li><li>当LSR转发到达目的网络的标签报文时，所使用的出站标签总是下游LDP邻居所通告的标签，此处所指的下游邻居，是设备的路由表中到达该目的网络的下一跳设备</li></ol><h3 id="ldp基本配置">LDP基本配置</h3><p><strong>1. 使能LDP</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> mpls ldp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>mpls ldp命令用来使能本节点的LDP能力，并进入LDP视图</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/0]</span> mpls ldp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>在接口视图下，使能当前接口的LDP功能。需先使能全局LDP能力后才能执行接口下的LDP使能命令</li></ul><p><strong>2. 配置LDP远端会话</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei]</span> mpls ldp remote<span class="token operator">-</span>peer remote<span class="token operator">-</span>peer<span class="token operator">-</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>mpls ldp remote-peer命令用来创建远端对等体并进入远端对等体视图</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-mpls-ldp-remote-PeerName]</span> remote<span class="token operator">-</span>ip ip<span class="token operator">-</span>address<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>remote-ip命令用来配置LDP远端对等体的IP地址</li></ul><p><strong>3. 配置触发LSP的策略</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-mpls]</span> lsp<span class="token operator">-</span>trigger <span class="token punctuation">&#123;</span> all <span class="token punctuation">|</span> host <span class="token punctuation">|</span> ip<span class="token operator">-</span>prefix ip<span class="token operator">-</span>prefix<span class="token operator">-</span>name <span class="token punctuation">|</span> none <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>lsp-trigger命令用来指定哪些静态路由及IGP路由会触发LDP LSP的建立，缺省情况下，根据32位地址的IP路由触发LDP建立LSP</li></ul><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td><strong>all</strong></td><td>所有静态路由和IGP路由项触发建立LSP</td></tr><tr><td><strong>host</strong></td><td>32位地址的主机IP路由触发建立LSP</td></tr><tr><td><strong>ip-prefix</strong> ip-prefix-name</td><td>根据IP地址前缀列表触发建立LSP</td></tr><tr><td><strong>none</strong></td><td>不触发建立LSP</td></tr></tbody></table><p>注：配置ALL参数后，所有静态路由及IGP路由会触发LDP建立LSP，会导致LSP数量庞大，占用过多的标签资源，以及整网LSP收敛速度变慢。故一般情况下不推荐配置此参数</p><p><strong>4. 配置LDP标签发布模式</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-GigabitEthernet0/0/0]</span> mpls ldp advertisement <span class="token punctuation">&#123;</span> dod <span class="token punctuation">|</span> du <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>缺省情况下，标签发布模式为<strong>下游自主标签分发 [Downstream Unsolicited]</strong></p><ul><li>如果标签分配方式为DU，则标签保持模式为Liberal</li><li>如果标签分配方式为DOD，则标签保持模式为Conservative</li></ul><p><strong>5. 配置LDP标签分配控制方式</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-mpls-ldp]</span> label distribution control<span class="token operator">-</span>mode <span class="token punctuation">&#123;</span> independent <span class="token punctuation">|</span> ordered <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>缺省情况下，LDP标签分配控制方式为<strong>有序标签分配控制 [Ordered]</strong></p><p><strong>6. 配置PHP特性</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[Huawei-mpls]</span> label advertise <span class="token punctuation">&#123;</span> explicit<span class="token operator">-</span>null <span class="token punctuation">|</span> implicit<span class="token operator">-</span>null <span class="token punctuation">|</span> non<span class="token operator">-</span>null <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>缺省情况下，出节点向倒数第二跳分配 <strong>隐式空标签 implicit-null</strong></p><table><thead><tr><th>参数</th><th>参数说明</th><th>取值</th></tr></thead><tbody><tr><td><strong>explicit-null</strong></td><td>不支持PHP特性，出节点向倒数第二跳分配显式空标签</td><td>显式空标签的值为0</td></tr><tr><td><strong>implicit-null</strong></td><td>支持PHP特性，出节点向倒数第二跳分配隐式空标签</td><td>隐式空标签的值为3</td></tr><tr><td><strong>non-null</strong></td><td>不支持PHP特性，出节点向倒数第二跳正常分配标签</td><td>分配的标签值不小于16</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;MPLS相关知识&lt;/h1&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h2 id=&quot;mpls原理与配置&quot;&gt;MPLS原理与配置&lt;/h2&gt;
&lt;h3 id=&quot;mpls基础&quot;&gt;MPLS基础&lt;/h3&gt;
&lt;h4 id=&quot;mpls概述&quot;&gt;MPLS概述&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;MPL</summary>
      
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="路由与交换进阶" scheme="https://shierjinghuang.github.io/tags/%E8%B7%AF%E7%94%B1%E4%B8%8E%E4%BA%A4%E6%8D%A2%E8%BF%9B%E9%98%B6/"/>
    
    <category term="HCIP" scheme="https://shierjinghuang.github.io/tags/HCIP/"/>
    
    <category term="MPLS" scheme="https://shierjinghuang.github.io/tags/MPLS/"/>
    
  </entry>
  
  <entry>
    <title>Windows Server Active Directory域服务配置与管理全面指南</title>
    <link href="https://shierjinghuang.github.io/2025/04/20/Windows%20server%E7%9A%84AD%E5%9F%9F%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%AE%A1%E7%90%86/"/>
    <id>https://shierjinghuang.github.io/2025/04/20/Windows%20server%E7%9A%84AD%E5%9F%9F%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%AE%A1%E7%90%86/</id>
    <published>2025-04-20T10:14:40.000Z</published>
    <updated>2025-05-03T05:16:30.632Z</updated>
    
    <content type="html"><![CDATA[<h1>Windows Server Active Directory (AD) 域服务配置与管理全面指南</h1><p>[TOC]</p><p>Active Directory (AD) 是 Windows Server 的核心服务，提供了集中式身份验证和授权服务。以下详细介绍 AD 域服务的配置与管理。</p><h2 id="一-active-directory-基础概念">一、Active Directory 基础概念</h2><h3 id="1-1-什么是-active-directory">1.1 什么是 Active Directory</h3><p><strong>Active Directory</strong> 是一种由微软开发的目录服务，它允许网络管理员存储和组织网络中的对象，如用户、计算机、打印机等，以及管理这些对象的访问和权限。</p><ul><li>用于:集中存储网络资源信息、提供身份验证和授权服务、实现策略管理和软件分发</li></ul><p><strong>主要功能和特点包括：</strong></p><ol><li><strong>身份验证和授权：</strong> Active Directory 提供了认证机制，允许用户通过登录来访问网络资源，并授权给用户适当的权限以执行特定的操作。</li><li><strong>目录服务：</strong> 它是一个层次化的数据库，用于存储和组织网络中的对象信息。这些对象可以是用户、组、计算机、打印机等。</li><li><strong>集中管理：</strong> 管理员可以使用 Active Directory 中心化地管理网络中的所有对象和其访问权限，而不需要在每台计算机上单独配置。</li><li><strong>安全性和策略管理：</strong> Active Directory 提供了安全性功能，如访问控制、加密、审计和密码策略管理，以确保网络资源的安全性。</li><li><strong>复制和冗余：</strong> Active Directory 使用多个域控制器（Domain Controller）来提供高可用性和冗余，确保即使一个域控制器失效，网络服务也能继续运行。</li><li><strong>集成其他服务：</strong> 它与其他微软服务和产品集成紧密，如Exchange Server、SharePoint、Azure等，使得企业能够统一管理整个IT基础架构。</li></ol><p><strong>使用场景：</strong></p><ul><li><strong>企业内部网络管理：</strong> 主要用于大型组织和企业，以管理其内部的用户、计算机和资源访问。</li><li><strong>单点登录（SSO）：</strong> Active Directory 可以作为单点登录（SSO）系统的基础，使用户在企业网络中的各种应用和服务中实现统一的登录体验。</li><li><strong>安全管理和合规性：</strong> 通过强化的安全策略和审计功能，帮助组织保护其数据和资源，并符合相关的法规和标准。</li></ul><h3 id="1-2-核心组件">1.2 核心组件</h3><ul><li><strong>域 Domain <strong>: 活动目录的一种实现形式，主要由</strong>域控制器</strong>和<strong>成员计算机</strong>组成</li><li><ul><li><strong>域控制器（Domain Controller, DC）：</strong> 域控制器是存储和管理 Active Directory 数据库的服务器。每个域至少有一个域控制器，它负责验证用户的登录请求、存储和维护域中的对象（如用户、组、计算机等）以及处理其他域控制器的同步和复制<ul><li>一般来说：域控制器就是安装了活动目录的一台计算机</li><li>活动目录的数据都存储在域控制器内</li><li>一个域可以有多台域控制器</li></ul></li><li><strong>域名系统（Domain Name System, DNS）：</strong> DNS 在 Active Directory 中扮演着重要角色，用于解析域名和 IP 地址之间的关系，确保客户端能够正确地定位和访问域控制器</li></ul></li><li>**名称空间（DNS域名空间）：**是一个区域的名字，定位了网络资源（域名资源）的位置<ul><li>**AD DS复制:**将AD DS数据库的所有更新复制到域中或林中的所有其他域控制器<ul><li>作用：确保所有域控制器都有相同的信息、使用多主机复制模型、可通过创建AD DS站点来进行管理</li></ul></li></ul></li><li>**森林（Forest）：**一个森林是一个或多个域的逻辑集合，它们共享一个单一的林根和安全边界。森林是一个安全和管理的边界，它定义了信任关系和策略。</li><li>**树（Tree）：**具有连续命名空间的域</li><li><strong>组织单位（OU）：</strong> 用于组织和管理对象的容器</li><li><strong>对象</strong>: 用户、计算机、组、打印机等资源<ul><li>对象由一组属性组成，它代表的是具体的事物</li><li>属性就是用来描述对象的数据</li></ul></li></ul><h3 id="1-3-域结构">1.3 域结构</h3><ul><li>域的组成：物理结构、逻辑结构</li><li>物理结构：侧重于活动目录的配置和优化</li><li>逻辑结构：侧重于网络资源的管理</li></ul><p><strong>1、逻辑结构</strong></p><ul><li>单域：在网络中只建立了一个域</li><li>域树：具有连续域名空间的多个域（<a href="http://qfnu.com">qfnu.com</a> <a href="http://jsj.qfnu.com">jsj.qfnu.com</a>）</li><li>域林：由一个或者多个没有形成连续域名空的域树组成(<a href="http://QFNU.com">QFNU.com</a>] <a href="http://JNU.com">JNU.com</a>] )</li><li>组织单位：域内部的一种容器（用于存放对象）</li></ul><p><strong>2、物理结构</strong></p><ul><li>站点：可以将高速连接的网络中多台域控制放入一个站点（一个站点必须一个GC 全局边路服务器）</li><li>站点是一个物理范围，对应高速稳定的ip子网，如企业内部的局域网。</li></ul><p><strong>一个域的域控制器分布在不同的站点中</strong>，而站点之间是慢速连接，由于不同站点的域控制器之间会互相复制AD DS数据库，因此要谨慎规划执行复制的时段，尽量<strong>在离峰时段执行复制工作，频率不要过高，避免复制时占用站点之间的连接带宽，影响站点之间其他数据的传输效率</strong></p><blockquote><p>一个站点中可以包含多个域，一个域也可以包含多个站点</p></blockquote><p>同一个站点内的域控制器之间是通过快速链路连接在一起的，在复制AD DS数据时，可以实现<strong>快速复制</strong>。AD DS会设置让同一个站点内、隶属于同一个域的域控制器之间自动执行复制操作，默认的复制频率也要高于不同站点之间的域控制器</p><p><strong>域控制器（DC）</strong></p><p>域控制器在多域环境下同步活动目录数据的功能。</p><p>域控制器保存了活动目录信息的副本，并负责把这些信息及其最新的变化复制到其他域控制器上，使各个DC上的信息保持同步。</p><p>主要有以下3种类型的活动目录数据会在域控制器之间进行复制。</p><p>域数据：包含域中的对象有关的信息，包括用户、计算机和电子邮件联系人等对象及他们的属性。</p><p>配置数据：描述目录的拓扑结构，包括所有域、域树和域林的列表、以及域控制器和全局编录服务器的所处位置</p><p>架构数据：对于活动目录中存储的所有对象和属性数据的正式定义。</p><h2 id="二-ad-域服务安装与配置">二、AD 域服务安装与配置</h2><h3 id="2-1-系统要求">2.1 系统要求</h3><ul><li>Windows Server 2012 R2 或更高版本</li><li>至少 2GB RAM (建议 4GB 或更多)</li><li>至少 20GB 可用磁盘空间</li><li>静态 IP 地址</li><li>DNS 服务支持</li></ul><h3 id="2-2-安装步骤">2.2 安装步骤</h3><h4 id="方法1-使用服务器管理器">方法1: 使用服务器管理器</h4><ol><li>打开&quot;服务器管理器&quot;</li><li>点击&quot;添加角色和功能&quot;</li><li>选择&quot;基于角色或基于功能的安装&quot;</li><li>选择服务器</li><li>勾选&quot;Active Directory 域服务&quot;</li><li>完成安装后，点击&quot;将此服务器提升为域控制器&quot;</li></ol><h4 id="方法2-使用-powershell">方法2: 使用 PowerShell</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">Install-WindowsFeature</span> <span class="token operator">-</span>Name AD<span class="token operator">-</span>Domain<span class="token operator">-</span>Services <span class="token operator">-</span>IncludeManagementTools<span class="token function">Import-Module</span> ADDSDeployment<span class="token function">Install-ADDSForest</span> <span class="token operator">-</span>DomainName <span class="token string">"yourdomain.com"</span> <span class="token operator">-</span>DomainNetbiosName <span class="token string">"YOURDOMAIN"</span> <span class="token operator">-</span>InstallDns<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-3-域控制器配置选项">2.3 域控制器配置选项</h3><ol><li><p><strong>部署配置</strong>:</p><ul><li>添加新林</li><li>向现有域添加域控制器</li><li>添加新域到现有林</li></ul></li><li><p><strong>域控制器选项</strong>:</p><ul><li>设置域功能级别(影响可用功能)</li><li>指定 DNS 选项</li><li>设置目录服务还原模式(DSRM)密码</li></ul></li><li><p><strong>DNS 选项</strong>:</p><ul><li>自动创建 DNS 委派(适用于子域)</li></ul></li><li><p><strong>路径</strong>:</p><ul><li>指定数据库、日志文件和 SYSVOL 的位置</li></ul></li></ol><h2 id="三-active-directory-管理工具">三、Active Directory 管理工具</h2><h3 id="3-1-主要管理工具">3.1 主要管理工具</h3><ol><li><p><strong>Active Directory 用户和计算机</strong></p><ul><li>管理用户、组、计算机和 OU</li><li>路径: <code>dsa.msc</code></li></ul></li><li><p><strong>Active Directory 站点和服务</strong></p><ul><li>管理物理网络拓扑和复制</li><li>路径: <code>dssite.msc</code></li></ul></li><li><p><strong>Active Directory 域和信任</strong></p><ul><li>管理域信任关系</li><li>路径: <code>domain.msc</code></li></ul></li><li><p><strong>组策略管理(GPMC)</strong></p><ul><li>管理组策略对象(GPO)</li><li>路径: <code>gpmc.msc</code></li></ul></li><li><p><strong>ADSI 编辑器</strong></p><ul><li>高级 AD 对象编辑</li><li>路径: <code>adsiedit.msc</code></li></ul></li></ol><h3 id="3-2-常用命令行工具">3.2 常用命令行工具</h3><ul><li><code>dsquery</code>: 查询 AD 对象</li><li><code>dsadd</code>: 添加 AD 对象</li><li><code>dsmod</code>: 修改 AD 对象</li><li><code>dsmove</code>: 移动 AD 对象</li><li><code>dsrm</code>: 删除 AD 对象</li><li><code>nltest</code>: 测试域信任和 DC 定位</li><li><code>repadmin</code>: 监控和管理复制</li></ul><h2 id="四-用户与组管理">四、用户与组管理</h2><h3 id="4-1-用户账户管理">4.1 用户账户管理</h3><h4 id="创建用户">创建用户</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">New-ADUser</span> <span class="token operator">-</span>Name <span class="token string">"John Doe"</span> <span class="token operator">-</span>GivenName <span class="token string">"John"</span> <span class="token operator">-</span>Surname <span class="token string">"Doe"</span> <span class="token operator">-</span>SamAccountName <span class="token string">"jdoe"</span> <span class="token operator">-</span>UserPrincipalName <span class="token string">"jdoe@yourdomain.com"</span> <span class="token operator">-</span>Path <span class="token string">"OU=Users,DC=yourdomain,DC=com"</span> <span class="token operator">-</span>AccountPassword <span class="token punctuation">(</span><span class="token function">ConvertTo-SecureString</span> <span class="token string">"P@ssw0rd"</span> <span class="token operator">-</span>AsPlainText <span class="token operator">-</span>Force<span class="token punctuation">)</span> <span class="token operator">-</span>Enabled <span class="token boolean">$true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="用户属性配置">用户属性配置</h4><ul><li>密码策略</li><li>账户过期</li><li>登录时间限制</li><li>登录工作站限制</li><li>配置文件路径(漫游配置文件)</li><li>主目录</li></ul><h3 id="4-2-组管理">4.2 组管理</h3><h4 id="组类型">组类型</h4><ul><li><strong>安全组</strong>: 用于分配权限</li><li><strong>分发组</strong>: 仅用于电子邮件分发</li></ul><h4 id="组作用域">组作用域</h4><ul><li><strong>域本地组</strong>: 仅在创建它的域中使用</li><li><strong>全局组</strong>: 可以在整个林中使用</li><li><strong>通用组</strong>: 可以在整个林中使用，并可包含来自任何域的成员</li></ul><h4 id="创建组">创建组</h4><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">New-ADGroup</span> <span class="token operator">-</span>Name <span class="token string">"Sales Team"</span> <span class="token operator">-</span>GroupScope Global <span class="token operator">-</span>GroupCategory Security <span class="token operator">-</span>Path <span class="token string">"OU=Groups,DC=yourdomain,DC=com"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="五-组策略管理">五、组策略管理</h2><h3 id="5-1-组策略基础">5.1 组策略基础</h3><ul><li><strong>GPO (组策略对象)</strong>: 包含策略设置的集合</li><li><strong>GPC (组策略容器)</strong>: AD 中存储的 GPO 属性</li><li><strong>GPT (组策略模板)</strong>: SYSVOL 中的策略文件</li></ul><h3 id="5-2-创建和链接-gpo">5.2 创建和链接 GPO</h3><ol><li>打开&quot;组策略管理&quot;</li><li>右键&quot;组策略对象&quot;，选择&quot;新建&quot;</li><li>指定名称，点击&quot;确定&quot;</li><li>右键要应用 GPO 的域或 OU，选择&quot;链接现有 GPO&quot;</li><li>选择刚创建的 GPO</li></ol><h3 id="5-3-常用策略设置">5.3 常用策略设置</h3><ul><li><p><strong>计算机配置</strong>:</p><ul><li>密码策略</li><li>账户锁定策略</li><li>软件安装</li><li>启动/关机脚本</li><li>安全设置</li></ul></li><li><p><strong>用户配置</strong>:</p><ul><li>登录/注销脚本</li><li>文件夹重定向</li><li>Internet Explorer 设置</li><li>开始菜单和任务栏限制</li></ul></li></ul><h3 id="5-4-组策略处理顺序">5.4 组策略处理顺序</h3><ol><li>本地 GPO</li><li>站点链接的 GPO</li><li>域链接的 GPO</li><li>OU 链接的 GPO(从父 OU 到子 OU)</li><li>子 OU 链接的 GPO</li></ol><h3 id="5-5-组策略建模和结果">5.5 组策略建模和结果</h3><ul><li><strong>组策略建模</strong>: 模拟策略应用结果</li><li><strong>组策略结果</strong>: 查看实际应用的策略</li></ul><h2 id="六-ad-维护与故障排除">六、AD 维护与故障排除</h2><h3 id="6-1-日常维护任务">6.1 日常维护任务</h3><ol><li><strong>备份 AD</strong>:<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">wbadmin <span class="token function">start</span> systemstatebackup <span class="token operator">-</span>backuptarget:D:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><strong>监控事件日志</strong>: 特别关注目录服务和 DNS 服务器日志</li><li><strong>检查复制状态</strong>:<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">repadmin <span class="token operator">/</span>showrepl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><strong>清理陈旧对象</strong>: 使用 <code>ntdsutil</code> 工具</li></ol><h3 id="6-2-常见问题排查">6.2 常见问题排查</h3><ol><li><p><strong>登录问题</strong>:</p><ul><li>检查网络连接</li><li>验证 DNS 配置</li><li>检查账户状态(是否被锁定或过期)</li></ul></li><li><p><strong>复制问题</strong>:</p><ul><li>使用 <code>repadmin /syncall</code> 强制复制</li><li>检查防火墙设置</li><li>验证站点链接配置</li></ul></li><li><p><strong>DNS 问题</strong>:</p><ul><li>验证 SRV 记录</li><li>使用 <code>nslookup</code> 测试解析</li><li>检查动态更新设置</li></ul></li></ol><h3 id="6-3-灾难恢复">6.3 灾难恢复</h3><ol><li><p><strong>目录服务还原模式(DSRM)</strong>:</p><ul><li>启动时按 F8 进入</li><li>使用 <code>ntdsutil</code> 执行恢复操作</li></ul></li><li><p><strong>系统状态恢复</strong>:</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">wbadmin <span class="token function">start</span> systemstaterecovery <span class="token operator">-</span>version:MM<span class="token operator">/</span>DD<span class="token operator">/</span>YYYY<span class="token operator">-</span>HH:MM<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h2 id="七-高级-ad-功能">七、高级 AD 功能</h2><h3 id="7-1-ad-站点和服务">7.1 AD 站点和服务</h3><ul><li>优化跨地理位置域的复制</li><li>配置站点链接成本和计划</li></ul><h3 id="7-2-ad-信任">7.2 AD 信任</h3><ul><li>创建外部信任(与外部域)</li><li>创建林信任(与另一个 AD 林)</li><li>创建领域信任(与 Kerberos 领域)</li></ul><h3 id="7-3-ad-证书服务-ad-cs">7.3 AD 证书服务(AD CS)</h3><ul><li>部署企业 CA</li><li>配置证书自动注册</li><li>管理证书模板</li></ul><h3 id="7-4-ad-联合身份验证服务-ad-fs">7.4 AD 联合身份验证服务(AD FS)</h3><ul><li>配置单点登录(SSO)</li><li>建立与云服务的信任关系</li><li>管理声明提供程序</li></ul><h2 id="八-最佳实践">八、最佳实践</h2><ol><li><strong>命名规范</strong>: 建立一致的命名约定</li><li><strong>OU 设计</strong>: 基于管理需求而非组织结构</li><li><strong>权限委派</strong>: 使用最小权限原则</li><li><strong>文档记录</strong>: 记录所有配置变更</li><li><strong>测试环境</strong>: 在生产环境变更前测试</li><li><strong>定期审核</strong>: 检查账户权限和使用情况</li><li><strong>备份策略</strong>: 定期备份系统状态</li></ol><p>通过以上配置和管理实践，您可以构建一个安全、稳定且高效的 Active Directory 环境，为组织提供可靠的身份验证和资源管理服务。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Windows Server Active Directory (AD) 域服务配置与管理全面指南&lt;/h1&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;p&gt;Active Directory (AD) 是 Windows Server 的核心服务，提供了集中式身份验证和授权服务。以下详细</summary>
      
    
    
    
    <category term="学习笔记" scheme="https://shierjinghuang.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="AD" scheme="https://shierjinghuang.github.io/tags/AD/"/>
    
  </entry>
  
  <entry>
    <title>信息安全支撑技术</title>
    <link href="https://shierjinghuang.github.io/2025/04/20/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%94%AF%E6%92%91%E6%8A%80%E6%9C%AF/"/>
    <id>https://shierjinghuang.github.io/2025/04/20/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E6%94%AF%E6%92%91%E6%8A%80%E6%9C%AF/</id>
    <published>2025-04-20T10:14:40.000Z</published>
    <updated>2025-04-21T00:36:51.423Z</updated>
    
    <content type="html"><![CDATA[<h2 id="信息安全支撑技术">信息安全支撑技术</h2><blockquote><p>这一部分内容包括密码学、身份鉴别和访问控制，密码学有完整的材料整理，这里不再赘述</p></blockquote><h3 id="身份鉴别">身份鉴别</h3><h4 id="身份鉴别的概念">身份鉴别的概念</h4><ul><li><strong>标识</strong>：标识是实体身份的一种计算机表达，每个实体与计算机内部的一个身份表达绑定</li><li><strong>鉴别</strong>：确认实体是它所声明的，提供了关于某个实体身份的保证，某一实体确信与之打交道的实体正是所需要的实体</li></ul><p><strong>标识与鉴别的作用</strong>：</p><ul><li>作为访问控制的一种必要支持，访问控制的执行依赖于确知的身份</li><li>作为数据源认证的一种方法</li><li>作为审计追踪的支持</li></ul><p><strong>鉴别系统的构成</strong>：<strong>验证者、被验证者、可信赖者</strong></p><p><strong>鉴别的类型</strong>：<strong>单向鉴别、双向鉴别、第三方鉴别</strong></p><h5 id="鉴别的方式：">鉴别的方式：</h5><ul><li>基于实体所知 [知识、密码、PIN码等]</li><li>基于实体所有 [身份证、钥匙、智能卡、令牌等]</li><li>基于实体特征 [指纹，笔迹，声音，视网膜等]</li><li>双因素、多因素认证</li></ul><h4 id="基于实体所知的鉴别">基于实体所知的鉴别</h4><p>使用最广泛的身份鉴别方法，实现简单、成本低，提供弱鉴别</p><p>面临的威胁：<strong>暴力破解、木马窃取、线路窃听、重放攻击</strong></p><p><strong>密码暴力破解安全防护</strong></p><ul><li>使用安全的密码</li><li>系统、应用安全策略</li><li>随机验证码：变形、干扰、滑块、图像识别</li></ul><p><strong>木马窃取密码安全防护</strong></p><p>使用密码输入控件<br>安全的输入框，避免从输入框中还原密码<br>软键盘，对抗击键记录<br>随机排列字符，对抗屏幕截图重现</p><p><strong>密码嗅探攻击安全防护</strong></p><p><strong>加密：单向函数</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\单向函数.png" style="zoom: 80%;" /><blockquote><p>攻击者很容易构造一张q与p对应的表，表中的p尽可能包含所期望的值</p></blockquote><p>解决办法：在口令中使用随机数</p><p><strong>一次性口令</strong>：每次鉴别中所使用的密码不同</p><ul><li>有效应对密码嗅探及重放攻击</li></ul><p>实现机制：</p><ul><li>两端共同拥有一串随机口令，在该串的某一位置保持同步</li><li>两端共同使用一个随机序列生成器，在该序列生成器的初态保持同步</li><li>使用时间戳，两端维持同步的时钟</li></ul><p><strong>密码嗅探及重放攻击防护</strong></p><p><strong>挑战机制</strong></p><ol><li>客户端：请求登录</li><li>服务器：给出随机数作为挑战请求</li><li>将登录信息（用户名、密码）与随机数合并，使用单向函数（如MD5）生产字符串，作为应答返回服务器</li><li>服务认证后返还结果</li></ol><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\挑战机制.png" style="zoom:50%;" /><h4 id="基于实体所有的鉴别">基于实体所有的鉴别</h4><ul><li>采用较多的鉴别方法</li><li>使用用户所持有的东西来验证用户的身份</li><li>用于鉴别的东西通常不容易复制</li></ul><p><strong>鉴别物体</strong></p><ul><li>IC卡：[内存卡、逻辑加密卡、CPU卡]</li><li>特点：难以复制、安全性高</li></ul><p>安全威胁及防护</p><ul><li>损坏：封装应坚固耐用，承受日常使用中各种可能导致卡片损坏的行为</li><li>复制：<ul><li>保证IC卡中存储和处理的各种信息不被非法访问、复制、篡改或破坏PIN码甚至其他技术实现对数据的安全防护</li><li>确保逻辑安全措施得到落实</li></ul></li></ul><h4 id="基于实体特征的鉴别">基于实体特征的鉴别</h4><blockquote><p>使用每个人所具有的唯一生理特征</p></blockquote><p>鉴别的方式：<strong>指纹、掌纹、静脉、虹膜、视网膜、语音、面部扫描</strong></p><p>鉴别系统的有效性判断</p><ul><li>错误拒绝率 [FRR ]</li><li>错误接受率 [FAR]</li><li>交叉错判率 [CER] ：FRR=FAR的交叉点，CER用来反映系统的准确度</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\鉴别系统的有效性判断.png" style="zoom:50%;" /><h4 id="kerberos体系">Kerberos体系</h4><h5 id="单点登录基本概念">单点登录基本概念</h5><p><strong>单点登录概念</strong>：</p><blockquote><p>单一身份认证，身份信息集中管理，一次认证就可以访问其授权的所有网络资源。单点登录实质是安全凭证在多个应用系统之间的传递或共享</p></blockquote><p><strong>单点登录的安全优势</strong>：<strong>减轻安全维护工作量，减少错误、提高效率、统一安全可靠的登录验证</strong></p><p><strong>Kerberos协议介绍</strong></p><ul><li>由美国麻省理工学院开发，用于通信实体间的身份认证，1994年V5版本作为Internet标准草案公布</li><li>基于对称密码算法为用户提供安全的单点登录服务</li><li>包含可信第三方认证服务</li></ul><p><strong>Kerberos协议的优点</strong>：避免本地保存密码及会话中传输密码、客户端和服务器可实现互认</p><h5 id="kerberos体系构成">Kerberos体系构成</h5><p><strong>运行环境构成</strong></p><ul><li>密钥分发中心 [KDC]<ul><li>系统核心，负责维护所有用户的账户信息，由AS和TGS两个部分构成<ul><li><strong>认证服务器</strong> [AS :Authentication Server]</li><li><strong>票据授权服务器</strong> [TGS :Ticket Granting Server]</li></ul></li></ul></li><li>应用服务器</li><li>客户端</li></ul><p>其他概念：票据许可票据 [TGT]、服务许可票据 [SGT]</p><h4 id="kerberos认证过程">Kerberos认证过程</h4><h5 id="kerberos工作过程-获得tgt">Kerberos工作过程-获得TGT</h5><ol><li><p><strong>客户机以明文向AS发送访问TGS请求</strong></p><ul><li>请求信息：用户名、IP地址、时间戳、随机数等</li><li>AS验证用户 [只验证是否存在]</li></ul></li><li><p><strong>AS给予应答</strong></p><ul><li>TGT [包含TGS会话密钥]，使用KDC密码加密</li><li>其他信息 [包含TGS会话密钥]，使用用户密码加密</li></ul></li></ol><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\获得TGT.png" style="zoom:50%;" /><h5 id="kerberos工作过程-获得sgt">Kerberos工作过程-获得SGT</h5><ol><li><p>客户机向TGS发送访问应用服务请求：</p><ul><li>请求信息使用TGS会话密钥加密</li><li>包含访问应用服务名称</li></ul></li><li><p>TGS验证认证信息 [包含用户名等]后，给予应答：</p></li></ol><ul><li><strong>发送服务许可票据SGT</strong>和<strong>客户机与应用服务器之间的会话密钥</strong></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\获得SGT.png" style="zoom:50%;" /><h5 id="kerberos工作过程-获得服务">Kerberos工作过程-获得服务</h5><p>客户机向应用服务器请求服务<br>SGT（使用http服务器密码加密）<br>认证信息<br>应用服务器（验证认证信息）<br>提供服务器验证信息（如果需要验证服务器）</p><h4 id="认证-授权和计费">认证、授权和计费</h4><p><strong>RADIUS协议</strong>：最初为拨号用户进行认证和计费，现为通用的认证协议</p><ul><li>协议特点：协议实现简单，传输简捷高效、仅对传输过程中的密码本身进行加密</li></ul><p><strong>TACACS+协议</strong></p><ul><li>优点：运行于TCP协议，具有较高的可靠性、对包头外所有数据加密，安全性较高</li><li>缺点：大型网络中实时性较差</li></ul><h3 id="访问控制">访问控制</h3><h4 id="访问控制基本概念">访问控制基本概念</h4><ul><li><p><strong>访问控制</strong>：为用户对系统资源提供最大限度共享的基础上，对用户的访问权进行管理，防止对信息的非授权篡改和滥用</p></li><li><p><strong>访问控制作用</strong>：</p><ul><li>保证用户在系统安全策略下正常工作、拒绝非法用户的非授权访问请求、拒绝合法用户越权的服务请求</li></ul></li></ul><h5 id="访问控制模型">访问控制模型</h5><p>对一系列访问控制规则集合的描述，可以是非形式化的，也可以是形式化的。</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\访问控制模型.png" style="zoom:50%;" /><p><strong>访问控制模型的分类</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\访问控制模型的分类.png" style="zoom:50%;" /><h4 id="自主访问控制模型">自主访问控制模型</h4><blockquote><p>自主访问控制模型 [DAC]：客体的属主决定该客体的访问权限</p></blockquote><ul><li>优点：灵活，具有较好的易用性和可扩展性</li><li>缺点：安全性不高</li></ul><p>实现机制：访问控矩阵</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\访问控矩阵.png" style="zoom:50%;" /><p><strong>自主访问控制模型实现方式</strong></p><ul><li>访问控制表<ul><li>权限与客体关联</li><li>在客体上附加一个主体明细表的方法来表示访问控制矩阵的</li></ul></li><li>访问能力表<ul><li>权限与主体关联</li><li>为每个用户维护一个表，表示主体可以访问的客体及权限</li></ul></li></ul><p><strong>自主访问控制的特点</strong></p><ul><li>优点：根据主体的身份和访问权限进行决策、具有某种访问能力的主体能够自主地将访问权的某个子集授予其它主体、灵活性高，被大量采用</li><li>缺点：安全性不高、信息在传递过程中其访问权限关系会被改变</li></ul><h4 id="强制访问控制模型">强制访问控制模型</h4><p>强制访问控制 [MAC]：主体和客体都有一个固定的安全属性，系统用该安全属性来决定一个主体是否可以访问某个客体</p><ul><li>特点：安全属性是强制的，任何主体都无法变更、安全性较高，应用于军事等安全要求较高的系统</li></ul><h5 id="强制访问控制模型-blp">强制访问控制模型-BLP</h5><p>BLP模型概念</p><ul><li><p>由D. Elliott Bell和Leonard J. LaPadula于1973年提出的一种模拟军事安全策略的计算机访问控制模型，简称为BLP模型</p></li><li><p>是第一个严格形式化的安全模型，采用多级访问控制模型，用于保证系统信息的机密性</p></li><li><p>包括自主安全策略与强制安全策略</p></li><li><p>强制安全策略为每一个主体和客体都分配了安全级，根据安全级进行访问控制</p></li></ul><p><strong>BLP模型的构成</strong></p><p>安全级</p><ul><li>密级：绝密、机密、秘密、公开</li><li>范畴：军事，外交，商务…</li></ul><p>安全级之间支配关系（密级高于或等于、范畴包含）</p><p>安全策略</p><ul><li>简单安全规则（向下读）</li><li>*-规则（向上写）</li></ul><h5 id="强制访问控制模型-biba">强制访问控制模型-Biba</h5><p><strong>Biba模型概念</strong></p><ul><li>由Biba提出，与BLP模型数学上对偶的完整性保护模型</li><li>多级访问控制模型，保护数据完整性</li></ul><p><strong>Biba模型的访问控制策略</strong>：强制安全策略为每一个主体和客体都分配了完整级，根据完整级进行访问控制</p><p><strong>Biba模型的构成</strong></p><ul><li><p>完整级：安全级和范畴</p><ul><li>安全级：极为重要，非常重要，重要</li><li>范畴：军事，外交，商务</li></ul></li><li><p>完整级存在支配关系：与BLP类似，安全级高于或等于，范畴包含</p></li><li><p>安全策略</p><ul><li>向上读：主体可以读客体，当且仅当客体的完整级别支配主体的完整级</li><li>向下写：主体可以写客体，当且仅当主体的完整级别支配客体的完整级</li></ul></li></ul><h5 id="强制访问控制模型-clark-wilson">强制访问控制模型-Clark-Wilson</h5><p><strong>Clark-Wilson模型概念</strong></p><p>由计算机科学家David D. Clark和会计师David R. Wilson发表于1987年，是一个确保商业数据完整性的访问控制模型，侧重于满足商业应用的安全需求</p><p><strong>Clark-Wilson模型的访问控制策略</strong>：每次操作前和操作后，数据都必须满足这个一致性条件</p><h4 id="基于角色的访问控制模型">基于角色的访问控制模型</h4><p>基于角色的访问控制 [RBAC] 模型</p><ul><li>系统内置多个角色，将权限与角色进行关联</li><li>用户必须成为某个角色才能获得权限</li></ul><p><strong>基于角色访问控制模型访问控制策略</strong></p><ul><li>根据用户所担任的角色来决定用户在系统中的访问权限</li><li>用户必须成为某个角色，且还必须激活这一角色，才能对一个对象进行访问或执行某种操作</li></ul><h5 id="rbac模型构成">RBAC模型构成</h5><p>RBAC模型四种类型</p><ul><li>RBAC0，基本模型，规定了所有RBAC的基本内容，四种要素，用户(U)、角色®、会话(S)和权限§</li><li>RBAC1：包含RBAC0，加入安全等级及角色继承关系</li><li>RBAC2：包含RBAC0，加入约束条件，例如财务和会计不能为同一人</li><li>RBAC3：结合了RBAC1、RBAC2</li></ul><h4 id="特权管理基础设施">特权管理基础设施</h4><blockquote><p>PMI是与应用相关的授权服务管理，建立在PKI提供的可信的身份认证服务的基础上，采用基于属性证书的授权模式</p></blockquote><p>PMI的主要功能：对权限管理进行了系统的定义和描述、系统地建立起对用户身份到应用授权的映射、支持访问控制等应用</p><p>PMI的体系架构</p><p>PMI是属性证书、属性权威、属性证书库等部件的集合体，用来实现权限和属性证书的产生、管理、存储、分发和撤销等功能</p><ul><li>SOA:信任源点</li><li>AA:签发属性证书</li><li>ARA:证书签发请求</li><li>LDAP:属性证书发布查询</li></ul><p>属性证书：以证书形式给出用户和权限的关系</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全支撑技术\1745152833418.png" style="zoom:50%;" />]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;信息安全支撑技术&quot;&gt;信息安全支撑技术&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;这一部分内容包括密码学、身份鉴别和访问控制，密码学有完整的材料整理，这里不再赘述&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;身份鉴别&quot;&gt;身份鉴别&lt;/h3&gt;
&lt;h4 id=&quot;身</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="身份鉴别" scheme="https://shierjinghuang.github.io/tags/%E8%BA%AB%E4%BB%BD%E9%89%B4%E5%88%AB/"/>
    
    <category term="访问控制" scheme="https://shierjinghuang.github.io/tags/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/"/>
    
  </entry>
  
  <entry>
    <title>计算环境安全</title>
    <link href="https://shierjinghuang.github.io/2025/04/20/%E8%AE%A1%E7%AE%97%E7%8E%AF%E5%A2%83%E5%AE%89%E5%85%A8/"/>
    <id>https://shierjinghuang.github.io/2025/04/20/%E8%AE%A1%E7%AE%97%E7%8E%AF%E5%A2%83%E5%AE%89%E5%85%A8/</id>
    <published>2025-04-20T04:07:29.000Z</published>
    <updated>2025-04-21T00:36:38.029Z</updated>
    
    <content type="html"><![CDATA[<h2 id="计算环境安全">计算环境安全</h2><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\知识框架.png" style="zoom:50%;" /><h3 id="操作系统安全">操作系统安全</h3><h4 id="操作系统安全机制">操作系统安全机制</h4><p>操作系统安全目标：</p><ul><li>标识系统中的用户和进行身份鉴别</li><li>依据系统安全策略对用户的操作进行访问控制，防止用户和外来入侵者对计算机资源的非法访问</li><li>监督系统运行的安全性</li><li>保证系统自身的安全和完整性</li></ul><p>实现目标的安全机制：</p><ul><li><strong>标识与鉴别、访问控制、最小特权管理、信道保护、安全审计、内存存取保护、文件系统保护等</strong></li></ul><h5 id="标识与鉴别">标识与鉴别</h5><ul><li>Windows系统的标识：<strong>安全主体 [账户、计算机、服务等]</strong>、<strong>安全标识符 [Security Identifier，SID]</strong></li><li>Linux/Unix系统的标识：安全主体：用户标识号 [User ID]</li></ul><p><strong>Windows系统用户信息管理</strong></p><ul><li>存储在注册表中，运行期锁定</li><li>操作权限system，依靠系统服务进行访问</li></ul><p><strong>身份鉴别</strong></p><ul><li>远程鉴别：SMB、LM、NTLM</li><li>本地鉴别</li></ul><p><strong>Linux系统用户信息管理</strong></p><ul><li>用户帐号文件 [ /etc/passwd ]：使用不可逆DES算法加密的用户密码散列（早期）<ul><li>文本格式、全局可读</li></ul></li><li>影子文件 [ /etc/shadow ]：存储存放用户密码散列、密码管理信息等<ul><li>文本格式，仅对root可读可写</li></ul></li></ul><h5 id="访问控制">访问控制</h5><ul><li>Windows的访问控制<ul><li><strong>访问令牌 [包含SID和特权列表]</strong>，以用户身份运行的进程都拥有该令牌的一个拷贝</li><li><strong>访问控制列表 [ACL]</strong>，仅NTFS文件系统支持</li></ul></li><li>Linux下的访问控制<ul><li>需要文件系统格式支持</li><li>权限类型：读、写、执行 [UGO管理机制]</li><li>权限表示方式：模式位</li></ul></li></ul><h5 id="权限管理">权限管理</h5><ul><li>Windows系统特权管理<ul><li>用户帐户控制 [UAC]：标准受限访问令牌、完全访问令牌</li></ul></li><li>Linux系统特权管理<ul><li>限制对root使用，Su及Sudo命令</li><li>Suid位：任何用户执行文件运行权限都为文件所有者的权限</li></ul></li></ul><h5 id="信道保护">信道保护</h5><ul><li>正常信道的保护：<strong>可信通路 [Trusted Path]、安全键 [SAK]</strong></li><li>隐蔽信道保护<ul><li>隐蔽信道指利用系统中那些本来不是用于通信的系统资源绕过强制存取控制进行非法通信的一种机制</li><li>发现隐蔽信道：<ul><li>共同访问权限、共同修改权限、接收进程可检资源的改变，而发送进程有权限改变、某种机制可启动通信并改变通信事件的顺序</li></ul></li></ul></li></ul><h5 id="安全审计">安全审计</h5><p>对系统中有关安全的活动进行记录、检查以及审核，一般是一个独立的过程</p><ul><li>Windows系统的安全审计：Windows日志 [系统、应用程序、安全]、应用程序和服务日志[ IIS日志等]</li><li>Linux系统的安全审计：连接时间日志、进程统计、错误日志、应用程序日志</li></ul><h5 id="内存保护与文件系统保护">内存保护与文件系统保护</h5><p><strong>内存保护</strong></p><ul><li>进程间/系统进程内存保护</li><li>段式保护、页式保护和段页式保护</li></ul><p>文件系统保护机制：</p><ul><li>访问控制列表、加密</li></ul><h4 id="操作系统安全配置">操作系统安全配置</h4><p>最小化部署：明确需要的功能和组件，不需要的服务和功能都关闭</p><p>远程访问控制：开放端口、远程连接的限制</p><p><strong>账户策略及密码策略：</strong></p><blockquote><p>管理员更名并给予安全的口令</p></blockquote><ul><li><p>密码策略：密码必须符合复杂性要求、密码长度最小值、强制密码历史</p></li><li><p>帐号锁定策略 [应对暴力破解] ：帐户锁定时间、帐户锁定阀值、重置帐户锁定计数器</p></li></ul><p>日志设置</p><ul><li>日志项、存储空间、访问权限</li><li>日志服务器</li></ul><p>其他安全设置</p><ul><li>安全增强软件（防病毒、主机入侵检测、安全加固软件等）</li><li>针对操作系统特性的设置</li><li>Windows关闭共享、自动播放功能</li><li>Linux中默认创建文件权限等</li></ul><h3 id="信息收集与系统攻击">信息收集与系统攻击</h3><h4 id="信息收集">信息收集</h4><p>信息收集的概念：</p><p>互联网时代的信息收集：</p><h5 id="收集哪些信息">收集哪些信息</h5><ul><li>目标系统的信息系统相关资料<ul><li>域名、网络拓扑、操作系统、应用软件、相关脆弱性</li></ul></li><li>目标系统的组织相关资料<ul><li>组织架构及关联组织、地理位置细节、电话号码、邮件等联系方式、近期重大事件、员工简历</li></ul></li><li>其他可能令攻击者感兴趣的任何信息</li></ul><h5 id="公开信息收集-搜索引擎">公开信息收集-搜索引擎</h5><p>快速定位、信息挖掘、定点采集、隐藏信息、后台入口</p><p>网络信息收集：</p><ul><li>正常服务 [如whois]</li><li>系统功能：Ping、Tracert</li></ul><p>系统及应用信息收集：<strong>服务旗标、欢迎信息、端口扫描、TCP/IP协议指纹识别</strong></p><h5 id="信息收集与分析的防范">信息收集与分析的防范</h5><ul><li>公开信息收集防御：信息展示最小化原则，不必要的信息不要发布</li><li>网络信息收集防御：部署网络安全设备、设置安全设备应对信息收集）</li><li>系统及应用信息收集防御：修改默认配置、减少攻击面</li></ul><h4 id="缓冲区溢出攻击">缓冲区溢出攻击</h4><p>缓冲区溢出攻击原理：</p><blockquote><p>缓冲区溢出攻击利用编写不够严谨的程序，通过向程序的缓冲区写入超过预定长度的数据，造成缓存的溢出，从而破坏程序的堆栈，导致程序执行流程的改变</p></blockquote><p>缓冲区溢出是最大数量的漏洞类型，且漏洞危害等级高</p><h5 id="缓冲区溢出基础-堆栈-指针-寄存器">缓冲区溢出基础-堆栈、指针、寄存器</h5><ul><li>堆栈概念：一段连续分配的内存空间</li><li>堆栈特点：<ul><li>后进先出</li><li>堆栈生长方向与内存地址方向相反</li></ul></li><li>指针：指针是指向内存单元的地址</li><li>寄存器：暂存指令、数据和位址<ul><li>ESP（栈顶）</li><li>EBP（栈底）</li><li>EIP（返回地址）</li></ul></li></ul><p><strong>缓冲区溢出攻击过程</strong></p><blockquote><p>如果可精确控制内存跳转地址，就可以执行指定代码，获得权限或破坏系统</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\缓冲区溢出攻击过程.png" style="zoom:50%;" /><p>缓冲区溢出的防范</p><ul><li>用户层面：补丁、防火墙</li><li>开发人员层面：编写安全代码，对输入数据进行验证、使用相对安全的函数</li><li>系统层面：缓冲区不可执行技术、虚拟化技术</li></ul><h3 id="恶意代码防护">恶意代码防护</h3><blockquote><p>计算机病毒，是指编制或者在计算机程序中插入的破坏计算机功能或者毁坏数据，影响计算机使用，并能自我复制的一组计算机指令或者程序代码</p></blockquote><blockquote><p>恶意代码，是指能够引起计算机故障，破坏计算机数据，影响计算机系统的正常使用的程序代码、指令</p></blockquote><ul><li>类型：<strong>二进制代码、脚本语言、宏语言</strong>等</li><li>表现形式：<strong>病毒、蠕虫、后门程序、木马、流氓软件、逻辑炸弹</strong>等</li></ul><p>恶意代码传播方式</p><ul><li>文件传播：感染、移动介质</li><li>网络传播：网页、电子邮件、即时通讯、共享、漏洞</li><li>软件部署：<strong>逻辑炸弹、预留后门、文件捆绑</strong></li></ul><h5 id="恶意代码的预防技术">恶意代码的预防技术</h5><p>增强安全策略与意识</p><ul><li>减少漏洞：补丁管理、主机加固</li><li>减轻威胁：防病毒软件、间谍软件检测和删除工具、入侵检测/入侵防御系统、防火墙、路由器、应用安全设置等</li></ul><h5 id="恶意代码检测技术-特征码扫描">恶意代码检测技术-特征码扫描</h5><p>工作机制：特征匹配</p><ul><li>病毒库 [恶意代码特征库]</li><li>扫描 [特征匹配过程]</li></ul><p>优势：误报率低、易于管理<br>不足：效率问题 [特征库不断庞大、依赖厂商]、滞后 [先有病毒后有特征库，需要持续更新]</p><h5 id="恶意代码检测技术-行为检测">恶意代码检测技术-行为检测</h5><p>工作机制：基于统计数据</p><ul><li>恶意代码行为、行为符合度</li></ul><p>优势：能检测到未知病毒</p><p>不足：误报率高</p><p>难点：病毒不可判定原则</p><h5 id="恶意代码分析技术">恶意代码分析技术</h5><p>静态分析：不实际执行恶意代码，直接对二进制代码进行分析</p><ul><li>文件特性，如文件形态、版本、存储位置、长度等</li><li>文件格式，如PE信息、API调用等</li></ul><p>动态分析：运行恶意代码并使用监控及测试软件分析</p><ul><li>本地行为：文件读写、注册表读写等</li><li>网络行为：远程访问、调用等</li></ul><p><strong>恶意代码的清除</strong></p><ul><li>感染引导区：修复/重建引导区</li><li>感染文件：附着型：逆向还原、替换型：备份还原</li><li>独立文件：内存退出，删除文件</li><li>嵌入型：更新软件或系统、重置系统</li></ul><p><strong>基于互联网技术的防御</strong></p><ul><li>恶意代码监测与预警体系：如蜜罐、蜜网，恶意代码云查杀：如分布式计算</li></ul><h3 id="应用安全">应用安全</h3><h4 id="web应用安全">Web应用安全</h4><blockquote><p>应用系统的复杂性和多样性使得安全问题也呈现出多样化的特点</p></blockquote><p>主要包括：WEB服务器端安全问题 [支撑软件、应用程序]、Web客户端 [浏览器]、Web协议 [Http]</p><p><strong>HTTP协议安全问题</strong></p><ul><li><strong>信息泄漏</strong> [传输数据明文]</li><li><strong>弱验证</strong> [会话双方没有严格认证机制]<ul><li>http1.1提供摘要访问认证机制，采用MD5将用户名、密码、请求包头等进行封装，但仍然不提供对实体信息的保护</li></ul></li><li><strong>缺乏状态跟踪</strong>（请求响应机制决定http是一个无状态协议）<ul><li>Session解决方案带来的安全问题</li></ul></li></ul><p><strong>Web服务端软件安全问题</strong></p><ul><li>服务支撑软件安全问题</li><li>软件自身安全漏洞</li><li>软件配置缺陷：默认账号与口令、不安全的配置</li><li>应用软件安全问题</li></ul><h5 id="web安全防护技术">Web安全防护技术</h5><p><strong>Web防火墙</strong></p><p>基本功能：审计并拦截HTTP数据流、Web应用访问控制、Web应用加固</p><p>网页防篡改：监控Web服务器上的页面文件，防止被篡改</p><ul><li>机制：备份文件对比、摘要文件对比、删改操作触发、系统底层过滤</li></ul><p><strong>典型注入攻击-SQL注入</strong></p><blockquote><p>原理：程序没有对用户输入数据的合法性进行判断，使攻击者可以绕过应用程序限制，构造一段SQL语句并传递到数据库中，实现对数据库的操作</p></blockquote><p>可以传递到数据库的数据都是攻击对象</p><p><strong>SQL注入的危害</strong></p><ul><li>数据库信息收集：数据检索</li><li>操作数据库：增加数据、删除数据、更改数据</li><li>借助数据库某些功能操作系统</li></ul><p>SQL注入的防御</p><p>防御的对象：所有外部传入数据</p><ul><li>用户的输入：提交的URL请求中的参数部分、从cookie中得到的数据</li><li>其他系统传入的数据</li></ul><p>防御的方法：</p><ul><li><p>白名单：限制传递数据的格式</p></li><li><p>黑名单：过滤</p><ul><li>过滤特殊字串：update、insert、delete等</li><li>开发时过滤特殊字符：单引号、双引号、斜杠、反斜杠、冒号、空字符等的字符<br>部署防SQL注入系统或脚本</li></ul></li><li><p>部署防SQL注入系统或脚本</p></li></ul><h5 id="针对web应用的攻击-跨站脚本">针对Web应用的攻击-跨站脚本</h5><p>原理：由于程序没有对用户提交的变量中的HTML代码进行过滤或转换，使得脚本可被执行，攻击者可以利用用户和服务器之间的信任关系实现恶意攻击</p><p>危害：<strong>敏感信息泄露、账号劫持、Cookie欺骗、拒绝服务、钓鱼</strong>等</p><p>防范：不允许HTML中脚本运行、对所有脚本进行严格过滤</p><h5 id="针对web应用的攻击">针对WEB应用的攻击</h5><ul><li>失效的验证和会话管理、不安全的对象直接引用、跨站请求伪造、不安全的配置管理、不安全的密码存储、错误的访问控制、传输保护不足、未经验证的网址重定向、不恰当的异常处理、拒绝服务攻击</li></ul><h4 id="电子邮件安全">电子邮件安全</h4><ul><li>POP3/SMTP协议工作机制：简单的请求响应模式</li><li>安全问题：信息泄漏（用户帐号密码、邮件内容）、身份验证不足（社会工程学攻击、垃圾邮件）</li><li>安全解决：<ul><li>服务器端：安全邮件协议、使用SSL保护会话、安全策略</li><li>客户端</li></ul></li></ul><h4 id="其他互联网应用">其他互联网应用</h4><ul><li>远程接入、域名系统、即时通信</li></ul><h3 id="数据安全">数据安全</h3><h4 id="数据库安全">数据库安全</h4><p>数据库安全措施：用户标识与鉴别、授权与访问控制、数据加密、安全审计等</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\数据库安全措施.png" style="zoom: 50%;" /><h4 id="数据泄露防护">数据泄露防护</h4><p>检查、监控、审计</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\审计流程.png" style="zoom:50%;" /><h5 id="数据库安全防护-构建深度防御体系">数据库安全防护-构建深度防御体系</h5><ul><li>安全机制：标识与鉴别、访问控制、传输加密、审计等</li><li>安全策略：密码策略、备份策略等</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\构建深度防御体系.png" style="zoom:50%;" /><h5 id="数据库安全防护-安全特性检查">数据库安全防护-安全特性检查</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\安全特性检查.png" style="zoom:50%;" /><p><strong>数据库安全特性检查</strong></p><ul><li>安全配置：补丁、协议（端口、传输协议）</li><li>账号相关：用户名及密码、口令策略、权限</li><li>存储过程</li><li>触发器</li><li>备份</li></ul><h5 id="数据库安全防护-运行监控">数据库安全防护-运行监控</h5><p><strong>数据库安全防护-安全审计</strong></p><p>数据库审计关注的问题</p><ul><li>审计对象（对谁进行审计）<ul><li>标准审计（系统级、用户级）、细粒度审计（对象级）</li></ul></li><li>审计内容（对什么行为进行审计）<ul><li>访问数据库应用程序、位置及用户信息，包括用户操作、操作日期与时间、操作涉及的相关数据、操作是否成功等</li></ul></li></ul><p><strong>数据防泄露</strong></p><p>网络安全法中对数据保护的要求<br>“未经被收集者同意，不得向他人提供个人信息”<br>“采取技术措施和其他必要措施，确保其收集的个人信息安全，防止信息泄露、毁损、丢失。”</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;计算环境安全&quot;&gt;计算环境安全&lt;/h2&gt;
&lt;img src=&quot;C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\计算环境安全\知识框架.png&quot; style=&quot;zoom:50%;&quot; /&gt;
&lt;h3 id=&quot;操作系统安全&quot;</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="操作系统" scheme="https://shierjinghuang.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>业务连续性</title>
    <link href="https://shierjinghuang.github.io/2025/04/20/%E4%B8%9A%E5%8A%A1%E8%BF%9E%E7%BB%AD%E6%80%A7/"/>
    <id>https://shierjinghuang.github.io/2025/04/20/%E4%B8%9A%E5%8A%A1%E8%BF%9E%E7%BB%AD%E6%80%A7/</id>
    <published>2025-04-19T22:53:20.000Z</published>
    <updated>2025-04-21T00:12:32.520Z</updated>
    
    <content type="html"><![CDATA[<h2 id="业务连续性">业务连续性</h2><p><strong>知识框架</strong>：</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\业务连续性.png" style="zoom:50%;" /><p>[TOC]</p><h3 id="业务连续性管理">业务连续性管理</h3><h4 id="业务连续性管理基础">业务连续性管理基础</h4><p><strong>业务连续性</strong> [BC]：业务连续性 [Business Continuity, BC]是组织对事故和业务中断的规划和响应，使业务可能在预先定义的级别上持续运行的组织策略和战术上的能力</p><p><strong>业务连续性管理</strong> [BCM]：BCM是找出组织有潜在影响的威胁及其对组织业务运行的影响，通过有效响应措施保护组织的利益、信誉、品牌和创造价值的活动，并为组织提供建设恢复能力框架的整体管理过程</p><blockquote><p>业务连续性管理是一项综合管理流程，由业务驱动，集合了技术、管理的一体化动态管理流程</p></blockquote><p>BCM与组织机构：</p><ul><li>BCM应为<strong>业务战略服务</strong></li><li>BCM是<strong>风险管理框架的补充</strong>，主要考虑业务中断的影响</li></ul><p><strong>BCM的生命周期</strong>：</p><ol><li>需求、组织和管理程序的确定</li><li>业务分析，确定关键业务流程和关键因素</li><li>制定业务策略</li><li>开发并执行业务持续计划</li><li>意识培养和建立</li><li>计划演练</li></ol><h4 id="业务连续性计划">业务连续性计划</h4><blockquote><p>业务连续性计划是一套基于业务运行规律的管理要求和规章流程，能够使一个组织在突发事件面前迅速做出反应，以确保关键业务功能可以持续，而不造成业务中断或业务流程本质的改变</p></blockquote><ul><li>业务连续性计划建立在对组织机构各种过程的风险评估之上</li><li>业务连续性计划关注基础设施功能和资源减少或受限的情况下维持业务操作</li><li>BCP应成为组织管理文化的一部分，企业业务模式或业务过程变化情况下，应重新设计</li></ul><h5 id="组织管理">组织管理</h5><ul><li>理解业务组织：充分了解组织的体系结构及其组成部分、清晰每个业务流程及相互依赖关系</li><li><strong>建立BCP团队</strong>：负责人 、团队成员</li><li>评估BCP资源：<strong>购买和部署冗余设备</strong>、办公用品；BCP开发过程，BCP测试、培训、和维护过程中的人力资源</li><li>BCP的<strong>合规性</strong>要求：法律法规合规性、合同的合规性</li></ul><h5 id="业务影响分析">业务影响分析</h5><blockquote><p>确定组织持续运行的关键资产、针对这些资产的威胁、评估每种资产出现的威胁及对业务的影响 ，提供量化度量以确定投入资源的优先顺序</p></blockquote><p>工作内容 ：确定业务优先级、风险分析、资产优先级划分</p><p><strong>1. 确定业务优先级</strong></p><blockquote><p>业务流程综合列表，按重要性排序</p></blockquote><ul><li>业务功能实际运作需要资源（计算机系统、人员、通信、物理设备）和服务</li><li>确定业务优先级的关键点：业务所需资源的相互关系、对外部组织或其他方的依赖</li></ul><p>确定业务优先级需要做的工作</p><ol><li>评估如果业务中断，随时间推移对组织所造成的影响</li><li>为每项业务建立最大允许中断时间</li><li>识别任何相互依赖的活动、资产、用于支持的基础设施和资源</li></ol><p>度量标准：<strong>恢复时间目标</strong>（ RTO）</p><p><strong>2. 风险分析</strong></p><blockquote><p>识别并分析组织所面临的重大风险</p></blockquote><p>风险要素识别：威胁分析、可能性分析、影响分析</p><p><strong>3. 资产优先级划分</strong></p><p>针对各种不同风险所分配的业务连续性资源的优先级</p><ul><li>确定资源水平时，应考虑相关利益方的需求 ，优先级列表可结合定量和定性两种方法确定</li></ul><h5 id="制定及批准实施">制定及批准实施</h5><blockquote><p>BCP的制定：确定业务连续性计划要处理的风险及采取的措施</p></blockquote><ul><li>四种风险处置方式：风险降低、风险转移、风险规避、风险接受</li></ul><p><strong>1. 风险降低</strong></p><p>预防性策略和反应性策略：采用适当地、低成本的预防性措施应当优于反应性策略</p><p>重点保护对象：人力资源</p><ul><li>人是BCP的关键组成部分</li><li>措施：<strong>人员冗余</strong>、负责同一重要业务人员不能同时面临某个特定风险</li></ul><p>重点保护对象：IT基础设施</p><ul><li>信息系统设施主要部分（硬件、软件、支撑环境等）</li><li>措施：保护性措施（发电机、火灾探测和灭火社保等）、冗余措施等</li></ul><p>重点保护对象：辅助性设施</p><ul><li>为完成业务所需要的其他设施、措施：强化机制和过程、备用场所</li></ul><p><strong>2. 风险转移</strong></p><blockquote><p>风险转移是降低财务风险或资产的风险的有效方式，但有些风险不能转移</p></blockquote><p>转移方式：购买保险、合同 [外包合同中承诺的赔付、采购第三方服务]</p><p><strong>3. 风险规避</strong></p><blockquote><p>变更、延缓或停止某种服务或业务功能，该措施只能在与组织目标、法律法规符合性以及利益相关方的期望不发生冲突时考虑</p></blockquote><p><strong>4. 风险接受</strong></p><ul><li>采取措施的潜在收益与成本不成比例，对某些风险能够采取措施的能力有限</li></ul><h5 id="文档化">文档化</h5><p>文档化是BCP过程中的关键步骤</p><ul><li>文档需要包含的内容：BCP的目标:必须细化、职责声明：确保相关人员都了解他们的职责、优先级声明、风险评估、BCP策略、关键业务记录计划、应急响应的知道原则、测试与演练</li></ul><p><strong>批准与实施</strong></p><p>向高层汇报并获得计划的批准</p><p>培训和教育，计划中涉及的所有人都需要接受与 职责相关的培训</p><p><strong>评估及维护</strong></p><p>业务的动态性决定了业务连续性要求也会随时改变 ，需要定期讨论、复审、测试结果，必要时进行版本更新</p><h3 id="信息安全应急响应">信息安全应急响应</h3><h4 id="信息安全事件与应急响应">信息安全事件与应急响应</h4><h5 id="应急响应的概念">应急响应的概念</h5><p><strong>信息安全事件</strong></p><ul><li>由于自然或人为以及软、硬件本身缺陷或故障的原因，对信息系统造成危害，或者在信息系统内发生对社会造成负面影响的事件</li><li>对信息安全事件进行有效管理和响应，是组织机构安全战略的一部分</li></ul><blockquote><p>应急响应：组织为了应对突发/重大信息安全事件的发生所做的准备，以及在事件发生后所采取的措施</p></blockquote><h5 id="信息安全事件分类分级">信息安全事件分类分级</h5><blockquote><p>信息安全事件分类分级是有效防范和响应信息安全事件的基础，能够使事前准备、事中应对和事后处理的各项相关工作更具针对性和有效性</p></blockquote><p>分类：GB/Z 20986-2007 中，分<strong>有害程序事件、网络攻击事件、信息破坏事件、信息内容安全事件、设备设施故障、灾害性事件和其他信息安全事件</strong>7个基本类别，每个类别下有若干子类</p><p><strong>分级</strong></p><ul><li>参考要素：<strong>信息系统的重要程度、系统损失和社会影响</strong></li><li>四级（GB/Z 20986—2007）:特别重大事件（I级）、重大事件（II级）、较大事件（III级）、一般事件（IV级）</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\信息安全事件分类分级.png" style="zoom: 50%;" /><p><strong>信息安全应急响应组织</strong></p><ul><li>国际应急响应组织：计算机应急响应协调中心（CERT /CC）</li><li>国家应急响应组织：国家计算机网络应急技术处理协调中心（CNCERT /CC ）</li><li>组织机构应急响应组织架构：应急响应领导组、应急响应技术保障组、应急响应专家组、应急响应实施组、应急响应日常运行组</li></ul><h4 id="网络安全应急响应预案">网络安全应急响应预案</h4><p><strong>应急响应预案</strong></p><blockquote><p>应急响应预案：在分析网络与信息系统突发事件后果和应急能力的基础上，针对可能发生的重大网络与信息系统突发事件，预先制定的行动计划或应急对策。</p></blockquote><p>应急预案编制：</p><ol><li>建立在综合防灾规划之上</li><li>描述支持应急操作的技术能力，并适应组织要求</li><li>在详细程度和灵活程度之间取得平衡</li><li>为信息安全事件中不熟悉计划的人员提供快捷明确的指导</li></ol><p><strong>应急演练与演习</strong></p><blockquote><p>检验应急响应预案的有效性、应急准备的完善性、应急响应能力的适应性和应急人员的协同性</p></blockquote><ul><li>演练方式：桌面演练、模拟演练、实战演练</li><li>演练深度：数据级演练、应用级演练、业务级演练</li></ul><h5 id="信息安全应急演练的操作流程">信息安全应急演练的操作流程</h5><ul><li>应急事件通报、确定应急事件优先级、应急响应启动实施、应急响应时间后期运维、更新现有应急预案</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\信息安全应急演练的操作流程.png" style="zoom:50%;" /><h4 id="计算机取证及保全">计算机取证及保全</h4><h5 id="计算机取证的概念">计算机取证的概念</h5><blockquote><p>计算机取证是使用先进的技术和工具，按照标准规程全面地检查计算机系统，以提取和保护有关计算机犯罪的相关证据的活动</p></blockquote><ul><li>原则：<strong>合法原则、充分授权原则、优先保护证据原则、全程监督原则</strong></li></ul><h5 id="取证流程">取证流程</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\取证流程.png" style="zoom:80%;" /><p><strong>1. 准备阶段</strong></p><ul><li>获取授权：取证工作获得明确的授权（授权书）</li><li>目标明确：对取证的目的有清晰的认识</li><li>工具准备：对取证环境的了解及需要准备的工具</li><li>软件准备：对取证的软件进行过有效的验证</li><li>介质准备：确保有符合要求的干净的介质可用于取证</li></ul><p><strong>2. 保护阶段</strong></p><ul><li>保证数据安全性：制作磁盘映像——不在原始磁盘上操作</li><li>保证数据完整性：取证中不使用可能破坏完整性的操作</li><li>第三方监督：所有操作都有第三方在场监督</li></ul><p><strong>3. 提取阶段</strong></p><ul><li>优先提取易消失的证据：<strong>内存信息、系统进程、网络连接信息、路由信息、临时文件、缓存</strong></li><li>文件系统中进行提取的方法：<strong>数据恢复、隐藏文件、加密文件、系统日志</strong></li><li>应用系统：系统日志</li></ul><p><strong>4. 分析及提交</strong></p><p>证据在什么地方：日志、删除的文件、临时文件、缓存</p><h4 id="应急响应六阶段">应急响应六阶段</h4><h5 id="第一阶段：准备">第一阶段：准备</h5><ul><li>工作目标<ul><li>确定重要资产和风险，实施针对风险的防护措施；</li><li>编制和管理应急响应计划<ul><li>应急响应计划的编制准备、编制应急响应计划、应急响应计划的测试、培训演练和维护</li></ul></li></ul></li><li>为响应组织和准备相关资源<ul><li>人力资源、财力资源、物质资源、技术资源和社会关系资源等</li></ul></li></ul><h5 id="第二阶段：检测">第二阶段：检测</h5><p><strong>工作目标</strong>：检测并确认事件的发生、确定事件性质和影响</p><p>工作内容：</p><ul><li>进行监测、报告及信息收集</li><li>确定事件类别和级别</li><li>指定事件处理人，进行初步响应</li><li>评估事件的影响范围</li><li>事件通告（<strong>信息通报、信息上报、信息披露</strong>）</li></ul><h5 id="第三阶段：遏制">第三阶段：遏制</h5><ul><li>工作目标：限制事件影响的范围、损失</li><li>工作内容：启动应急响应计划、确定适当的响应方式、实施遏制行动、要求用户按应急行为规范要求配合遏制工作</li></ul><h5 id="第四阶段：根除">第四阶段：根除</h5><ul><li>工作目标：避免问题再次发生的长期的补救措施</li><li>工作内容：详细分析，确定原因、实施根除措施，消除原因</li></ul><h5 id="第五阶段：恢复">第五阶段：恢复</h5><ul><li>工作目标：恢复系统至正常状态</li><li>工作内容：<ul><li>根据破坏程度决定是在原系统还是备份系统中恢复</li><li>按恢复优先顺序恢复系统和业务运行</li></ul></li></ul><h5 id="第六阶段：跟踪总结">第六阶段：跟踪总结</h5><ul><li>工作目标：回顾并汇总所发生事件的相关信息</li></ul><p>工作内容</p><ul><li>关注系统恢复以后的安全状况，记录跟踪结果</li><li>评估损失、响应措施效果</li><li>分析和总结经验、教训</li><li>重新评估和修改安全策略、措施和应急响应计划</li><li>对进入司法程序的事件，进行进一步调查，打击违法犯罪活动</li><li>编制并提交应急响应报告</li></ul><h3 id="灾难备份与恢复">灾难备份与恢复</h3><h4 id="灾难备份与恢复基础">灾难备份与恢复基础</h4><p><strong>灾备概念</strong>：</p><ul><li>为了保证关键业务和应用在经历各种灾难后，仍然能够最大限度的提供正常服务所进行的一系列系统计划及建设行为，其目的就是确保关键业务持续运行以及减少非计划宕机时间</li><li>灾难备份是灾难恢复的基础，灾难恢复不能只考虑信息系统的恢复，更应关注业务的恢复</li></ul><p><strong>灾难恢复计划</strong></p><ul><li>定义信息系统灾难恢复过程中所需的任务、行动、数据和资源的文件，用于指导相关人员在预定的灾难恢复目标内恢复信息系统支持的关键业务功能</li></ul><h5 id="灾备指标">灾备指标</h5><p>恢复点目标 [RPO] ：灾难发生后，系统和数据必须恢复到的时间点要求</p><ul><li>代表了当灾难发生时允许丢失的数据量</li></ul><p>恢复时间目标 [RTO]：灾难发生后，信息系统和业务功能从停顿到必须恢复的时间要求</p><ul><li>代表了企业能容忍的信息系统和业务功能恢复的时间</li></ul><p><strong>灾备组织</strong></p><ul><li>组织构成：<strong>领导组、规划实施组、日常运行组</strong></li><li>规划工作可聘请外部专家，实施和运行也可委托外包机构承担</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\组织构成.png" style="zoom:50%;" /><h5 id="国家灾备政策及相关标准">国家灾备政策及相关标准</h5><ul><li>重要信息系统灾难恢复指南：指明了灾难恢复的工作流程、等级划分和预案的制定框架</li><li>GB/T 20988-2007，规定了灾难恢复工作流程、灾难恢复等及方案设计、预案、演练</li><li>《灾难恢复中心建设与运维管理规范》，指出了灾备中心建设的全生命周期、灾备中心的运维工作</li></ul><h4 id="灾难恢复相关技术">灾难恢复相关技术</h4><h5 id="存储技术">存储技术</h5><p><strong>直接附加存储 [DAS]</strong>：直接连接在各种服务器或客户端扩展接口下的数据存储设备， 依赖计算机，是硬件堆叠，不带操作系统</p><ul><li>优点：适用物理位置分散情况、容易实现打容量存储，性能较高、实施简单</li><li>缺点：对服务器依赖性强，占用服务器资源、扩展性较差、资源利用率低、可管理性差</li></ul><p><strong>存储区域网络 [SAN]</strong></p><ul><li>优点：专用网络、效率高、扩展方便</li><li>缺点：成本高、实施复杂、难度大</li></ul><p><strong>网络附加存储 [NAS]</strong>：直接通过网络接口将存储设备与网络相连实现数据存储的机制，有独立IP地址，操作系统等</p><ul><li>优点：易于安装不是和管理、不占用服务器资源、跨平台</li><li>不足：性能相对较差，因为数据传输使用网络，可能影响网络流量、甚至可能产生数据泄漏等安全问题</li></ul><h5 id="备份技术">备份技术</h5><ul><li>备份方式：<strong>完全备份、增量备份、差量备份</strong></li><li>备份介质：<strong>磁带、硬盘</strong></li></ul><p><strong>冗余磁盘阵列 [RAID]</strong></p><p>实现方式</p><ul><li><strong>RAID-O [条带]</strong>：提高了磁盘子系统的性能，但不提供容错能力</li><li><strong>RAID-1 [镜像]</strong>：磁盘一对一镜像，确保数据不丢失</li><li><strong>RAID-5 [奇偶校验]</strong>：三块以上磁盘，其中一块作为校验信息，允许第一磁盘损坏</li></ul><p>可基于硬件，也可基于软件</p><ul><li>备用场所：冷站、温站、热站、移动站、镜像站</li></ul><h4 id="灾难恢复策略">灾难恢复策略</h4><h5 id="国际标准share78">国际标准SHARE78</h5><p>灾难备份能力0~6级</p><ul><li>0级：<strong>无异地备份</strong>、1级：<strong>简单异地备份</strong>、2级：<strong>热备中心备份</strong>、3级：<strong>电子传输备份</strong>、4级：<strong>自动定时备份</strong>、5级：<strong>实时数据备份</strong>、6级：<strong>数据零丢失</strong></li></ul><p><strong>重要信息系统灾难恢复指南</strong></p><p>6个灾难恢复等级：</p><ul><li>第1级 基本支持、第2级 备用场地支持、第3级 电子传输和部分设备支持、第4级 电子传输及完整设备支持、第5级 实时数据传输及完整设备支持、第6级 数据零丢失和远程集群支持</li></ul><p><strong>组织容灾策略构建</strong></p><ul><li>根据对灾难的抵抗程度，容灾技术可分为以下三种：<strong>数据容灾 [首要前提]、系统容灾 [基本基础]、应用容灾 [主要关键]</strong></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\容灾技术.png" style="zoom: 80%;" /><h4 id="灾难恢复管理过程">灾难恢复管理过程</h4><ul><li>灾难恢复规划是一个周而复始的、持续改进的过程，包含以下四个阶段：<strong>灾难恢复需求分析、灾难恢复策略制定、灾难恢复策略实现、灾难恢复预案的制定和管理</strong></li></ul><p><strong>灾难恢复需求分析</strong></p><ul><li>风险分析：<strong>资产、威胁、脆弱性、可能性、影响</strong></li><li>业务影响分析：分析业务功能和相关资源配置、评估中断影响</li><li>确定灾难恢复目标：关键业务功能及恢复的优先顺序、RTO和RPO的范围</li></ul><p>灾难恢复策略制定及策略实现</p><ul><li>策略制定：明确需要哪些灾难恢复资源、各项灾难恢复资源的获取方式，以及对各项灾难恢复资源的具体要求</li><li>策略实现：选择和建设灾难备份中心、实现灾难备份系统技术方案、实现专业技术支持能力、实现运行维护管理能力</li></ul><p>灾难恢复预案制定和管理</p><ul><li><strong>制定灾难恢复预案、灾难恢复计划的教育与培训、灾难恢复计划演习、灾难恢复预案的保存与分发</strong></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;业务连续性&quot;&gt;业务连续性&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;知识框架&lt;/strong&gt;：&lt;/p&gt;
&lt;img src=&quot;C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\业务连续性\业务连续性.png&quot; style=&quot;z</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="应急响应" scheme="https://shierjinghuang.github.io/tags/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/"/>
    
  </entry>
  
  <entry>
    <title>信息安全评估</title>
    <link href="https://shierjinghuang.github.io/2025/04/19/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0/"/>
    <id>https://shierjinghuang.github.io/2025/04/19/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0/</id>
    <published>2025-04-19T12:17:49.000Z</published>
    <updated>2025-04-21T00:12:25.193Z</updated>
    
    <content type="html"><![CDATA[<h2 id="信息安全评估">信息安全评估</h2><p>[TOC]</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\信息安全评估.png"  style="zoom:50%;" /><h3 id="安全评估基础">安全评估基础</h3><p>安全评估：针对事物潜在影响正常执行其职能的行为产生干扰或者破坏的因素进行识别、评价的过程</p><p><strong>安全评估工作内容</strong></p><ul><li>确定保护的对象（保护资产）是什么？它们直接和间接价值？</li><li>资产面临哪些潜在威胁？导致威胁的问题所在？威胁发生的可能性有多大？</li><li>资产中存在哪里弱点可能会被威胁所利用？利用的容易程序又如何？</li><li>一旦威胁事件发生，组织会遭受怎样的损失或者面临怎样的负面影响？</li><li>组织应该采取怎样的安全措施才能将风险带来的损失降低到最低？</li></ul><p><strong>安全评估的价值</strong></p><ul><li>安全建设的起点和基础</li><li>信息安全建设和管理的科学方法</li><li>倡导适度安全</li><li>保护网络空间安全的核心要素和重要手段</li></ul><h4 id="风险评估工具">风险评估工具</h4><ul><li><p><strong>风险评估与管理工具</strong>：一套集成了风险评估各类知识和判据的管理信息系统，以规范风险评估的过程和操作方法；或者是用于收集评估所需要的数据和资料，基于专家经验，对输入输出进行模型分析</p></li><li><p><strong>系统基础平台风险评估工具</strong>：主要用于对信息系统的主要部件 [如操作系统、数据库系统、网络设备] 的脆弱性进行分析，或实施基于脆弱性的攻击</p></li><li><p><strong>风险评估辅助工具</strong>：实现对数据的采集、现状分析和趋势分析等单项功能，为风险评估各要素的赋值、定级提供依据</p></li></ul><p><strong>安全评估标准</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\安全评估标准.png" style="zoom:50%;" /><h4 id="tcsec-可信计算机系统评估标准">TCSEC [可信计算机系统评估标准]</h4><p>TCSEC是，美国政府国防部标准，为评估计算机系统内置的计算机安全功能的有效性设定了基本要求</p><p>TCSEC已被2005年最初公布的国际标准《通用准则》[CC] 所取代。</p><p>基本目标和要求：策略、问责、保证、文档</p><p><strong>TCSEC分级</strong>：</p><ul><li>D-最小保护</li><li>C-选择保护<ul><li>C1 自主安全保护、C2 受控访问保护</li></ul></li><li>B-强制保护<ul><li>B1 标签安全、B2 结构化保护、B3 安全域</li></ul></li><li>A-验证保护<ul><li>A1 验证设计</li></ul></li></ul><h4 id="itsec-信息技术安全评估标准">ITSEC [信息技术安全评估标准]</h4><p>以超越TCSEC为目的，将安全概念分为功能与功能评估两部分</p><p><strong>功能准则</strong>：在测定上分F1-F10共10级，1－5级对应于TCSEC的D到A，6－10级加上了以下概念：</p><ul><li>F6：数据和程序的完整性、F7：系统可用性、F8：数据通信完整性、F9：数据通信保密性、F10：包括机密性和完整性的网络安全</li></ul><p><strong>评估准则</strong>：分为6级：</p><ul><li>E1：测试、E2：配置控制和可控的分配、E3：能访问详细设计和源码、E4：详细的脆弱性分析、E5：设计与源码明显对应、E6：设计与源码在形式上一致。</li></ul><h4 id="fc-联邦-最低安全要求-评估准则">FC [联邦 [最低安全要求] 评估准则]</h4><blockquote><p>美国信息技术安全联邦准则 [FC] ：是对TCSEC的升级，引入了“保护轮廓（PP）”这一重要概念</p></blockquote><p>保护轮廓包括：功能部分、开发保证部分、测评部分</p><h4 id="cc-信息技术安全评估通用标准">CC [信息技术安全评估通用标准]</h4><p>主要思想和框架取自ITSEC和FC，充分突出<strong>保护轮廓</strong>，将评估过程分功能和保证两部分，CC强调将安全的功能与保障分离，并将功能需求分为九类63族，将保障分为七类29族</p><ul><li>我国等同采用《ISO/IEC 15408：2005 信息技术-安全技术-信息技术安全评估标准》形成的国家标准，标准编号为GB/T 18336<ul><li>GB/T 18336.1-2008简介和一般模型：定义了IT 安全评估的一般概念和原理，并提出了评估的一般模型</li><li>GB/T 18336.2-2008安全功能要求：建立一系列功能组件作为表达TOE功能要求的标准方法</li><li>GB/T 18336.3-2008安全保证要求：建立一系列保证组件作为表达TOE保证要求的标准方法</li></ul></li></ul><h5 id="gb-t-18336-cc-的目标读者">GB/T 18336 [CC] 的目标读者</h5><p>TOE [评估对象] 的客户：CC从写作安排上确保评估满足用户的需求，因为这是评估过程的根本目的和理由。</p><p>TOE的开发者：为开发者在准备和协助评估产品或系统以及确定每种产品和系统要满足的安全需求方面提供支持。</p><p>TOE的评估者：CC 包含评估者判定TOE 与其安全需求一致时所使用的准则。</p><p><strong>CC的关键概念：</strong></p><ul><li>评估对象 [Target of Evaluation，TOE]：作为评估主体 [产品、系统、子系统等] 的IT产品及系统以及相关的指导性文档</li><li>保护轮廓 [PP]：满足特定用户需求的、一类TOE的、一组与实现无关的安全要求</li><li>安全目标 [Security Target，ST]：作为指定的TOE评估基础的一组安全要求和规范</li><li>功能：规范IT产品和系统的安全行为，应做的事</li><li>保证：实体达到其安全性目的的信任基础，是对功能产生信心的方法</li><li>包：为满足一组确定的安全目的而组合在一起的，一组可重用的功能或保证组件</li></ul><p><strong>评估流程</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\评估流程.png" style="zoom:50%;" /><p><strong>CC的意义</strong>：通过评估有助于增强用户对于IT产品的安全信心、促进IT产品和系统的安全性、消除重复的评估</p><p><strong>CC模型的优势</strong>：</p><ol><li>国际标准化组织统一现有多种准则的努力结果；</li><li>已有安全准则的总结和兼容，是目前最全面的评价准则；</li><li>通用的表达方式，便于理解</li><li>灵活的架构，可以定义自己的要求扩展CC要求</li></ol><p><strong>CC的局限性</strong></p><ol><li>CC标准采用半形式化语言，比较难以理解</li><li>CC不包括那些与IT安全措施没有直接关联的、属于行政性管理安全措施的评估准则，即该标准并不关注于组织、人员、环境、设备、网络等方面的具体的安全措施</li><li>CC重点关注人为的威胁，对于其他威胁源并没有考虑</li><li>并不针对IT安全性的物理方面的评估（如电磁干扰）</li><li>CC并不涉及评估方法学</li><li>CC不包括密码算法固有质量的评估</li></ol><h4 id="信息系统安全等级保护测评">信息系统安全等级保护测评</h4><ul><li>信息系统安全等级测评重要性<ul><li>检测评估信息系统安全等级保护状况是否达到相应等级基本要求的过程</li><li>落实信息安全等级保护制度的重要环节</li></ul></li><li>等级测评过程：<ul><li>测评准备活动、方案编制活动、现场测评活动、分析与报告编制活动</li></ul></li></ul><h3 id="安全评估实施">安全评估实施</h3><blockquote><p>风险评估是组织确定信息安全需求的过程，包括资产识别与评价、威胁和弱点评估、控制措施评估、风险认定在内的一系列活动</p></blockquote><h5 id="风险评估相关要素-资产">风险评估相关要素-资产</h5><blockquote><p>构成风险评估的资产是建立对组织具有价值的信息或资源，是安全策略保护的对象</p></blockquote><p>风险评估中资产的价值不是以资产的经济价值来衡量， 而是由资产在这三个安全属性上的达成程度或者其安全属性未达成时所造成的影响程度来决定的。</p><h5 id="风险评估相关要素-威胁">风险评估相关要素-威胁</h5><blockquote><p>威胁：可能导致对系统或组织危害的不希望事故潜在起因</p></blockquote><ul><li><p>威胁可以通过威胁主体、资源、动机、途径等多种属性来描述</p></li><li><p>造成威胁的因素：人为因素和环境因素</p><ul><li>根据威胁的动机，人为因素又可分为恶意和非恶意两种</li><li>环境因素包括自然界不可抗的因素和其它物理因素</li></ul></li></ul><h5 id="风险评估相关要素-脆弱性">风险评估相关要素-脆弱性</h5><blockquote><p>脆弱性可能被威胁所利用的资产或若干资产的薄弱环节</p></blockquote><ul><li>脆弱性是资产本身存在的，如果没有被相应的威胁利用，单纯的脆弱性本身不会对资产造成损害</li><li>威胁总是要利用资产的脆弱性才可能造成危害</li></ul><h5 id="风险评估相关要素-信息安全风险-安全措施">风险评估相关要素-信息安全风险、安全措施</h5><ul><li>信息安全风险：人为或自然的威胁利用信息系统及其管理体系中存在的脆弱性导致安全事件的发生及其对组织造成的影响</li><li>信息安全风险只考虑那些对组织有负面影响的事件</li><li>安全措施：保护资产、抵御威胁、减少脆弱性、降低安全事件的影响，以及打击信息犯罪而实施的各种实践、规程和机制</li><li>残余风险：采取了安全措施后，信息系统仍然可能存在的风险</li></ul><p><strong>风险评估要素之间关系</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\风险评估要素之间的关系.png" style="zoom:50%;" /><p><strong>风险评估途径与方式</strong></p><ul><li><p>风险评估途径：<strong>基线评估、详细评估、组合评估</strong></p></li><li><p>风险评估方式：</p><ul><li><strong>自评估</strong>：由组织自身发起，组织自己实施或委托第三方实施</li><li><strong>检查评估</strong>：由被评估组织的上级主管机关或业务主管机关发起</li></ul></li><li><p>风险评估的常用方法：基于知识分析、定量分析、定性分析</p></li></ul><h5 id="风险评估常用方法-定量分析">风险评估常用方法-定量分析</h5><p><strong>基本概念</strong></p><ul><li>暴露因子 [Exposure Factor, EF] :特定威胁对特定资产靠损失的百分比，或者说损失的程度。</li><li>单一预期损失 [single Loss Expectancy, SLE] :也称作[SOC Single Occurrence Costs] ,即特定威胁可能造成的潜在损失总量</li><li>年度预期损失 [Annualized Loss Expectancy,  ALE] ：或者称作EAC [Estimated Annual Cost] ，表示特定资产在一年内遭受损失的预期值</li></ul><p><strong>概念的关系</strong></p><ol><li>首先，识别资产并为资产赋值</li><li>通过威胁和弱点评估，评价特定威胁作用于特定资产所造成的影响，即EF（取值在0%~100%之间）</li><li>计算特定威胁发生的频率，即ARO</li><li>计算资产的SLE</li><li>计算资产的ALE</li></ol><p>定量风险分析的一种方法就是计算年度损失预期值（ALE）。计算公式如下：</p><ul><li>年度损失预期值（ALE） =  SLE  x 年度发生率（ARO）</li><li>单次损失预期值（SLE） =  暴露因素（EF）x  资产价值（AV）</li></ul><h5 id="风险评估常用方法-定性分析">风险评估常用方法-定性分析</h5><blockquote><p>带有很强的主观性，往往凭借分析者的经验和直觉，或者业界的标准和惯例，为风险管理诸要素的大小或高低程度定性分级</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\定性分级.png" style="zoom:50%;" /><h4 id="风险评估的基本过程">风险评估的基本过程</h4><blockquote><p>风险评估是组织确定信息安全需求的过程，包括资产识别与评价、威胁和弱点评估、控制措施评估、风险认定在内的一系列活动</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\风险评估过程.png"  /><h5 id="风险评估准备">风险评估准备</h5><p>风险评估准备是整个风险评估过程有效性的保证</p><blockquote><p>组织实施风险评估是一种战略性的考虑，其结果将受到组织的业务战略、业务流程、安全需求、系统规模和结构等方面的影响</p></blockquote><p>风险评估准备工作：</p><ul><li>确定风险评估的目标、确定风险评估的范围、组建适当的评估管理与实施团队、进行系统调研、确定评估依据和方法、制定风险评估方案、获得最高管理者对风险评估工作的支持</li></ul><p>确定风险评估的目标：</p><ul><li>根据满足组织业务持续发展在安全方面的需要、 法律法规的规定等内容，识别现有信息系统及管理上的不足，以及可能造成的风险大小</li></ul><p>确定风险评估的范围：</p><ul><li>风险评估范围可能是组织全部的信息及与信息处理相关的各类资产、管理机构，也可能是某个独立的信息系统、关键业务流程、与客户知识产权相关的系统或部门等。</li></ul><p><strong>组建适当的评估管理与实施团队</strong></p><ul><li>风险评估实施团队，由管理层、相关业务骨干、IT技术等人员组成风险评估小组</li><li>评估实施团队应做好评估前的表格、文档、检测工具等各项准备工作，进行风险评估技术培训和保密教育，制定风险评估过程管理相关规定</li></ul><p><strong>进行系统调研</strong></p><ul><li>系统调研是确定被评估对象的过程，风险评估小组应进行充分的系统调研，为风险评估依据和方法的选择、评估内容的实施奠定基础</li><li>调研内容至少应包括：业务战略及管理制度；主要的业务功能和要求；网络结构与网络环境，包括内部连接和外部连接；系统边界；主要的硬件、软件；数据和信息；系统和数据的敏感性；支持和使用系统的人员</li><li>系统调研可以采取问卷调查、 现场面谈相结合的方式进行</li></ul><p><strong>确定评估依据和方法</strong></p><ul><li>根据系统调研结果，确定评估依据和评估方法</li><li>评估依据包括（但不仅限于）：现有国际标准、国家标准、行业标准；行业主管机关的业务系统的要求和制度；系统安全保护等级要求；系统互联单位的安全要求；系统本身的实时性或性能要求等</li><li>据组织机构自身的业务特点、信息系统特点，选择适当的风险分析方法并加以明确，如定性风险分析、定量风险分析，或是半定量风险分析</li><li>根据评估依据，应考虑评估的目的、范围、时间、效果、人员素质等因素来选择具体的风险计算方法，并依据业务实施对系统安全运行的需求，确定相关的判断依据，使之能够与组织环境和安全要求相适应</li></ul><p>制定风险评估方案</p><ul><li>风险评估方案的目的是为后面的风险评估实施活动提供一个总体计划， 用于指导实施方开展后续工作。</li><li>风险评估方案的内容一般包括但不仅限于：<ul><li>团队组织：包括评估团队成员、组织结构、角色、责任等内容</li><li>工作计划：风险评估各阶段的工作计划，包括工作内容、工作形式、工作成果等内容</li><li>时间进度安排：项目实施的时间进度安排</li></ul></li></ul><p>获得最高管理者对风险评估工作的支持</p><ul><li>上述所有内容确定后，应形成较为完整的风险评估实施方案，得到组织最高管理者的支持、批准；</li><li>对管理层和技术人员进行传达， 在组织范围就风险评估相关内容进行培训， 以明确有关人员在风险评估中的任务</li></ul><h5 id="资产识别">资产识别</h5><blockquote><p>资产分类、分级、形态及资产价值评估</p></blockquote><ul><li>资产分类：数据、软件、硬件、服务、人员、其他（ （ GB/T 20984《信息安全风险评估规范》 ） ）</li><li>资产形态：有形资产、无形资产</li><li>资产分级：保密性分级、完整性分级、可用性分级、资产重要性分级</li></ul><p>制定资产重要性分级准则</p><p>依据资产价值大小对资产的重要性划分不同的等级。资产价值依据资产在保密性、完整性和可用性上的赋值等级，经过综合评定得出</p><table><thead><tr><th><strong>赋值</strong></th><th><strong>重要性等级</strong></th><th><strong>定义</strong></th></tr></thead><tbody><tr><td><strong>5</strong></td><td>很高</td><td>非常重要，其安全属性破坏后可能对组织造成非常严重的损失</td></tr><tr><td><strong>4</strong></td><td>高</td><td>重要，其安全属性破坏后可能对组织造成比较严重的损失</td></tr><tr><td><strong>3</strong></td><td>中</td><td>比较重要，其安全属性破坏后可能对组织造成中等程度的损失</td></tr><tr><td><strong>2</strong></td><td>低</td><td>不太重要，其安全属性破坏后可能对组织造成较低的损失</td></tr><tr><td><strong>1</strong></td><td>很低</td><td>不重要，其安全属性破坏后对组织造成很小的损失，甚至忽略不计</td></tr></tbody></table><h5 id="威胁识别">威胁识别</h5><p><strong>威胁类型</strong>：自然因素、人为因素</p><p><strong>威胁频率级别</strong></p><table><thead><tr><th>赋值</th><th>威胁出现频率级别</th><th><strong>定义</strong></th></tr></thead><tbody><tr><td><strong>5</strong></td><td>很高</td><td>出现的频率很高；或在大多数情况下几乎不可避免；或可以证实经常发生过</td></tr><tr><td><strong>4</strong></td><td>高</td><td>出现的频率较高；或在大多数情况下很有可能会发生；或可以证实多次发生过</td></tr><tr><td><strong>3</strong></td><td>中</td><td>出现的频率中等；或在某种情况下可能会发生；或被证实曾经发生过</td></tr><tr><td><strong>2</strong></td><td>低</td><td>出现的频率较小；或一般不太可能发生；或没有被证实发生过</td></tr><tr><td><strong>1</strong></td><td>很低</td><td>威胁几乎不可能发生；仅可能在非常罕见和例外的情况下发生</td></tr></tbody></table><h5 id="脆弱性识别">脆弱性识别</h5><p>脆弱性识别与威胁识别是何关系？</p><ul><li>验证：以资产为对象，对威胁识别进行验证</li></ul><p>脆弱性识别的难点是什么？</p><ul><li>三性：隐蔽性、欺骗性、复杂性</li></ul><p>脆弱性识别的方法有哪些？</p><ul><li>技术脆弱性、管理脆弱性</li></ul><table><thead><tr><th><strong>赋值</strong></th><th><strong>脆弱性严重程度级别</strong></th><th><strong>定义</strong></th></tr></thead><tbody><tr><td><strong>5</strong></td><td>很高</td><td>如果被威胁利用，将对资产造成完全损害</td></tr><tr><td><strong>4</strong></td><td>高</td><td>如果被威胁利用，将对资产造成重大损害</td></tr><tr><td><strong>3</strong></td><td>中</td><td>如果被威胁利用，将对资产造成一般损害</td></tr><tr><td><strong>2</strong></td><td>低</td><td>如果被威胁利用，将对资产造成较小损害</td></tr><tr><td><strong>1</strong></td><td>很低</td><td>如果被威胁利用，将对资产造成的损害可以忽略</td></tr></tbody></table><h5 id="确认已有的控制措施">确认已有的控制措施</h5><p>依据三个报告：《信息系统的描述报告》、《信息系统的分析报息告》和《信系统的安全要求报告》</p><p>确认已有的安全措施，包括：</p><ul><li>技术层面（物理平台、系统平台、网络平台和应用平台）的安全功能</li><li>组织层面（组织结构、岗位和人员）的安全控制</li><li>管理层面（策略、规章和制度）的安全对策</li><li>形成《已有安全措施列表》</li></ul><p>控制措施类型：预防性、检测性和纠正性</p><p>在识别脆弱性的同时，评估人员应对已采取的安全措施的有效性进行确认。安全措施的确认应评估其有效性，对有效的安全措施继续保持，以避免不必要的工作和费用，防止重复实施</p><h5 id="风险分析">风险分析</h5><p>GB/T 20984-2007《信息安全风险评估规范》给出信息安全风险分析思路</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\风险分析思路.png" style="zoom:50%;" /><p>计算安全事件发生的可能性<br>安全事件的可能性=L(威胁出现频率，脆弱性)＝L(T，V )<br>计算安全事件发生后造成的损失<br>安全事件造成的损失=F(资产价值，脆弱性严重程度)＝F(Ia，Va )<br>计算风险值<br>风险值=R(安全事件的可能性，安全事件造成的损失)＝R(L(T，V)，F(Ia，Va ))</p><h5 id="风险结果判定">风险结果判定</h5><p>评估风险的等级<br>评估风险的等级依据《风险计算报告》，根据已经制定的风险分级准则，对所有风险计算结果进行等级处理，形成《风险程度等级列表》。<br>综合评估风险状况<br>汇总各项输出文档和《风险程度等级列表》，综合评价风险状况，形成《风险评估报告》</p><table><thead><tr><th><strong>等级</strong></th><th><strong>取值范围</strong></th><th><strong>名称</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>H</td><td>25,20</td><td>高风险</td><td>最高等级的风险，需要立即采取应对措施。不可接受。</td></tr><tr><td>S</td><td>12,15,16</td><td>严重风险</td><td>需要高级管理层注意。不可接受</td></tr><tr><td>M</td><td>6,8,9,10</td><td>中等风险</td><td>必须规定管理责任。通常需要综合考虑取舍。</td></tr><tr><td>L</td><td>1,2,3,4,5</td><td>低风险</td><td>可以通过例行程序来处理。可接受。</td></tr></tbody></table><p>风险处理计划</p><p>对不可接受的风险应根据导致该风险的脆弱性制定风险处理计划<br>管理措施<br>技术措施</p><p><img src="C:%5CUsers%5C888888%5CDesktop%5C%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%A4%8D%E4%B9%A0%5CCISP%E8%AF%BE%E4%BB%B6V4.2%E6%A0%87%E5%87%86%E7%89%88%5C%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0%5C1745070935195.png" alt=""></p><p>残余风险评估</p><p>实施安全措施后对措施有效性进行再评估<br>在对于不可接受的风险选择适当安全措施后，为确保安全措施的有效性，可进行再评估，以判断实施安全措施后的残余风险是否已经降低到可接受的水平。<br>某些风险可能在选择了适当的安全措施后， 残余风险的结果仍处于不可接受的风险范围内， 应考虑是否接受此风险或进一步增加相应的安全措施</p><h4 id="风险评估文档">风险评估文档</h4><p><img src="C:%5CUsers%5C888888%5CDesktop%5C%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%A4%8D%E4%B9%A0%5CCISP%E8%AF%BE%E4%BB%B6V4.2%E6%A0%87%E5%87%86%E7%89%88%5C%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0%5C1745070971543.png" alt=""></p><h3 id="信息系统审计">信息系统审计</h3><p>信息系统审计的定义<br>国家审计属的定义<br>国际信息系统和控制协会（ISACA）<br>信息系统审计的作用<br>从审计目标看，信息系统审计主要是检查和促进被审计单位信息系统及其内部控制的真实性、正确性、完整性、安全性、可靠性和经济性等各类目标要素。<br>审计内容看，信息系统审计中的一般控制审计包括信息安全技术控制审计和信息安全管理控制审计。</p><p>信息系统审计工作流程</p><p>计划：确定审计的目标和范围<br>现场工作和文件：收集数据并进行访以帮助分析潜在风险<br>问题发现和验证：潜在问题清单并验证<br>开发解决方案：与客户合作制定解决每个问题的行动计划<br>报告起草和执行<br>问题跟踪</p><p><img src="C:%5CUsers%5C888888%5CDesktop%5C%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%A4%8D%E4%B9%A0%5CCISP%E8%AF%BE%E4%BB%B6V4.2%E6%A0%87%E5%87%86%E7%89%88%5C%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0%5C1745071005329.png" alt=""></p><p>审计技术控制</p><p>脆弱性测试<br>渗透测试<br>战争驾驶<br>其他漏洞类型<br>日志<br>合成交易<br>滥用案例测试<br>代码审查<br>接口测试</p><p>审计管理控制</p><p>账户管理<br>备份验证<br>灾难恢复和业务连续性<br>安全培训和安全意识培训<br>关键绩效和风险指标</p><p>审计报告</p><p>专业人员了解信息系统安全在更广泛的业务环境中的作用，并能够将其传达给技术和非技术观众<br>SAS70<br>由美国注册会计师协会（AICPA）制定的用于处理服务机构的审计标准<br>提供了一套基于服务组织（如提供IT服务的服务组织）标准可以展示其内部控制的有效性<br>SOC<br>取代SAS 70并解决更广泛的特定用户需求，例如解决安全性，隐私和可用性问题</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;信息安全评估&quot;&gt;信息安全评估&lt;/h2&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;img src=&quot;C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全评估\信息安全评估.png&quot;  style=&quot;zoom:50%;&quot; /&gt;</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="安全评估" scheme="https://shierjinghuang.github.io/tags/%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0/"/>
    
  </entry>
  
  <entry>
    <title>网络安全监管</title>
    <link href="https://shierjinghuang.github.io/2025/04/19/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%9B%91%E7%AE%A1/"/>
    <id>https://shierjinghuang.github.io/2025/04/19/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E7%9B%91%E7%AE%A1/</id>
    <published>2025-04-19T04:37:42.000Z</published>
    <updated>2025-04-19T12:11:04.038Z</updated>
    
    <content type="html"><![CDATA[<h2 id="网络安全监管">网络安全监管</h2><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\知识体系.png" style="zoom:50%;" /><h3 id="网络安全法律体系建设">网络安全法律体系建设</h3><blockquote><p>计算机犯罪的概念： 计算机犯罪 [Cybercrime] 是指利用计算机、网络或数字技术作为工具或目标，实施的非法行为</p></blockquote><p>计算机犯罪的特点：多样化、复杂化、国际化</p><p>计算机犯罪的趋势 ：从无意识到有组织、从个体侵害到国家威胁、跨越计算机本身的实施能力、低龄化成为法律制约难题</p><p><strong>网络安全立法的重点</strong>：</p><ul><li>对传统的网络安全制度进行立法修正<ul><li>机构职责和管理制度、监测预警及应急处置机制</li></ul></li><li>对近几年涌现的新问题进行应对<ul><li>关键基础设施保护、数据安全防护、云计算等新技术、新业务引发的安全问题等</li></ul></li></ul><h4 id="网络安全法">网络安全法</h4><h5 id="网络安全法基本概念">网络安全法基本概念</h5><ul><li>网络： 指由计算机或者其他信息终端及相关设备组成的按照一定的规则和程序对信息进行收集、存储、传输、交换、处理的系统</li><li>网络安全： 指通过采取必要措施，防范对网络的攻击、侵入、干扰、破坏和非法使用以及意外事故，使网络处于稳定可靠运行的状态，以及保障网络数据的完整性、保密性、可用性的能力</li><li>网络空间安全： 网络空间及其承载的信息、活动、主体的安全，是网络安全在更广义维度的延伸，涵盖政治、经济、社会等多领域安全</li><li>关键信息基础设施： 指公共通信和信息服务、能源、交通、水利、金融、公共服务、电子政务等重要行业和领域，以及其他一旦遭到破坏、丧失功能或者数据泄露，可能严重危害国家安全、国计民生、公共利益的信息设施</li><li>网络运营者： 指网络的所有者、管理者和网络服务提供者</li><li>个人信息： 指以电子或者其他方式记录的能够单独或者与其他信息结合识别自然人个人身份的各种信息，包括但不限于姓名、出生日期、身份证件号码、住址、电话号码等</li><li>网络数据： 指通过网络收集、存储、传输、处理和产生的各种电子数据</li></ul><h4 id="网络安全法">网络安全法</h4><h5 id="第一章-总则">第一章 总则</h5><p><strong>明确网络空间主权原则</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\明确网络空间主权原则.png" style="zoom:50%;" /><h5 id="第二章-网络安全支持与促进">第二章 网络安全支持与促进</h5><ul><li>建立和完善网络安全标准体系建设</li><li>统筹规划，扶持网络安全产业（产品、服务等）</li><li>推动社会化网络安全服务体系建设</li><li>鼓励开发数据安全保护和利用技术、创新网络安全管理方式</li><li>开展经常性网络安全宣传教育</li><li>支持企业和高等学校、职业学校等教育培训机构开展网络安全相关教育与培训，采取多种方式培养网络安全人才，促进网络安全人才交流</li></ul><h5 id="第三章-网络运行安全">第三章 网络运行安全</h5><p><strong>明确要求落实网络安全等级保护制度</strong></p><p>国家实行网络安全等级保护制度。网络运营者应当按照网络安全等级保护制度的要求，履行下列安全保护义务，保障网络免受干扰、破坏或者未经授权的访问，防止网络数据泄露或者被窃取、篡改：</p><ol><li>制定内部安全管理制度和操作规程，确定网络安全负责人，落实网络安全保护责任；</li><li>采取防范计算机病毒和网络攻击、网络侵入等危害网络安全行为的技术措施；</li><li>采取监测、记录网络运行状态、网络安全事件的技术措施，并按照规定留存相关的网络日志不少于六个月；</li><li>采取数据分类、重要数据备份和加密等措施；</li><li>法律、行政法规规定的其他义务。</li></ol><p><strong>明确网络运营者的安全义务</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\网络运营者的安全义务.png" style="zoom:50%;" /><p><strong>明确网络产品、服务提供者的安全义务</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\网络产品、服务提供者的安全义务.png" style="zoom:50%;" /><p><strong>明确一般性安全保护义务</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\一般性安全保护义务.png" style="zoom:50%;" /><p><strong>关键信息基础设施保护</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\关键信息基础设施保护.png" style="zoom:50%;" /><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\关键信息基础设施运营者.png" style="zoom:50%;" /><p><strong>明确我国实行网络安全审查制度</strong></p><p>中央网信办正式发布《网络产品和服务安全审查办法（试行）》</p><p>其中就审查的目的、需要审查的网络产品和服务的范围、网络安全审查的管理部门（网络安全审查委员会）、审查的机构（国家统一认定网络安全审查第三方机构）和对党政机关和重点行业的审查工作提出要求</p><h5 id="第四章-网络信息安全">第四章 网络信息安全</h5><p><strong>重视对个人信息保护</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\重视对个人信息保护.png" style="zoom:50%;" /><p><strong>规范信息管理</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\规范信息管理.png" style="zoom:50%;" /><p><strong>确定信息管理中相关职责</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\确定信息管理中相关职责.png" style="zoom:50%;" /><p>国家互联网信息办公室发布《互联网新闻信息服务管理规定》规范了：</p><ul><li>互联网新闻信息服务的范围</li><li>互联网新闻信息服务的6项许可条件</li><li>互联网新闻信息服务提供者的责任义务</li><li>网信部门对互联网新闻信息服务的监督检查要求</li><li>相关法律责任</li></ul><h5 id="第五章-监测预警与应急处置">第五章 监测预警与应急处置</h5><p><strong>工作制度化、法制化</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\工作制度化、法制化.png" style="zoom:50%;" /><h5 id="第六章-法律责任">第六章 法律责任</h5><p>对违反《 网络安全法》 的行为，第六章规定了民事责任、行政责任、刑事责任</p><h4 id="网络安全其他相关法规">网络安全其他相关法规</h4><ul><li>行政法相关法规</li><li>民法相关法规</li><li>刑法相关法规<ul><li>出售或者提供公民个人信息罪、非法侵入计算机信息系统罪、网络服务渎职罪等</li></ul></li><li>其他网络安全相关法规及条款<ul><li>国家安全法、保密法、电子签名法、反恐怖主义法、密码法</li></ul></li></ul><h3 id="国家网络安全政策">国家网络安全政策</h3><ul><li>中华人民共和国计算机信息系统安全保护条例规定了计算机系统实现安全等级保护</li><li>GB 17859正式细化等级保护要求，划分五个级别</li><li>关于信息安全等级保护工作的实施意见的通知规定等级保护指导思想、原则和要求。定级从信息和信息系统的业务重要性及遭受破坏后的影响出发</li><li>网络安全法明确我国实行网络安全等级保护制度</li></ul><h3 id="网络安全道德准则">网络安全道德准则</h3><p><strong>CISP职业道德准则：</strong></p><ul><li>维护国家、社会和公众的信息安全；诚实守信、遵纪守法；努力工作，尽职尽责；发展自身，维护荣誉</li></ul><h3 id="信息安全标准">信息安全标准</h3><ul><li>标准：为了在一定范围内获得最佳秩序，经协商一致制定并由公认机构批准，共同使用的和重复使用的一种规范性文件</li><li>标准类型：国际标准、国家标准、行业标准、地方标准</li><li>标准化：为了在一定范围内获得最佳秩序，对现实问题或潜在问题制定共同使用和重复使用的条款的活动</li><li>标准化的基本特点：<ul><li>标准化是一项活动</li><li>标准化的对象：物、事、人</li><li>标准化是一个动态的概念</li><li>标准化是一个相对的概念</li><li>标准化的效益只有应用后才能体现</li></ul></li><li>标准化工作原则：简化、统一、协调、优化</li></ul><p><strong>主要国际标准化组织</strong>：国际标准化组织 ISO、国际电工委员会 IEC、Internet工程任务组 IETF、国际电信联盟 ITU、及国际电信联盟远、通信标准化组织 ITU-T</p><p><strong>我国标准化组织</strong></p><p>中国国家标准化管理委员会：是我国最高级别的国家标准机构</p><p>全国信息安全标准化技术委员会（TC260)</p><p><strong>我国信息安全标准体系</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\我国信息安全标准体系.png" style="zoom:50%;" /><p><strong>我国标准分类</strong></p><p><strong>GB 强制性国家标准</strong>：一经颁布必须贯彻执行，违反则构成经济或法律方面的责任</p><p><strong>GB/T 推荐性国家标准</strong>：自愿采用的标准，共同遵守的技术依据，严格贯彻执行</p><p><strong>GB/Z 国家标准指导性技术文件</strong>：由于技术发展过程中或其他理由，将来可能达成一致意见指导性技术文件，实施后3年内必须进行复审</p><ul><li><p>基础类标准：安全术语类、测评基础类、管理基础类、物理安全类、 安全模型类、安全体系架构类</p></li><li><p>技术与机制标准：密码技术、鉴别机制、授权机制、电子签名、公钥基础设施、通信安全技术、涉密系统通用技术要求</p></li><li><p>管理与服务标准涉密服务<br>安全控制与服务<br>网络安全管理<br>行业/领域安全管理</p></li><li><p>测评标准 ：密码产品、通用产品、安全保密产品、通用系统、涉密信息系统、通信安全、政府安全检查、安全能力评估</p></li></ul><h4 id="等级保护标准族">等级保护标准族</h4><ul><li><p>安全等级类：主要对如何进行信息系统定级做出指导</p><ul><li>GB/T22240-2008 《信息安全技术 信息系统安全保护等级保护定级指南》</li><li>各类行业定级准则</li></ul></li><li><p>方法指导类：对如何开展等级保护工作做了详细规定</p><ul><li>GB/T25058-2010《信息安全技术 信息系统安全等级保护实施指南》</li><li>GB/T25070-2010《信息系统等级保护安全设计技术要求》等</li></ul></li><li><p>状况分析类：对如何开展等级保护测评工作做出了详细规定</p><ul><li>GB/T28448-2012《信息安全技术 信息系统安全等级保护测评要求》</li><li>GB/T28449-2012《信息安全技术 信息系统安全等级保护测评过程指南》等</li></ul></li><li><p>基线要求类：分技术类、管理类和产品类等标准，分别对某些专门技术、管理和产品的进行要求</p><ul><li>GB/T22239-2008 《信息安全技术 信息系统安全等级保护基本要求》</li><li>GB/T20271-2006《信息系统通用安全技术要求》</li><li>GB/T21052-2007《信息系统物理安全技术要求》</li></ul></li></ul><h5 id="等级保护工作流程">等级保护工作流程</h5><p>定级、备案、差距分析、建设整改、验收测评、定期复查</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\等级保护工作流程.png"  />]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;网络安全监管&quot;&gt;网络安全监管&lt;/h2&gt;
&lt;img src=&quot;C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\网络安全监管\知识体系.png&quot; style=&quot;zoom:50%;&quot; /&gt;
&lt;h3 id=&quot;网络安全法律体</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="网络安全法" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>物理与网络通信安全</title>
    <link href="https://shierjinghuang.github.io/2025/04/19/%E7%89%A9%E7%90%86%E4%B8%8E%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%AE%89%E5%85%A8/"/>
    <id>https://shierjinghuang.github.io/2025/04/19/%E7%89%A9%E7%90%86%E4%B8%8E%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%AE%89%E5%85%A8/</id>
    <published>2025-04-18T23:52:05.000Z</published>
    <updated>2025-04-19T04:38:48.129Z</updated>
    
    <content type="html"><![CDATA[<h2 id="物理与网络通信安全">物理与网络通信安全</h2><p>[TOC]</p><h3 id="物理与环境安全">物理与环境安全</h3><blockquote><p>物理安全是信息系统安全战略的一个重要组成部分</p></blockquote><p>物理安全面临问题：<strong>环境风险不确定性</strong>、<strong>人类活动的不可预知性</strong></p><p>典型的物理安全问题：<strong>自然灾害、环境因素、设备安全、介质安全、传输安全</strong></p><p>场地选择：避开自然灾害高发区域、远离可能的危险因素 [加油站、化工厂等]、治安、人流量等</p><p><strong>抗震</strong>：国标 结构抗震设计规范：特殊设防类、重点设防类、标准设防类</p><p><strong>承重</strong></p><ol><li>考虑设计（建筑的设计是否考虑了应对可能的偶然事件）</li><li>考虑时间因素（建筑有效期）</li><li>考虑使用因素（正常使用、正常维护）</li></ol><p><strong>火灾</strong></p><p>预防：防火设计及阻燃材料；检测：火灾探测器 [感烟、感温、感光、可燃气体探测]；抑制：水、气体：二氧化碳、七氟丙烷、三氟甲烷等</p><p><strong>防水</strong>：远离水浸威胁</p><p>检测：水浸探测器；处置：在应急事件处置中要安排相应的处置流程</p><p><strong>供电</strong>：双路供电、发电机、UPS、空气调节</p><p><strong>电磁防护</strong></p><p>解决电磁辐射产生的信息泄露问题</p><ul><li>电磁屏蔽：屏蔽线、屏蔽机柜、屏蔽机房</li><li>信号干扰：避免信息还原</li><li>Tempest技术：对电磁泄漏信号中所携带的敏感信息进行分析、测试、接收、还原以及防护的一系列技术领域的总称</li></ul><p><strong>雷击及静电</strong>：直击雷：[避雷针、法拉第笼]、感应雷：电涌保护器、静电：放电、防静电服</p><h4 id="设施安全">设施安全</h4><p><strong>设施安全-安全区域与边界防护</strong></p><ul><li>建立安全区域，明确物理安全边界</li><li>对受控区域进行保护，建立屏蔽及访问控制机制</li></ul><p><strong>设施安全-审计及监控</strong></p><p>审计及监控：对安全区域的出入行为进行记录、对非法闯入进行检测</p><p>实现方式：出入记录、闭路电视、非法闯入探测 [红外微波双鉴探头、玻璃破碎探测器等]、安保人员</p><h5 id="传输安全">传输安全</h5><p><strong>有线传输</strong>：</p><p>传输介质：同轴电缆、双绞线、光纤；安全风险：非法接入、破坏；防护措施：保护措施（深埋、套管）、标识</p><p><strong>无线传输</strong>：安全风险：<strong>开放信道</strong>、防护措施：<strong>加密</strong></p><h3 id="网络协议体系的安全风险">网络协议体系的安全风险</h3><h4 id="osi安全体系">OSI安全体系</h4><ul><li>OSI安全体系目标：保证异构计算机进程与进程之间远距离交换信息的安全</li><li>五类安全服务：<strong>鉴别服务、访问控制服务、数据完整性服务、数据保密性服务和抗抵赖服务</strong></li><li>八种安全机制：<strong>加密、数据签名、访问控制、数据完整性、鉴别交换、业务流填充、路由控制和公正</strong></li></ul><h4 id="tcp-ip协议安全">TCP/IP协议安全</h4><h5 id="网络接口层安全问题">网络接口层安全问题</h5><ul><li>损坏：[自然灾害、动物破坏、老化、误操作]干扰：[大功率电器、电源线路、电磁辐射]</li><li>电磁泄漏：传输线路电磁泄漏</li><li>欺骗：ARP欺骗</li><li>嗅探：常见二层协议是明文通信的</li><li>拒绝服务：MAC Flooding，ARP Flooding等</li></ul><h5 id="网络互联层安全问题">网络互联层安全问题</h5><ul><li>拒绝服务：分片攻击 [teardrop]、死亡之ping</li><li>欺骗：IP源地址欺骗、窃听：嗅探、伪造：IP数据包伪造</li></ul><h5 id="传输层安全问题">传输层安全问题</h5><ul><li><p>拒绝服务：SYN Flood/UDP Flood/Smurf</p></li><li><p>欺骗：TCP会话劫持、窃听：嗅探、伪造：数据包伪造</p></li></ul><h5 id="应用层协议安全问题">应用层协议安全问题</h5><ul><li>拒绝服务：超长URL链接、欺骗：跨站脚本、钓鱼式攻击、Cookie欺骗</li><li>窃听：数据泄漏、伪造：应用数据篡改、暴力破解：应用认证口令暴力破解等</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\物理与网络通信安全\基于TCP IP协议簇的安全架构.png" style="zoom:50%;" /><h3 id="无线通信安全">无线通信安全</h3><h4 id="无线局域网安全">无线局域网安全</h4><h5 id="无线局域网安全协议-wep">无线局域网安全协议-WEP</h5><p>提供功能：传输加密、接入认证 [开放式认证、共享密钥认证]</p><p>开放式认证系统：通过易于伪造的SSID识别，无保护、任意接入；MAC、IP地址控制易于伪造</p><p>共享密钥认证：弱密钥问题、不能防篡改、没有提供抵抗重放攻击机制</p><h5 id="无线局域网安全协议-wpa-wpa2">无线局域网安全协议-WPA、WPA2</h5><ul><li><p>802.11i两个阶段：WPA、WPA2</p></li><li><p>802.11i运行四阶段：<strong>发现AP阶段、802.11i认证阶段、密钥管理阶段、安全传输阶段</strong></p></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\物理与网络通信安全\WPA运行阶段.png" style="zoom:50%;" /><h5 id="wapi无线安全协议">WAPI无线安全协议</h5><ul><li>WAPI的构成：<strong>WAI，用于用户身份鉴别</strong>、<strong>WPI，用于保护传输安全</strong></li><li>WAPI的安全优势：双向三鉴别 [服务器、AP、STA]、高强度鉴别加密算法</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\物理与网络通信安全\WAPI无线安全协议.png" style="zoom:50%;" /><p><strong>无线局域网应用安全策略</strong></p><ul><li>管理措施：组织机构安全策略中包含无线局域网安全管理策略、结合业务对无线局域网应用进行评估，制定使用和管理策略</li><li>技术措施：加密、认证及访问控制、访客隔离、安全检测措施</li></ul><h4 id="蓝牙通信安全">蓝牙通信安全</h4><ul><li><p>安全威胁：</p><ul><li>保密性威胁：[密钥生成基于配对的PIN]；</li><li>完整性威胁：[未授权设备实施的中间人攻击]；</li><li>可用性威胁：[拒绝服务]</li><li>非授权连接</li></ul></li><li><p>蓝牙安全应用</p><ul><li>蓝牙设备选择：技术上应具备抵抗以上威胁的能力</li><li>蓝牙设备使用：企业应用应建立管理要求</li></ul></li></ul><h4 id="rfid通信安全">RFID通信安全</h4><p>安全威胁：</p><ul><li>针对标签攻击：数据窃取、标签破解及复制</li><li>针对读写器的攻击：拒绝服务、恶意代码</li><li>针对无线信道的攻击：干扰、嗅探</li></ul><p>安全防护</p><ul><li>重要的RFID标签（例如用于身份鉴别），支持Kill和休眠的标签</li><li>使用高安全加密算法的标签</li><li>涉及资金的应用使用在线核查方式</li></ul><h3 id="典型网络攻击防范">典型网络攻击防范</h3><h4 id="欺骗攻击-spoofing">欺骗攻击 [Spoofing]</h4><blockquote><p>欺骗攻击 [Spoofing]：通过伪造源于可信任地址的数据包以使一台机器认证另一台机器的复杂技术</p></blockquote><p>常见类型：IP欺骗、ARP欺骗、DNS欺骗</p><ul><li>IP欺骗、ARP欺骗和DNS欺骗都是网络攻击中常见的欺骗技术，主要用于伪装身份、劫持流量或诱导用户访问恶意资源。以下是它们的实现方式和基本原理：</li></ul><hr><h5 id="ip欺骗-ip-spoofing">IP欺骗 IP Spoofing</h5><p><strong>原理</strong>  ：通过伪造数据包的源IP地址，伪装成其他主机或信任的IP，绕过基于IP的访问控制或发起匿名攻击</p><p><strong>实现方式</strong></p><ul><li><p><strong>直接伪造IP包</strong>：<br>使用工具（如 <code>Scapy</code>、<code>hping3</code>）手动构造数据包，修改源IP字段。例如：</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Scapy示例：发送伪造源IP的ICMP包</span><span class="token keyword">from</span> scapy<span class="token punctuation">.</span><span class="token builtin">all</span> <span class="token keyword">import</span> <span class="token operator">*</span>send<span class="token punctuation">(</span>IP<span class="token punctuation">(</span>src<span class="token operator">=</span><span class="token string">"伪造的IP"</span><span class="token punctuation">,</span> dst<span class="token operator">=</span><span class="token string">"目标IP"</span><span class="token punctuation">)</span><span class="token operator">/</span>ICMP<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><strong>SYN洪水攻击</strong>：</p><ul><li>在TCP三次握手时伪造大量SYN包，耗尽服务器资源</li></ul></li><li><p><strong>反射放大攻击</strong>：</p><ul><li>伪造受害者IP向开放服务发送请求，利用响应流量放大攻击</li></ul></li></ul><p><strong>防御措施</strong>  ：启用入口/出口过滤、使用加密认证、部署IDS/IPS检测异常流量。</p><hr><h5 id="arp欺骗-arp-spoofing-poisoning">ARP欺骗 ARP Spoofing/Poisoning</h5><p><strong>原理</strong>  ：<strong>通过伪造ARP响应包，欺骗局域网内主机将攻击者的MAC地址绑定到合法IP上，实现流量劫持</strong></p><p><strong>实现方式</strong></p><ul><li><strong>工具自动化</strong>：<br>使用 <code>arpspoof</code>、<code>Ettercap</code> 等工具发送虚假ARP响应：<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">arpspoof -i eth0 -t 目标IP 网关IP<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><strong>手动构造ARP包</strong>：<br>发送虚假ARP响应，声称“网关的MAC是攻击者的MAC”或“主机的MAC是攻击者的MAC”。</li></ul><p><strong>防御措施</strong>  ：静态ARP绑定、启用动态ARP检测、 使用加密通信</p><hr><h5 id="dns欺骗-dns-spoofing-poisoning">DNS欺骗 DNS Spoofing/Poisoning</h5><p><strong>原理</strong>：篡改DNS解析结果，将用户引导至恶意IP。可分为本地欺骗或污染公共DNS缓存</p><p><strong>实现方式</strong></p><ul><li><strong>本地DNS欺骗</strong>：<br>攻击者在局域网内伪造DNS响应（如结合ARP欺骗）：<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnsspoof -i eth0 <span class="token string">"过滤条件"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><strong>DNS缓存投毒</strong>：<br>向公共DNS服务器发送伪造的DNS响应，污染其缓存（需绕过事务ID、端口随机化等防护）。</li><li><strong>修改Hosts文件</strong>：<br>直接修改目标主机的Hosts文件（需系统权限）。</li></ul><p><strong>防御措施</strong>  ：使用DNSSEC [ DNS安全扩展 ]、部署DNS流量加密、定期清理本地DNS缓存</p><h4 id="网络攻击与防范-拒绝服务攻击-dos攻击">网络攻击与防范-拒绝服务攻击 [DOS攻击]</h4><blockquote><p>拒绝服务攻击：让被攻击的系统无法正常进行服务的攻击方式</p></blockquote><p>拒绝服务攻击方式</p><ul><li>利用系统、协议或服务的漏洞：利用TCP协议实现缺陷、利用操作系统或应用软件的漏洞</li><li>目标系统服务资源能力：利用大量数据挤占网络带宽、利用大量请求消耗系统性能</li><li>混合型</li></ul><p><strong>SYN Flood</strong>：伪造虚假地址连接请求，消耗主机连接数</p><p><strong>UDP Flood</strong>：利用UDP协议实现简单、高效，形成流量冲击</p><p><strong>Teardrop</strong>：构造错误的分片信息，系统重组分片数据时内存计算错误，导致协议栈崩溃</p><h5 id="拒绝服务攻击的防御">拒绝服务攻击的防御</h5><ul><li>管理防御：业务连续性计划（组织共同承担，应对DoS攻击）、协调机制（运营商、公安部门、专家团队）</li><li>技术防御：安全设备（防火墙、抗DoS设备）、增强网络带宽、自身强壮性（风险评估、补丁、安全加固、资源控制）</li><li>监测防御：应急响应（构建监测体系）</li></ul><h3 id="网络安全防护技术">网络安全防护技术</h3><h4 id="防火墙技术">防火墙技术</h4><p><strong>防火墙的功能：</strong></p><ul><li>控制：在网络连接点上建立一个安全控制点，对进出数据进行限制</li><li>隔离：将需要保护的网络与不可信任网络进行隔离，隐藏信息并进行安全防护</li><li>记录：对进出数据进行检查，记录相关信息</li></ul><p><strong>防火墙的主要技术</strong></p><ul><li>静态包过滤<ul><li>依据数据包的基本标记来控制数据包</li><li>优点：技术逻辑简单、易于实现，处理速度快</li><li>缺点：无法实现对应用层信息过滤处理，配置较复杂</li></ul></li><li>应用代理<ul><li>连接都要通过防火墙进行转发</li><li>提供NAT，隐藏内部网络地址</li></ul></li><li>状态检测<ul><li>创建状态表用于维护连接，安全性高</li><li>安全性高但对性能要求也高</li><li>适应性好，对用户、应用程序透明</li></ul></li></ul><p><strong>防火墙的部署</strong></p><ul><li>防火墙的部署位置：<strong>可信网络与不可信网络之间、不同安全级别网络之间、两个需要隔离的区域之间</strong></li><li>防火墙的部署方式：单防火墙部署方式、单防火墙 [DMZ]部署方式、双防火墙部署方式</li></ul><p><strong>边界安全防护-网闸等</strong></p><p>物理隔离与交换系统（网闸）</p><ul><li>外部处理单元、内部处理单元、中间处理单元</li><li>断开内外网之间的会话（物理隔离、协议隔离）</li><li>同时集合了其他安全防护技术</li></ul><p>其他网络安全防护技术：IPS、防病毒网关、UTM</p><p><strong>检测与审计-入侵检测</strong></p><ul><li>入侵检测系统的作用：主动防御，防火墙的重要补充、构建网络安全防御体系重要环节</li><li>入侵检测系统功能：发现并报告系统中未授权或违反安全策略行为、为网络安全策略的制定提供指导</li></ul><p><strong>入侵检测系统</strong></p><ul><li>分类：网络入侵检测、主机入侵检测、</li><li>检测技术：误用检测、异常检测</li></ul><p><strong>接入管理-VPN</strong></p><ul><li>虚拟专用网络（Virtual Private Network,VPN）：利用隧道技术，在公共网络中建立一个虚拟的、专用的安全网络通道</li><li>VPN实现技术：隧道技术、二层隧道：[PPTP、 L2F、L2TP]、IPSEC、SSL、密码技术</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;物理与网络通信安全&quot;&gt;物理与网络通信安全&lt;/h2&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h3 id=&quot;物理与环境安全&quot;&gt;物理与环境安全&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;物理安全是信息系统安全战略的一个重要组成部分&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;物理安</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
  </entry>
  
  <entry>
    <title>信息安全保障</title>
    <link href="https://shierjinghuang.github.io/2025/04/18/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E4%BF%9D%E9%9A%9C/"/>
    <id>https://shierjinghuang.github.io/2025/04/18/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E4%BF%9D%E9%9A%9C/</id>
    <published>2025-04-18T07:22:47.000Z</published>
    <updated>2025-04-21T00:36:05.087Z</updated>
    
    <content type="html"><![CDATA[<h2 id="信息安全保障">信息安全保障</h2><p>[TOC]</p><h3 id="信息安全保障基础">信息安全保障基础</h3><h4 id="信息安全的相关定义：">信息安全的相关定义：</h4><blockquote><p>ISO对信息安全的定义：为数据处理系统建立和采取技术、管理的安全保护，保护计算机硬件、软件、数据不因偶然的或恶意的原因而受到破坏、更改、泄露</p></blockquote><blockquote><p>美国法典中信息安全的定义为：信息安全，是防止未经授权的访问、使用、披露、中断、修改、检查、记录或破坏信息的做法</p></blockquote><blockquote><p>欧盟信息安全定义为：在既定的密级条件下，网络与信息系统抵御意外事件或恶意行为的能力，这些事件和行为将威胁所存储或传输的数据以及经由这些网络和系统所提供的服务的可用性、真实性、完整性和机密性</p></blockquote><p><strong>信息安全问题的根源</strong></p><ul><li>内因：信息系统复杂性导致漏洞的存在不可避免，外因：环境因素、人为因素</li></ul><p><strong>信息安全的特征</strong>：系统性、动态性、无边界、非传统</p><p><strong>威胁情报</strong></p><blockquote><p>威胁情报是管理人员提供行动和制定决策的依据，是建立在大量的数据搜集和处理的基础上，通过对搜集数据的分析和评估，从而形成相应的结论</p></blockquote><ul><li>目前威胁情报成为信息安全保障中的关键性能力</li></ul><p><strong>态势感知</strong></p><blockquote><p>建立在威胁情报的基础上，利用大数据和高性能计算为支撑，综合网络威胁相关的形式化及非形式化数据进行分析，并形成对未来网络威胁状态进行预判以便调整安全策略</p></blockquote><h4 id="信息安全属性">信息安全属性</h4><p>基本属性：保密性、完整性、可用性</p><p>其他属性：真实性、可问责性、不可否认性、可靠性</p><blockquote><p>保密性、完整性和可用性 [CIA] 被称为信息安全基本属性。还涉及其他属性，例如真实性、可问责性、不可否认性和可靠性</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\信息安全属性.png" style="zoom:50%;" /><h4 id="信息安全的两种视角">信息安全的两种视角</h4><h5 id="国家视角下的信息安全">国家视角下的信息安全</h5><blockquote><p><strong>网络战</strong>：一个民族国家为了造成损害或破坏而渗透另一个国家的计算机或网络的行动</p></blockquote><ul><li>目前网络战其作为国家整体军事战略的一个组成部分已经成为趋势</li></ul><p><strong>国家关键基础设施保护</strong></p><p>2016年11月通过的《网络安全法》定义了我国关键基础设施，公共通信和信息服务、能源、交通、水利、金融、公共服务、电子政务等重要行业和领域，以及其他一旦遭到破坏、丧失功能或者数据泄露，可能严重危害国家安全、国计民生、公共利益的基础设施为关键基础设施</p><p><strong>法律建设与标准化</strong></p><ul><li>由互联网的开放、自由和共有的脆弱性，使国家安全、社会公共利益以及个人权利在网络活动中面临着来自各方面的威胁，国家需要在技术允许的范围内保持适当的安全要求</li><li>所谓<strong>适度安全</strong>是指<strong>安全保护的立法的范围要和应用的重要性相一致</strong>，不花费过多成本，限制信息系统的可用性</li><li>信息安全风险具有<strong>不可逆</strong>的特点，需要信息安全法律采取以<strong>预防为主</strong>的法律原则。但是由于信息安全威胁的<strong>全局性特点</strong>，其法律原则更应当采取<strong>积极主动的预防原则</strong></li></ul><h5 id="企业视角下的信息安全">企业视角下的信息安全</h5><p>业务连续性：业务数据对组织的重要性使得组织必须关注业务连续性<br>资产保护：<br>合规性：法律法规的合规、标准的合规性</p><h5 id="个人视角下的信息安全">个人视角下的信息安全</h5><blockquote><p>从个人角度而言，这不仅仅是一个技术问题，还是一个社会问题、法律问题以及道德问题</p></blockquote><ul><li>隐私保护、社会工程学、个人资产安全</li></ul><p>个人信息资产问题思考</p><ol><li>哪些信息资产被恶意利用后会形成人身的损害？</li><li>哪些信息资产被恶意利用后会形成财务的损失？</li><li>哪些信息资产被恶意利用后会形成法律责任？</li></ol><h4 id="信息安全发展阶段">信息安全发展阶段</h4><h5 id="通信安全阶段">通信安全阶段</h5><blockquote><p>时间：20世纪，40年代-70年代<br>特点：主要<strong>关注传输过程中的数据保护</strong><br>安全威胁：搭线窃听、密码学分析<br>核心思想：通过密码技术解决通信保密，保证数据的保密性和完整性<br>安全措施：加密</p></blockquote><h5 id="计算机安全">计算机安全</h5><blockquote><p>时间：20世纪，70-90年代<br>特点：主要关注于数据处理和存储时的数据保护<br>安全威胁：<strong>非法访问、恶意代码、脆弱口令</strong>等<br>核心思想：预防、检测和减小计算机系统用户 [授权和未授权用户] 执行的未授权活动所造成的后果<br>安全措施：通过操作系统的访问控制技术来防止非授权用户的访问</p></blockquote><h5 id="信息系统安全">信息系统安全</h5><blockquote><p>时间：20世纪，90年代后<br>特点：主要关注信息系统整体安全<br>安全威胁：网络入侵、病毒破坏、信息对抗等<br>核心思想：重点在于保护比“数据”更精炼的“信息”<br>安全措施：防火墙、防病毒、漏洞扫描、入侵检测、PKI、VPN等</p></blockquote><h5 id="信息安全保障">信息安全保障</h5><blockquote><p>时间：1996年，DoDD 5-3600.1首次提出了信息安全保障<br>特点：关注信息、信息系统对组织业务及使命的保障，信息安全概念延伸，实现全面安全</p></blockquote><p><strong>我国信息安全保障工作</strong></p><ul><li>总体要求：积极防御，综合防范</li><li>主要原则：技术与管理并重，正确处理安全与发展的关系</li></ul><h5 id="网络空间安全">网络空间安全</h5><blockquote><p>背景：互联网与物理世界深度融合，形成<strong>网络空间 [Cyberspace]</strong>，涵盖云计算、物联网 [IoT]、工业控制系统 [ICS] 等新兴领域。新技术领域融合带来新的安全风险</p></blockquote><p>主要关注点：</p><ul><li>关键基础设施保护</li><li>新技术的安全挑战——云大移物智 [云计算、大数据、移动互联网、物联网、人工智能]</li></ul><p>安全威胁：<strong>APT攻击 [高级持续性威胁]、物联网僵尸网络、AI滥用如深度伪造、自动化攻击</strong></p><p><strong>核心思想</strong>：</p><ul><li><p><strong>威慑 [Deterrence]</strong>：通过法律、技术、军事手段震慑攻击者。</p></li><li><p><strong>零信任 [Zero Trust]</strong>：默认不信任，持续验证。</p></li></ul><h4 id="信息安全保障新领域">信息安全保障新领域</h4><h5 id="工业控制系统的安全风险">工业控制系统的安全风险</h5><p>工业控制系统基本结构：<strong>分布式控制系统 [DCS]、数据采集与监控系统 [SCADA]、可编程逻辑控制器 [PLC]</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\工业控制系统体系结构.png" style="zoom: 80%;" /><center>工业控制系统体系结构</center>**工业控制系统安全威胁**：缺乏足够安全防护、安全可控性不高、缺乏安全管理标准和技术<p><strong>工业控制系统安全架构：</strong></p><ul><li>管理控制：一是<strong>风险评价</strong>，二是<strong>规划</strong>，三是<strong>系统和服务采购</strong>，四是<strong>认证、认可和安全评价</strong></li><li>操作控制：人员安全、物理和环境保护、意外防范计划、配置管理、维护、系统和信息完整性、媒体保护、事件响应、意识和培训</li><li>技术控制：<strong>识别和认证、访问控制、审计和追责、系统和通信保护</strong></li></ul><h5 id="云计算的安全风险">云计算的安全风险</h5><p><strong>数据管理和访问失控的风险</strong>：<strong>数据存储位置对用户失控 、云计算服务商对数据权限高于用户、用户不能有效监管云计算厂商内部人员对数据的非授权访问</strong></p><p>数据保护的风险：缺乏统一标准，数据存储格式不同、存储介质由云服务商控制，用户对数据的操作需要通过云服务商执行，用户无法有效掌控自己数据</p><h5 id="云计算安全架构">云计算安全架构</h5><blockquote><p>云计算安全是个交叉领域，覆盖物理安全到应用安全</p></blockquote><p>云计算安全覆盖角色：云用户、云提供者、云承载者、云审计者和云经纪人</p><p>云计算安全服务体系三层架构：安全云基础设施、云安全基础服务、云安全应用服务</p><p><strong>虚拟化安全</strong></p><blockquote><p>虚拟化是云计算的支撑技术，把硬件资源虚拟化，构成一个资源词从而提供云服务的各项特性</p></blockquote><p>虚拟化安全是云计算中核心的安全问题，用于确保虚拟化多租户之间的有效隔离</p><h5 id="物联网的安全风险">物联网的安全风险</h5><p>物联网是信息社会的基础设施，其核心和基础仍然是互联网，其用户端延伸和扩展到了任何物品与物品之间</p><p>物联网技术架构：<strong>感知</strong>、<strong>传输</strong>、<strong>支撑</strong>、<strong>应用</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\物联网技术架构.png" style="zoom: 67%;" /><p>感知层安全问题：网关节点被控制，拒绝服务；接入节点标识、识别、认证和控制</p><p>传输层安全问题：拒绝服务、欺骗</p><p>支撑层安全问题：来自终端的虚假数据识别和处理、可用性保护、人为干预</p><p>应用层安全问题：隐私保护、知识产权保护、取证、数据销毁</p><h5 id="大数据安全风险">大数据安全风险</h5><ul><li><p>大数据的概念：大数据是指传统数据架构无法有效处理的新数据集</p></li><li><p>大数据的价值：趋势分析</p></li><li><p>大数据安全：<strong>数据的生命周期安全</strong>、<strong>技术平台安全</strong></p></li></ul><p>移动互联网安全问题及策略</p><p>移动互联网安全问题：<strong>系统安全问题、移动应用安全问题、个人隐私保护问题</strong></p><p>安全策略：<strong>政策管控、应用分发管控、加强隐私保护要求</strong></p><h3 id="安全保障框架">安全保障框架</h3><h4 id="基于时间的pdr与ppdr模型">基于时间的PDR与PPDR模型</h4><h5 id="pdr模型">PDR模型</h5><p>PDR模型全称为 <strong>保护-检测-响应模型</strong></p><blockquote><p>模型思想：承认漏洞，正视威胁，采取适度防护、加强检测工作、落实响应、建立对威胁的防护来保障系统的安全</p></blockquote><ul><li><p>出发点：<strong>基于时间的可证明的安全模型</strong></p><ul><li>任何安全防护措施都是基于时间的，超过该时间段，这种防护措施是可能被攻破的</li><li>如果 <strong>Pt &gt; Dt + Rt</strong>，则系统安全</li><li>如果 <strong>Pt ≤ Dt + Rt</strong>，则系统可能被攻破</li></ul></li><li><p>局限性：Pt、Dt、Rt很难准确定义</p></li></ul><h5 id="ppdr模型">PPDR模型</h5><p><strong>PPDR模型</strong>全称为 <strong>策略-保护-检测-响应模型</strong></p><ul><li><p>PPDR模型核心思想：所有的防护、检测、响应都是依据安全策略实施</p></li><li><p>全新定义：及时的检测和响应就是安全</p><ul><li><strong>Et（暴露时间）= Dt（检测时间）+ Rt（响应时间）- Pt（防护时间）</strong></li><li><strong>目标：尽量减少Et</strong>，即缩短系统暴露在攻击下的时间</li></ul></li></ul><p>PPDR模型则更强调控制和对抗、考虑了管理的因素，强调安全管理的持续性、安全策略的动态性等</p><p>PPDR模型中的数学法则</p><ul><li>假设S系统的防护、检测和反应的时间分别是<ul><li>Pt（防护时间、有效防御攻击的时间）</li><li>Dt（检测时间、发起攻击到检测到的时间）</li><li>Rt（反应时间、检测到攻击到处理完成时间）</li></ul></li><li>假设系统被对手成功攻击后的时间为<ul><li>Et（暴露时间）</li></ul></li><li>该系统防护、检测和反应的时间关系如下：<ul><li>如果Pt＞Dt＋Rt，那么S是安全的</li><li>如果Pt＜Dt＋Rt，那么Et＝（Dt＋Rt）－Pt</li></ul></li></ul><h4 id="信息保障技术框架-iatf">信息保障技术框架 [IATF]</h4><p>信息保障技术框架是由美国国家安全局制定的，为保护美国政府和工业界的信息与信息技术设施提供技术指南</p><p>核心思想：深度防御</p><p>三个要素：人、技术、操作</p><p>四个焦点领域：保护网络和基础设施、保护区域边界、保护计算环境、支持性基础设施</p><h5 id="信息保障技术框架-核心要素">信息保障技术框架-核心要素</h5><blockquote><p>**人 [People]**是信息保障体系的核心，是第一位的要素，同时也是最脆弱的</p></blockquote><ul><li>基于这样的认识，安全管理在安全保障体系中愈显重要，包括：<strong>意识培训、组织管理、技术管理、操作管理</strong></li></ul><blockquote><p><strong>技术 [Technology]</strong>：技术是实现信息保障的重要手段。</p></blockquote><ul><li>动态的技术体系：防护、检测、响应、恢复</li></ul><blockquote><p><strong>操作 [Operation]</strong> 也叫运行，构成安全保障的主动防御体系</p></blockquote><ul><li>是将各方面技术紧密结合在一起的主动的过程，包括：<strong>风险评估、安全监控、安全审计、跟踪告警、入侵检测、响应恢复</strong></li></ul><h5 id="信息保障技术框架-保护计算环境">信息保障技术框架-保护计算环境</h5><ul><li><p>目标：使用信息保障技术确保数据在进人、离开或驻留客户机和服务器时具有保密性、完整性和可用性</p></li><li><p>方法：使用安全的操作系统、使用安全的应用程序、主机入侵检测、防病毒系统、主机脆弱性扫描、文件完整性保护</p></li></ul><h5 id="信息保障技术框架-保护区域边界">信息保障技术框架-保护区域边界</h5><ul><li>区域边界：区域的网络设备与其它网络设备的接入点被称为区域边界</li><li>目标：<strong>对进出某区域的数据流进行有效的控制与监视</strong></li><li>方法：病毒、恶意代码防御、防火墙、人侵检测、远程访问、多级别安全</li></ul><h5 id="信息保障技术框架-保护网络和基础设施">信息保障技术框架-保护网络和基础设施</h5><p>目标：网络和支持它的基础设施必须<strong>防止数据非法泄露、防止受到拒绝服务的攻击、防止受到保护的信息在发送过程中的时延、误传或未发送</strong></p><p>方法：<strong>骨干网可用性、无线网络安全框架、系统高度互联和虚拟专用网</strong></p><h5 id="信息保障技术框架-支撑性基础设施">信息保障技术框架-支撑性基础设施</h5><ul><li>目标：为安全保障服务提供一套相互关联的活动与基础设施</li></ul><p><strong>密钥管理基础设施 [KMI]</strong>：提供一种通用的联合处理方式，以便安全地创建、分发和管理公钥证书和传统的对称密钥，使它们能够为网络、区域和计算环境提供安全服务</p><p><strong>检测和响应基础设施</strong>：能够迅速检测并响应入侵行为，需要入侵检测与监视软件等技术解决方案及专业人员的支持</p><h5 id="信息保障技术框架-安全原则与特点">信息保障技术框架-安全原则与特点</h5><p>安全原则：<strong>保护多个位置、分层防御、安全强健性</strong></p><p>IATF特点：</p><ul><li>全方位防御、纵深防御将系统风险降到最低</li><li>信息安全不纯粹是技术问题，而是一项复杂的系统工程</li><li>提出人这一要素的重要性，人即管理</li></ul><h4 id="信息系统安全保障评估框架">信息系统安全保障评估框架</h4><h5 id="信息系统安全保障评估框架-基本概念">信息系统安全保障评估框架-基本概念</h5><blockquote><p>信息系统：用于采集、处理、存储、传输、分发和部署信息的整个基础设施、组织结构、机构人员和组件的总和</p></blockquote><p><strong>信息系统安全风险</strong>：是具体的风险，产生风险的因素主要有信息系统自身存在的漏洞和来自系统外部的威胁。信息系统运行环境存在特定威胁动机的威胁源<br><strong>信息系统安全保障</strong>：在信息系统的整个生命周期中，通过对信息系统的风险分析，制定并执行相应的安全保障策略，从技术、管理、工程和人员等方面提出信息安全保障要求，确保信息系统的保密性、完整性和可用性，把安全风险到可接受的程度，从而保障系统能够顺利实现组织机构的使命</p><h5 id="信息系统安全保障评估概念和关系">信息系统安全保障评估概念和关系</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\信息系统安全保障评估概念和关系.png" style="zoom:50%;" /><h5 id="信息系统安全保障评估框架-评估的描述">信息系统安全保障评估框架-评估的描述</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\信息系统安全保障评估框架.png" style="zoom:50%;" /><p><strong>信息系统保护轮廓 [ISPP]</strong></p><ul><li>根据组织机构使命和所处的运行环境，从组织机构的策略和风险的实际情况出发，对具体信息系统安全保障需求和能力进行具体描述</li><li>表达一类产品或系统的安全目的和要求</li><li>ISPP是从信息系统的所有者的角度规范化、结构化的描述信息系统安全保障需求</li></ul><p><strong>信息系统安全目标 [ISST]</strong></p><ul><li>根据信息系统保护轮廓（ISPP）编制的信息系统安全保障方案</li><li>某一特定产品或系统的安全需求</li><li>ISST从信息系统安全保障的建设方的角度制定的信息系统安全保障方案</li></ul><p>模型特点：将风险和策略作为信息系统安全保障的基础和核心、强调安全贯彻信息系统生命周期、强调综合保障的观念</p><blockquote><p>以风险和策略为基础，在整个信息系统的生命周期中实施技术、管理、工程和人员保障要素。通过信息系统安全保障实现信息安全的安全特征：信息的保密性、完整性和可用性特征，从而达到保障组织机构执行其使命的根本目的</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\评估模型.png" style="zoom:50%;" /><p><strong>基于信息系统生命周期的信息安全保障</strong></p><p>信息系统的生命周期层面和保障要素层面不是相互孤立的，而是相互关联、密不可分的</p><p>在信息系统生命周期中的任何时间点上，都需要综合信息系统安全保障的技术、管理、工程和人员保障要素</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\基于信息系统生命周期的信息安全保障.png" style="zoom:50%;" /><ul><li>信息安全保障要素-信息安全技术：密码技术、访问控制技术、审计和监控技术、网络安全技术、操作系统技术、数据库安全技术、安全漏洞与恶意代码、软件安全开发</li><li>信息安全保障要素-信息安全管理：<strong>信息安全管理体系、风险管理</strong></li></ul><p><strong>信息安全保障要素-信息安全工程</strong></p><blockquote><p>信息安全工程涉及系统和应用的开发、集成、操作、管理、维护和进化以及产品的开发、交付和升级</p></blockquote><p><strong>信息安全保障要素-信息安全人才</strong></p><blockquote><p>信息安全保障诸要素中，人是最关键、最活跃的要素。网络攻防对抗，较量的是攻防两端的人，而不是设备</p></blockquote><p><strong>信息安全保障解决方案</strong></p><p>必须以风险评估和法规要求得出的安全需求为依据</p><ul><li>考虑系统的业务功能和价值</li><li>考虑系统风险哪些是必须处置的，哪些是可接受的<ul><li>贴合实际具有可实施性包括：可接受的成本、合理的进度、技术可实现性、组织管理和文化的可接受性</li></ul></li></ul><h4 id="企业安全架构">企业安全架构</h4><ul><li>企业安全架构是企业架构的一个子集，它定义了信息安全战略，包括各层级的<strong>解决方案、流程和规程</strong>，以及它们与整个企业的战略、战术和运营链接的方式</li><li>开发企业安全架构的主要原因是确保安全工作以一个标准化的和节省成本的方式与业务实践相结合</li></ul><p>常见企业安全架构</p><ul><li>舍伍德的商业应用安全架构 [Sherwood Applied Business Security Architecture，SABSA]</li><li>Zachman框架</li><li>开放群组架构框架 [The Open Group Architecture Framework，TOGAF]</li></ul><p><strong>舍伍德的商业应用安全架构</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全保障\舍伍德的商业应用安全架构.png" style="zoom:50%;" /><p><strong>SABSA模型架构</strong></p><p>背景层 业务视图</p><p>业务视图说明所有架构必须满足业务要求。了解该系统的业务需求驱动，选择合适的架构<br>业务视图被称为背景环境的安全架构。这是安全系统必须设计、建造和经营的业务范围内的描述</p><p>概念层 架构视图</p><p>架构是整体的概念，可满足企业的业务需求。也被称为概念性的安全架构<br>定义在较低层次的抽象逻辑和物理元素的选择和组织上，确定指导原则和基本概念<br>逻辑层 设计视图</p><p>设计是架构的具体反映，设计过程通常被称为系统工程，涉及整个系统的架构元素的识别和规范<br>逻辑的安全架构应该反映和代表所有概念性的安全架构中的主要安全战略</p><p>物理层 建设视图</p><p>设计是产生一套描述了系统的逻辑抽象，这些都需要形成一个物理的安全体系结构模型，该模型应描述实际的技术模式和指定的各种系统组件的详细设计<br>如需要描述提供服务的服务器的物理安全机制和逻辑安全服务等</p><p>组件层 实施者视图</p><p>这层的模型也被称为组件安全架构</p><p>运营层 服务和管理视图</p><p>当建设完成后，需要进行运维管理<br>保持各项服务的正常运作，保持良好的工作秩序和监测，以及按要求执行<br>也被称为服务管理安全架构。关注的焦点是安全性相关的部分</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;信息安全保障&quot;&gt;信息安全保障&lt;/h2&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h3 id=&quot;信息安全保障基础&quot;&gt;信息安全保障基础&lt;/h3&gt;
&lt;h4 id=&quot;信息安全的相关定义：&quot;&gt;信息安全的相关定义：&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ISO对信息安全的定义：为数据</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="信息安全" scheme="https://shierjinghuang.github.io/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>信息安全管理</title>
    <link href="https://shierjinghuang.github.io/2025/04/18/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/"/>
    <id>https://shierjinghuang.github.io/2025/04/18/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86/</id>
    <published>2025-04-18T02:27:19.000Z</published>
    <updated>2025-04-21T00:35:56.776Z</updated>
    
    <content type="html"><![CDATA[<h3 id="信息安全管理">信息安全管理</h3><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\信息安全管理知识体系.png" style="zoom:50%;" /><h4 id="信息安全管理基础">信息安全管理基础</h4><p><strong>信息安全管理的定义</strong></p><blockquote><p>信息安全管理：是指通过系统化的策略、流程、技术及人员管控，对组织的信息资产 [数据、系统、网络]等进行保护，以确保其机密性、完整性和可用性的持续维护</p></blockquote><blockquote><p>信息安全管理的核心目标是降低信息安全风险，<strong>防止未经授权的访问、泄露、篡改或破坏</strong>，同时满足法律法规及合规性要求</p></blockquote><p><strong>信息安全管理的作用</strong></p><ul><li>信息安全管理是组织整体管理的重要、固有组成部分，是组织实现其业务目标的重要保障</li><li>信息安全管理是信息安全技术的融合剂，保障各项技术措施能够发挥作用</li><li>信息安全管理能预防、阻止或减少信息安全事件的发生</li></ul><h4 id="信息安全风险管理">信息安全风险管理</h4><p><strong>风险管理基本概念</strong></p><blockquote><p>风险管理是指导和控制一个组织相关风险的协调活动，目的是确保不确定性不会使企业的业务目标发生变化</p></blockquote><blockquote><p>风险的识别、评估和优化</p></blockquote><p>风险管理的价值：安全措施的成本与资产价值之间的平衡</p><h5 id="常见风险管理模型">常见风险管理模型</h5><ul><li>内部控制整合框架 [COSO报告 ]<ul><li>三个目标：<strong>财务报告可靠性、经验效率和效果、合规性</strong></li><li>五个管理要素：<strong>内制环境、风险评估、控制活动、信息与沟通、监控</strong></li></ul></li><li>ISO31000<ul><li>为所有与风险管理相关的操作提供最佳实践结构和指导</li></ul></li><li>COBIT<ul><li>为信息系统和技术的治理及控制过程提供最佳实践</li><li>组件：框架、流程描述、控制目标、管理指南、成熟度模型</li></ul></li></ul><h5 id="信息安全风险管理基本过程">信息安全风险管理基本过程</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\信息安全风险管理基本过程.png" style="zoom:50%;" /><p><strong>一、背景建立</strong></p><blockquote><p>背景建立是信息安全风险管理的第一步骤，确定风险管理的对象和范围，确立实施风险管理的准备，进行相关信息的调查和分析</p></blockquote><ul><li>风险管理准备：确定对象、组建团队、制定计划、获得支持</li><li>信息系统调查：信息系统的业务目标、技术和管理上的特点</li><li>信息系统分析：信息系统的体系结构、关键要素</li><li>信息安全分析：分析安全要求、分析安全环境</li></ul><p><strong>二、风险评估</strong></p><blockquote><p>信息安全风险管理要依靠风险评估的结果来确定随后的风险处理和批准监督活动</p></blockquote><ul><li>风险评估准备：制定风险评估方案、选择评估方法</li><li>风险要素识别：发现系统存在的威胁、脆弱性和控制措施</li><li>风险分析：判断风险发生的可能性和影响的程度</li><li>风险结果判定：综合分析结果判定风险等级</li></ul><p><strong>三、风险处理</strong></p><blockquote><p>风险处理是为了将风险始终控制在可接受的范围内</p></blockquote><ul><li>现存风险判断：判断信息系统中哪些风险可以接受，哪些不可以</li><li>处理目标确认：不可接受的风险需要控制到怎样的程度</li><li>处理措施选择：选择风险处理方式，确定风险控制措施</li><li>处理措施实施：制定具体安全方案，部署控制措施</li></ul><p><strong>四、批准监督</strong></p><ul><li>批准：是指机构的决策层依据风险评估和风险处理的结果是否满足信息系统的安全要求，做出是否认可风险管理活动的决定</li><li>监督：是指检查机构及其信息系统以及信息安全相关的环境有无变化，监督变化因素是否有可能引入新风险</li></ul><p><strong>监控审查</strong></p><blockquote><p>监控与审查可以及时发现已经出现或即将出现的变化、偏差和延误等问题，并采取适当的措施进行控制和纠正，从而减少因此造成的损失，保证信息安全风险管理主循环的有效性</p></blockquote><p><strong>沟通咨询</strong></p><ul><li>通过畅通的交流和充分的沟通，保持行动的协调和一致</li><li>通过有效的培训和方便的咨询，保证行动者具有足够的知识和技能，就是沟通咨询的意义所在</li></ul><table><thead><tr><th><strong>沟通咨询</strong></th></tr></thead><tbody><tr><td>与<strong>领导</strong>沟通，以得到理解和批准<strong>单位内部各有关部门相互</strong>沟通，以得到理解和协作与<strong>支持单位和系统用户</strong>沟通，以得到了解和支持</td></tr><tr><td>为所有层面的相关人员提供咨询和培训等，以提高人员的安全意识、知识和技能</td></tr></tbody></table><h4 id="信息安全管理体系建设">信息安全管理体系建设</h4><p><strong>信息安全管理体系：</strong></p><blockquote><p>组织在整体或特定范围内建立的信息安全方针和目标，以及完成这些目标所用的方法和体系。它是直接 管理活动的结果，表示为方针、原则、目标、方法、计划、活动、程序、过程和资源的集合</p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\信息安全管理体系.png" style="zoom:50%;" /><p><strong>信息安全管理体系建设成功的因素</strong></p><ul><li>信息安全策略、目标和与目标一致的活动</li><li>来自所有管理层级、特别是最高管理者的可见支持和承诺；</li><li>对应用信息安全风险管理实现信息资产保护的理解</li><li>有效的信息安全意识、培训和教育计划，已使所有员工和其他相关方知悉在信息安全策略、标准等当中他们的</li><li>信息安全义务，并激励他们做出相应的行动</li><li>有效的信息安全事件管理过程</li><li>有效的业务持续性管理方法</li><li>评价信息安全管理性能的测量系统和反馈的改进建议</li></ul><h5 id="pdca过程方法">PDCA过程方法</h5><p><strong>PDCA</strong> [Plan-Do-Check-Act，计划-实施-检查-改进]，又称<strong>戴明环</strong> [Deming Cycle]，是一种广泛应用于质量管理、信息安全管理和持续改进的循环方法论。它强调通过不断迭代优化流程，提升管理效能</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\PDCA过程方法.png" style="zoom: 80%;" /><h4 id="信息安全管理体系建设">信息安全管理体系建设</h4><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\网络安全中的PDCA过程方法.png" style="zoom:50%;" /><h5 id="规划与建立">规划与建立</h5><p><strong>组织背景</strong></p><p>是建立信息安全管理体系的基础</p><ol><li>了解组织有关信息安全的内部 [人员、管理、流程] 和外部 [合作伙伴、供应商、外包商] 问题</li><li>确定ISMS管理范围</li><li>建立、实施、运行、保持和持续改进符合国际标准要求的ISMS</li></ol><p><strong>领导力</strong></p><ul><li>管理承诺是建立信息安全管理体系的关键成功因素之一</li><li>建立在组织的整体管理基础，需要组织整体参与</li><li>组织高层确定的信息安全方针并文档化，明确描述组织的角色、职责和权限</li></ul><p><strong>计划</strong></p><ul><li>计划必须建立在风险评估基础上、计划必须符合组织的安全目标、层次改进</li></ul><p><strong>支持</strong>：包括获得资源、全员宣贯培训</p><h5 id="实施与运行">实施与运行</h5><ul><li>实施风险评估，确定所识别信息资产的信息安全风险以及处理信息安全风险的决策，形成信息安全要求</li><li>控制措施适度安全</li><li>控制在适用性声明中形成文件</li></ul><h5 id="监视和评审">监视和评审</h5><p>根据组织政策和目标，监控和评估绩效来维护和改进ISMS</p><p><strong>维护与改进</strong>：不符合和纠正措施、持续改进</p><p><strong>文档化</strong></p><ul><li>文档结构</li><li>文件控制：建立、批准发布、评审与更新、文件保存、文件作废</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\文档化.png" style="zoom: 40%;" /><h4 id="信息安全管理体系最佳实践">信息安全管理体系最佳实践</h4><h5 id="安全控制措施内部结构">安全控制措施内部结构</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\安全控制措施内部结构.png" style="zoom:50%;" /><h5 id="信息安全方针">信息安全方针</h5><ul><li>控制目标:组织的安全方针能够依据业务要求和相关法律法规提供管理指导并支持信息安全</li><li>控制措施<ul><li>信息安全方针：<strong>信息安全方针应由管理者批准、发布并传达给所有员工和外部相关方</strong></li><li>信息安全方针评审：宜按计划的时间间隔或当重大变化发生时进行信息安全方针评审，以确保它持续的适宜性、充分性和有效性</li></ul></li></ul><h5 id="信息安全组织">信息安全组织</h5><ul><li><strong>内部组织</strong><ul><li>控制目标：建立一个管理框架，用以启动和控制的组织内信息安全的实施和运行</li><li>控制措施：信息安全的角色和职责、职责分离、与政府部门的联系、与相关利益方的联系、项目管理的信息安全</li></ul></li><li><strong>移动设备与远程办公</strong><ul><li>控制目标：确保远程办公和使用移动设备时的安全性</li><li>控制措施：移动设备方针，管理移动带来的风险，保护远程工作地点的信息访问、处理和存储</li></ul></li></ul><h5 id="人力资源安全">人力资源安全</h5><ul><li>任用前<ul><li>控制目标：确保雇员、承包方理解其职责，对其考虑的角色是适合的</li><li>控制措施：审查、任用条款及条件</li></ul></li><li>任用中<ul><li>控制目标：确保雇员、承包方意识并履行其信息安全职责</li><li>控制措施：管理职责、意识教育和培训、纪律处理</li></ul></li><li>任用终止和变化<ul><li>控制目标：将聘用的变更或终止作为组织过程的一部分以保护组织的利益</li><li>控制措施:雇佣责任的改变和终结</li></ul></li></ul><h5 id="资产管理">资产管理</h5><p><strong>对资产负责</strong></p><ul><li>控制目标：标识组织资产并确定适当的保护责任</li><li>控制措施：资产清单、资产责任人、资产的可接受使用、资产归还</li></ul><p><strong>信息分类</strong></p><ul><li>控制目标：确保信息受到适当级别的保护</li><li>控制措施：分类指南、信息的标记、资产的处理</li></ul><p><strong>介质处理</strong></p><ul><li>控制目标：防止介质存储信息的未授权泄露、修改、移动或销毁</li><li>控制措施：可移动介质的管理、介质的处置、物理介质传输</li></ul><h5 id="访问控制">访问控制</h5><p><strong>访问控制的业务要求</strong></p><ul><li>控制目标：限制对信息和信息处理设施的访问</li><li>控制措施：访问控制方针、网络和网络服务的访问</li></ul><p><strong>用户访问管理</strong></p><ul><li>控制目标：确保授权用户访问系统和服务，并防止未授权的访问</li><li>控制措施：<strong>用户注册和注销、用户访问配置、特殊权限管理、用户的秘密验证信息管理、用户访问权的复查、访问权限的移除或调整</strong></li></ul><p><strong>用户职责</strong></p><ul><li>控制目标：使用户负责维护其授权信息。</li><li>控制措施：秘密验证信息的使用</li></ul><p><strong>系统和应用访问控制</strong></p><ul><li>控制目标：防止对系统和应用的未授权访问。</li><li>控制措施：信息访问限制、安全登录规程、口令管理系统、特权实用程序的使用、程序源代码的访问控制</li></ul><h5 id="密码学">密码学</h5><ul><li>控制目标：通过加密方法保护信息的<strong>保密性、真实性或完整性</strong></li><li>控制措施：使用加密控制的策略、密钥管理</li></ul><h5 id="物理与环境安全">物理与环境安全</h5><p><strong>安全区域</strong></p><ul><li>控制目标：防止对组织场所和信息过程设备的未授权物理访问、损坏和干扰。</li><li>控制措施：物理安全边界、物理入口控制、办公室、房间和设施的安全保护、外部和环境威胁的安全防护、在安全区域工作、送货和装卸区</li></ul><p><strong>设备安全</strong></p><ul><li>控制目标：防止资产的丢失、损坏、失窃或危及资产安全以及组织活动的中断<br>控制措施：设备安置和保护、支持性设施、设备维护、资产的移动</li></ul><h5 id="操作安全">操作安全</h5><p><strong>操作规程和职责</strong></p><ul><li>控制目标：确保正确、安全地操作信息处理设施</li><li>控制措施：文件化的操作规程变更管理、容量管理、开发、测试和运行设施分离</li></ul><p><strong>恶意代码防范</strong></p><p>控制目标：保护信息和信息处理设施以防恶意代码，控制措施：控制恶意代码</p><p><strong>备份</strong></p><p>控制目标：<strong>防止数据丢失</strong>，控制措施：<strong>信息备份</strong></p><p><strong>日志记录和监视</strong></p><ul><li>控制目标：记录事件并生成证据</li><li>控制措施：事件日志、日志信息的保护、管理员和操作员日志、时钟同步</li></ul><p><strong>操作软件控制</strong></p><ul><li>控制目标：确保操作系统的完整性，控制措施：操作系统软件的安装</li></ul><p><strong>技术漏洞管理</strong></p><ul><li>控制目标：<strong>防止对技术漏洞的利用</strong>，控制措施：<strong>技术脆弱性管理、软件安装限制</strong></li></ul><p><strong>信息系统审计的考虑</strong></p><ul><li>控制目标：极小化审计行为对业务系统带来的影响，控制措施：信息系统审计控制</li></ul><h5 id="通信安全">通信安全</h5><p><strong>网络安全管理</strong></p><ul><li>控制目标：确保网络中信息和支持性基础设施的安全性，<strong>控制措施：网络控制、网络服务安全、网络隔离</strong></li></ul><p><strong>信息的交换</strong></p><ul><li>控制目标：保持组织内以及与组织外信息交换的安全。</li><li>控制措施：信息交换策略和规程、信息交换协议、电子消息、保密或不披露协议</li></ul><h5 id="信息获取开发及维护">信息获取开发及维护</h5><p><strong>信息系统的安全要求</strong></p><ul><li>控制目标：确保信息安全是信息系统生命周期中的一个有机组成部分。这同样包含了在公共网络上提供服务的信息系统的要求</li><li>控制措施：安全需求分析和说明、公共网络上的安全应用服务、应用服务交换的保护</li></ul><p><strong>开发和支持过程中的安全</strong></p><ul><li>控制目标：确保信息系统开发的生命周期中设计和实施的信息安全。</li><li>控制措施：安全开发策略、系统变更控制规程、操作系统变更后应用的技术评审、软件包变更的限制、安全系统工程原理</li></ul><p><strong>开发和支持过程中的安全</strong></p><ul><li>控制目标：确保信息系统开发的生命周期中设计和实施的信息安全。</li><li>控制措施：安全开发策略、系统变更控制规程、操作系统变更后应用的技术评审、软件包变更的限制、安全系统工程原理</li></ul><p><strong>测试数据</strong></p><ul><li>控制目标：确保用于测试的数据得到保护，控制措施：测试数据的保护</li></ul><h5 id="供应商关系">供应商关系</h5><p><strong>供应商关系中的信息安全</strong></p><ul><li>控制目标：确保供应商可访问的组织资产受到保护</li><li>控制措施：供应商关系的信息安全方针、供应商协议中解决安全问题、信息和通信技术的供应链</li></ul><p><strong>供应商服务交付管理</strong></p><ul><li>控制目标：根据供应协议，维持信息安全和服务交付在协定的等级</li><li>控制措施：监控和审查供应商服务、供应商服务变更管理</li></ul><h5 id="信息安全事件管理">信息安全事件管理</h5><p><strong>信息安全事件的管理和改进</strong></p><ul><li>控制目标：确保采用一致和有效的方法对信息安全事件进行管理，包括通信安全事件和弱点。</li><li>控制措施：<strong>职责和规程、信息安全事态报告、信息安全弱点报告、信息安全事态的评估和决策、信息安全事件的响应、从信息安全事件中学习、证据的收集</strong></li></ul><h5 id="业务连续性管理">业务连续性管理</h5><p><strong>信息安全的连续性</strong></p><ul><li>控制目标：应将信息安全连续性嵌入组织业务连续性管理之中</li><li>控制措施：<strong>信息安全连续性的计划、信息安全连续性的实施、信息安全连续性的确认、审查和评估</strong></li></ul><p><strong>冗余</strong></p><p>控制目标：确保信息过程设施的可用性，控制措施：信息过程设施的可用性</p><h5 id="符合性">符合性</h5><p><strong>符合法律和合同规定</strong></p><ul><li>控制目标：避免违反任何法律、法令、法规或合同义务，以及任何安全要求</li><li>控制措施：可用法律和合同要求的识别、知识产权、记录的保护、个人身份信息的隐私和保护、加密控制的监管</li></ul><p><strong>信息安全审核</strong></p><ul><li>控制目标：确保信息安全依据组织方针和规程实施和操作。</li><li>控制措施：信息安全的独立审核、符合安全策略和标准、技术符合性核查</li></ul><h4 id="信息安全管理体系度量">信息安全管理体系度量</h4><p>测量的概念：根据多个因素选择合理的测量方法<br>测量的目的</p><ol><li>帮助管理层识别和评价不符合和无效的控制措施</li><li>帮助组织展示与组织信息安全管理体系的符合程度，并能产生管理评审过程的输入</li></ol><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\27004测量模型.png" style="zoom:50%;" /><h5 id="测量要求与实现">测量要求与实现</h5><ul><li>管理职责：管理者建立测量方案，利益相关者参与测量活动</li><li>测度和测量开发：建立测量所需活动及测度</li><li>测量运行：收集、存储和验证被用来创建信息安全测度的数据</li><li>测量分析和报告：对已收集的数据进行分析并提交报告</li><li>测量项目评价和改进</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;信息安全管理&quot;&gt;信息安全管理&lt;/h3&gt;
&lt;img src=&quot;C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\信息安全管理\信息安全管理知识体系.png&quot; style=&quot;zoom:50%;&quot; /&gt;
&lt;h4 id=&quot;信</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="系统工程" scheme="https://shierjinghuang.github.io/tags/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>安全工程与运营</title>
    <link href="https://shierjinghuang.github.io/2025/04/18/%E5%AE%89%E5%85%A8%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%BF%90%E8%90%A5/"/>
    <id>https://shierjinghuang.github.io/2025/04/18/%E5%AE%89%E5%85%A8%E5%B7%A5%E7%A8%8B%E4%B8%8E%E8%BF%90%E8%90%A5/</id>
    <published>2025-04-18T00:11:24.000Z</published>
    <updated>2025-04-21T00:35:47.535Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安全工程与运营">安全工程与运营</h2><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\安全工程与运营\安全工程与运营知识域.png" style="zoom:50%;" /><h3 id="系统安全工程理论基础">系统安全工程理论基础</h3><blockquote><p><strong><font color=FF6600>采用工程的概念、原理、技术和方法，来研究、开发、实施与维护信息系统安全的过程</font></strong></p></blockquote><ul><li>信息化建设活动中有关加强系统安全性活动的集合</li><li>良好安全工程的四个方面：<strong>策略、机制、保证、动机</strong></li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\安全工程与运营\安全工程.png" style="zoom: 70%;" /><p><strong>为什么需要系统安全工程？</strong></p><p>解决信息系统生命周期的<strong>过程安全</strong>问题</p><ul><li>信息安全是信息化的有机组成部分，必须与信息化<strong>同步规划</strong>、<strong>同步建设</strong></li><li>信息系统的建设是一项<strong>系统工程</strong>，具有复杂性，安全工程是以最优费效比提供并满足安全需求</li></ul><blockquote><p>建设关键信息基础设施应当确保其具有支持业务稳定、持续运行的性能，并保证安全技术措施同步规划、同步建设、同步使用——《中华人民共和国网络安全法》</p></blockquote><h4 id="系统工程">系统工程</h4><blockquote><p><strong><font color=orangered>以大型复杂系统为研究对象，按一定目的进行设计、开发、管理与控制，以达到总体效果最优的理论与方法</font></strong></p></blockquote><ul><li>系统工程不是基本理论，也不属于技术实现，而是一种方法论</li></ul><blockquote><p><font color=blue>霍尔三维结构图：时间维、逻辑维、知识维</font></p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\安全工程与运营\霍尔三维结构.png" style="zoom:50%;" /><h4 id="项目管理">项目管理</h4><blockquote><p><strong><font color=orangered>项目管理者在有限的资源约束下，运用系统的观点、方法和理论，对项目涉及的全部工作进行有效管理</font></strong></p></blockquote><ul><li>项目管理是<strong>系统工程思想针对具体项目的实践应用</strong></li><li>项目管理的知识领域：范围、时间、成本、质量、人力资源、沟通、风险、采购和集成</li><li>项目的过程控制：启动、计划、执行、控制和收尾</li></ul><h4 id="质量管理">质量管理</h4><blockquote><p><font color=orangered>质量管理：为了实现质量目标，而进行的所有管理性质的活动</font></p></blockquote><h4 id="能力成熟度模型">能力成熟度模型</h4><blockquote><p><strong><font color=orangered>能力成熟度模型 [Capability Maturity Model] ：是一种衡量工程实施能力的方法，建立在统计过程控制理论基础上的</font></strong></p></blockquote><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\安全工程与运营\能力成熟度模型.png" style="zoom:50%;" /><h3 id="系统安全工程">系统安全工程</h3><h4 id="系统安全工程能力成熟度模型">系统安全工程能力成熟度模型</h4><p><strong>系统安全工程能力成熟模型 [SSE-CMM]</strong></p><blockquote><p><font color=blue>系统安全工程能力成熟模型：是一种衡量SSE实施能力的方法，为信息安全工程过程改进建立一个框架模型</font></p></blockquote><p>SSE-CM描述了一个组织的系统安全工程过程必须包含的基本特征</p><ul><li>是完善的安全工程保证</li><li>是系统安全工程实施的度量标准</li><li>是易于理解的评估系统安全工程实施的框架</li></ul><h5 id="sse-cmm安全工程过程">SSE-CMM安全工程过程</h5><ol><li>掌握风险过程包括的<strong>评估威胁、评估脆弱性、评估影响及评估安全风险</strong>这四个过程区域及其基本实施</li><li>掌握工程过程包括的确定<strong>安全需求、提供安全输入、管理安全控制、监控安全态势及协调安全</strong>五个过程区域及其基本实施</li><li>掌握保证过程中验证和证实安全及建立保证论据两个过程区域及其基本实施</li></ol><h5 id="sse-cmm安全工程能力">SSE-CMM安全工程能力</h5><img src="C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\安全工程与运营\组织的过程管理和制度化能力的强弱.png" style="zoom:50%;" /><p><strong>非正规执行级</strong></p><blockquote><p>该级别过程区域的基本实施均被执行，但<strong>未经过严格的计划和跟踪</strong>，而是基于个人的知识和努力</p></blockquote><ul><li>该级别包括一个公共特征——执行基本实施<ul><li>所有BP以某种方式执行</li><li>工作产品的一致性、性能和质量会因为缺乏适当控制而存在极大的差异</li></ul></li></ul><p><strong>规划和跟踪级</strong></p><ul><li>该级别包括四个公共特征：<ol><li><strong>规划执行</strong>：分配资源、指定责任、提供工具、将规划形成文档</li><li><strong>规范化执行</strong>：使用标准和规程、进行配置管理</li><li><strong>跟踪执行</strong>：跟踪过程实施、采取修正措施</li><li><strong>验证执行</strong>：验证工作过程、验证工作产品</li></ol></li></ul><p><strong>充分定义级</strong></p><ul><li>该级别包括三个公共特征：<ol><li><strong>定义标准化过程</strong>：制定标准化过程，从组织标准化过程中裁剪出针对特定需求的过程</li><li><strong>执行已定义过程</strong>：PA的实施使用充分定义的过程，对执行结果进行缺陷评审，使用充分定义的数据</li><li><strong>协调安全实施</strong>：执行组内协调、执行组间协调、执行外部协调</li></ol></li></ul><p><strong>量化控制级</strong></p><ul><li>该级别包括两个公共特征：<ol><li>建立可测量的质量目标：为工作产品建立可测度的目标</li><li>对执行情况实施客观管理：为工作过程能力建立量化测量和改进的标准</li></ol></li></ul><p><strong>持续改进级</strong></p><ul><li>该级别包括两个特征<ol><li>改进组织能力：建立过程有效性目标，持续改进标准过程</li><li>改进过程有效性：进行因果分析，消除缺陷根源，持续改进已定义过程</li></ol></li></ul><h3 id="安全运营">安全运营</h3><blockquote><p><font color=orangered>安全运营指：建立机制对信息系统运行状况进行监控，对运行中的问题进行分析，发现问题的根源并协调资源进行解决以实现安全目标</font></p></blockquote><p>安全运营面向组织机构业务，与IT运营相辅相成</p><p>安全运营参考标准</p><ul><li>COBIT:IT控制和IT度量评价</li><li>ITIL: IT过程管理、强调IT支持和IT交付</li><li>ISO27000:IT安全控制</li></ul><p><strong>安全漏洞 [Vulnerability]</strong></p><ul><li>安全漏洞也被称为<strong>脆弱性</strong>，计算机系统天生的类似基因的缺陷，在使用和发展过程中产生意想不到的问题</li><li>漏洞是存在于<strong>评估对象</strong>中的，在一定的环境条件下可能违反安全功能要求的弱点</li></ul><p><strong>安全漏洞的范畴</strong></p><ul><li><p>漏洞本身随着信息技术的发展而具有不同的含义与范畴</p></li><li><p>基于访问控制的定义逐步发展到涉及系统安全流程、设计、实施、内部控制等全过程的定义</p></li></ul><blockquote><p><strong><font color=orangered>漏洞是信息系统中必然存在的安全问题，对漏洞进行管理是保障信息系统安全的重要工作</font></strong></p></blockquote><p>漏洞管理工作：<strong>漏洞检测</strong>、<strong>漏洞评估</strong></p><h3 id="内容安全与社会工程">内容安全与社会工程</h3><h4 id="数字资源基本概念">数字资源基本概念</h4><blockquote><p><strong>数字资源基本概念</strong>：将计算机技术、通信技术及多媒体技术相互融合而形成的以数字形式发布、存取、利用的信息资源总和</p></blockquote><p><strong>内容安全需求</strong></p><ul><li>内容来源可靠：数字资源来源可靠，借助数字版权管理技术，对其加以控制。</li><li>信息泄露：敏感信息泄露控制</li><li>非法信息：不良信息传播控制</li></ul><p><strong>数字版权</strong>：指各类出版物、信息资料的网络出版权，可以通过新兴的数字媒体传播内容的权利</p><p><strong>数字版权管理 [Digital Rights Management]</strong></p><ul><li>用于保护数字作品的版权的一种方式，从技术上防止数字媒体的非法复制和非法使用，确保最终用户在得到授权后才能使用的数字媒体</li></ul><p>主要采用的技术：<strong>数字水印、版权保护、数字签名、数据加密</strong></p><p>DRM六大功能：<strong>数字媒体加密、阻止非法内容注册、用户环境检测、用户行为监控、认证机制、付费机制和存储管理</strong></p><p><strong>数字对象标识符</strong> [Digital Object Identifier]系统，即在数字环境下标识知识产权对象的一种开放性系统</p><p><strong>数字版权唯一标识符DCI</strong> [Digital Copyright Identifier]体系，它是数字作品权属的唯一标识，以有效应对互联网版权保护面临的挑战</p><ul><li>数字作品版权登记平台、数字版权费用结算平台、数字版权检测取证平台</li></ul><h4 id="信息保护">信息保护</h4><blockquote><p><strong><font color=orangered>信息泛指人类社会传播的一切内容，任何的信息都是有价值的</font></strong></p></blockquote><ul><li>信息泄露途径：<strong>个人隐私信息泄漏、社交网络、各类单据</strong>等</li><li>组织机构的敏感信息泄漏：<strong>信息公示过于细致、缺乏敏感信息标记</strong></li></ul><p>个人隐私信息保护：如重要证件等不随身携带，银行卡、U盾等应及时升级等</p><p><strong>组织信息保护</strong></p><ul><li><strong>技术措施：敏感信息泄露防护措施包括数据加密、信息拦截、访问控制等具体实现</strong></li><li><strong>管理措施：结合各类管理措施并落实相关安全工程</strong></li></ul><h4 id="网络舆情">网络舆情</h4><blockquote><p>在一定的社会空间内，通过网络围绕中介性社会事件的发生、发展和变化，民众对公共问题和社会管理者产生和持有的社会政治态度、信念和价值观</p></blockquote><blockquote><p>以网络为载体，以事件为核心，网民情感、态度、意见、观点的表达、传播与互动，以及后续影响力的集合</p></blockquote><p><strong>表现方式</strong>：新闻评论、BBS论坛、博客、播客、微博、聚合新闻(RSS)、新闻跟帖及转帖等</p><p>及时且有效控制并降低舆情事态的扩大，是网络舆情管理的首要前提，其主要措施包含如下：</p><ul><li>确立政府主导地位，发挥媒体监督功能</li><li>夯实网络舆情理论研究，积极开发网络舆情监测软件</li><li>把握网络舆情管理的原则，建立和完善网络舆情管理机制</li></ul><h5 id="网络舆情系统监控技术">网络舆情系统监控技术</h5><ul><li>采集：搜索引擎、爬虫等、数据格式的转换、元数据的标引等</li><li>分析：分类、聚类、摘要等</li><li>呈现：信息再组织及结果推送</li></ul><h4 id="社会工程学">社会工程学</h4><blockquote><p><font color=orangered>利用人性弱点 [本能反应、贪婪、易于信任]等进行欺骗获取利益的攻击方法</font></p></blockquote><p><strong>网络社会的社会工程学</strong></p><ul><li>直接用于攻击：正面攻击 [直接索取]、建立信任、利用同情、内疚和胁迫</li><li>间接用于攻击：口令破解中的社会工程学利用、网络攻击中的社会工程学利用</li></ul><p><strong>社会工程学防御</strong></p><ul><li><strong>安全意识培训</strong>：知道什么是社会工程学攻击、社会工程学攻击利用什么</li><li><strong>建立相应的安全响应应对措施</strong>：构建完善的技术防御体系、有效的安全管理体系和操作流程</li><li><strong>注意保护个人隐私</strong>：保护生日、年龄、email邮件地址、手机号码、家庭电话号码等信息</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;安全工程与运营&quot;&gt;安全工程与运营&lt;/h2&gt;
&lt;img src=&quot;C:\Users\888888\Desktop\网络工程相关内容复习\CISP课件V4.2标准版\安全工程与运营\安全工程与运营知识域.png&quot; style=&quot;zoom:50%;&quot; /&gt;
&lt;h3 id</summary>
      
    
    
    
    <category term="网络安全" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="CISP" scheme="https://shierjinghuang.github.io/tags/CISP/"/>
    
    <category term="系统工程" scheme="https://shierjinghuang.github.io/tags/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>网络运维相关知识</title>
    <link href="https://shierjinghuang.github.io/2025/04/16/%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/"/>
    <id>https://shierjinghuang.github.io/2025/04/16/%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</id>
    <published>2025-04-16T02:48:04.000Z</published>
    <updated>2025-04-24T13:10:34.088Z</updated>
    
    <content type="html"><![CDATA[<h1>网络运维相关知识</h1><p>[TOC]</p><h2 id="网络运维">网络运维</h2><h3 id="日常维护">日常维护</h3><h4 id="网络维护概述">网络维护概述</h4><blockquote><p>网络的生命周期大致包括了<strong>网络规划与设计、网络实施、网络维护及优化</strong>等阶段</p></blockquote><p>网络维护可以分为两类：<strong>日常维护和故障排除</strong></p><ul><li>日常维护是为了预防问题发生，尽量减少突发的故障。从故障排除工作中找到的问题原因，可为日常维护工作提供参考</li><li>网络维护不仅仅是技术问题，而且也是管理问题。日常维护对操作人员的技术要求不高，但对操作的规范性要求比较高。通过日常维护可以得出网络在正常情况下的各种参数，例如网络设备的版本、网络带宽、网络安全等，从而为故障排除工作打下良好的基础。</li></ul><h4 id="日常维护-内容和方法">日常维护 - 内容和方法</h4><p>日常维护分为设备环境维护和设备软硬件维护两大部分</p><ul><li><p>设备运行环境：</p><ul><li>硬件运行环境是指设备运行的机房、供电、散热等外部环境，这是设备运行的基础条件</li><li>对于设备环境的维护，工作人员需要亲临现场，甚至借助一些专业工具进行观察、测量</li></ul></li><li><p>设备软硬件运行情况：</p><ul><li>设备软硬件运行情况与设备运行的具体业务密切相关。华为数通设备使用了通用的VRP平台，网络工程师应该掌握VRP平台的常用维护命令</li><li>对于设备软硬件的维护，工作人员可以现场操作，也可以远程操作，主要通过设备的display命令实现</li></ul></li><li><p>日常维护可以使用以下两种方法：现场观测 ：观察设备硬件运行环境、远程操作：了解设备软硬件运行情况</p></li></ul><h5 id="操作清单-checklist">操作清单 [Checklist]</h5><p>![](C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\Checklist.png)</p><p><strong>设备环境检查</strong></p><p>设备运行环境正常是保证设备正常运行的前提</p><p>但实际工作的时候，当有故障发生，不会第一时间检查设备环境，因为设备环境相比较其他的因素来说，更加的稳定和不容易发生故障</p><ul><li>设备环境检测内容：设备位置摆放是否合理、机房温度、机房湿度、机房空调运行是否正常、清洁状况、能源系统是否正常</li></ul><p><strong>设备基本信息检查</strong></p><p>设备基本信息检查包括软件版本检查、License检查、设备存储空间等信息</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\设备基本信息检查.png" style="zoom:50%;" /><table><thead><tr><th><strong>检查项</strong></th><th><strong>检查方法</strong></th></tr></thead><tbody><tr><td>设备运行的版本</td><td>display version</td></tr><tr><td>检查软件包</td><td>display startup</td></tr><tr><td>License信息</td><td>display license state</td></tr><tr><td>检查补丁信息</td><td>display patch-information</td></tr><tr><td>检查系统时间</td><td>display clock</td></tr><tr><td>检查Flash/SD卡/CF卡空间</td><td>dir flash、dir slave、dir cfcard</td></tr><tr><td>信息中心</td><td>display info-center</td></tr><tr><td>检查配置正确性</td><td>display current-configuration</td></tr><tr><td>检查debug开关</td><td>display debugging</td></tr><tr><td>检查配置是否保存</td><td>compare configuration</td></tr></tbody></table><p><strong>设备运行状态检查</strong></p><blockquote><p>在进行设备运行状态检查时，重点关注设备硬件的运行状态，如板卡、电源、风扇、温度、CPU、内存等</p></blockquote><ul><li><p>一般设备上都设置了告警灯，通常硬件故障都会导致告警灯亮。因此，也可以通过现场观察发现设备运行异常状态</p></li><li><p>对于板卡、电源、风扇等部件的运行状态，应遵照厂商的相关指导进行判断，有必要时联系厂商进行指导。如果确认为硬件故障，可以联系供应商处理</p></li></ul><p><strong>运行状态检查内容</strong>：</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\运行状态检查内容.png" style="zoom:50%;" /><table><thead><tr><th>检查项</th><th>检查方法</th><th>评估标准</th></tr></thead><tbody><tr><td>单板运行状态</td><td>display device</td><td>重点关注单板在位信息及状态信息是否正常</td></tr><tr><td>设备复位情况</td><td>display reset-reason、display reboot-info</td><td>通过查看复位信息，确认无非正常复位</td></tr><tr><td>设备温度</td><td>display temperature、display environment</td><td>各模块当前的温度应该在上下限之间</td></tr><tr><td>风扇状态</td><td>display fan</td><td>Present项为YES表示正常</td></tr><tr><td>电源状态</td><td>display power</td><td>State项为Supply表示正常</td></tr><tr><td>FTP网络服务端口</td><td>display ftp-server</td><td>不使用的FTP网络服务端口要关闭</td></tr><tr><td>告警信息</td><td>display alarm all</td><td>无告警信息。如果有告警，需要记录，对于严重以上告警需并立即分析并处理</td></tr><tr><td>CPU状态</td><td>display cpu-usage</td><td>各模块的CPU占用率正常。如果CPU占用率如果超过80%，建议重点关注</td></tr><tr><td>内存占用率</td><td>display memory-usage</td><td>内存占用情况正常，如果Memory Using Percentage Is超过60％时需要关注</td></tr><tr><td>日志信息</td><td>display logbuffer、display trapbuffer</td><td>不存在异常信息</td></tr><tr><td>主用板、备用板的备份状态</td><td>display switchover state</td><td>主备板同时存在时，要同时有主备板的显示状态信息</td></tr></tbody></table><p><strong>设备接口内容检查</strong></p><ul><li>网络设备通过接口来交换数据报文，接口状态异常会影响到网络的功能</li><li>接口如果出现大量错包，并且在短时间内不断增加，通常是由于链路的问题造成的</li></ul><table><thead><tr><th>检查项</th><th><strong>检查方法</strong></th><th><strong>评估标准</strong></th></tr></thead><tbody><tr><td>接口错包</td><td>display interface</td><td>业务运行时，要检查接口有无错包，包括CRC错包等</td></tr><tr><td>接口协商模式</td><td>display interface</td><td>接口协商模式正确，两边接口要一致，不能有半双工模式</td></tr><tr><td>接口配置</td><td>display current-configuration interface</td><td>接口的配置项合理，如接口双工模式、协商模式、速率、环回配置等</td></tr><tr><td>接口状态</td><td>display interface brief</td><td>接口的Up/Down状态是否满足规划要求</td></tr><tr><td>PoE供电</td><td>display poe power-state interface interface-type interface-number</td><td></td></tr></tbody></table><p><strong>业务运行状态检查</strong></p><ul><li>业务运行状态主要是指网络协议的运行状态</li></ul><table><thead><tr><th><strong>检查项</strong></th><th><strong>检查方法</strong></th><th><strong>评估标准</strong></th></tr></thead><tbody><tr><td>MAC地址表信息</td><td>display mac-address</td><td>MAC地址表信息正确</td></tr><tr><td>VLAN信息</td><td>display vlan</td><td>查看所有VLAN的基本信息</td></tr><tr><td>路由表信息</td><td>display ip routing-table</td><td>有默认路由或者精确路由，便于故障时远程定位</td></tr><tr><td>OSPF邻居状态</td><td>display ospf peer</td><td>OSPF邻居状态：邻居状态State为Full或者2-Way</td></tr><tr><td>IS-IS邻居状态</td><td>display isis peer</td><td>IS-IS邻居状态：邻居状态State为Up</td></tr><tr><td>BGP邻居状态</td><td>display bgp peer</td><td>BGP邻居状态：邻居状态State为Established</td></tr><tr><td>VRRP状态</td><td>display vrrp statistics</td><td>备份组中的设备的VRRP状态State不能同时为Master</td></tr><tr><td>MSTP状态</td><td>display stp brief</td><td>指定端口和根端口的STP State为FORWARDING</td></tr></tbody></table><h5 id="软件与配置的备份">软件与配置的备份</h5><blockquote><p>备份的目的是为了在极端情况下恢复网络功能</p></blockquote><p>备份的实质是把对应的文件传输到备份服务器上，通常将设备作为FTP或TFTP客户端，通过命令行将相应的文件传输到服务器上</p><ul><li>对于配置文件的备份，建议每周例行进行；同时在设备的配置有变更之前，应进行配置文件的备份。</li><li>软件与配置都需要备份。备份的目的是为了在极端情况下恢复网络功能。<ul><li>当设备因硬件故障无法启动，或更换同型号的设备后，如果没有备份的配置文件，业务将很难快速恢复。</li><li>软件版本也有必要备份，但同一个产品、同一个版本只需要备份一次即可；也可以从厂商官网获取对应的版本文件保存到本地。</li><li>License文件是一类特殊的文件，它针对具体的产品进行了设置，一旦意外丢失，则需要经过厂商的流程重新申请，通常这个流程需要提供一些证明材料，因此申请周期也会比较长<ul><li>如果有备份的License文件则可以快速地恢复到设备上</li></ul></li></ul></li></ul><h3 id="信息收集工具">信息收集工具</h3><h4 id="信息中心">信息中心</h4><blockquote><p>信息中心是设备的信息枢纽。设备产生的Log、Trap和Debug信息统一发往信息中心，通过信息中心的统一管理和控制，实现信息的灵活输出</p></blockquote><ul><li>通过配置信息中心，对设备产生的信息按照信息类型、严重级别等进行分类或筛选，用户可以灵活地控制信息输出到不同的输出方向</li><li>用户或网络管理员可以从不同的方向收集设备产生的信息，方便监控设备运行状态和定位故障。</li></ul><table><thead><tr><th style="text-align:left">信息类型</th><th><strong>内容描述</strong></th></tr></thead><tbody><tr><td style="text-align:left"><strong>LOG信息</strong></td><td>LOG信息主要记录用户操作、系统故障、系统安全等信息：</td></tr><tr><td style="text-align:left"></td><td><strong>用户日志</strong>：记录用户操作和系统运行信息</td></tr><tr><td style="text-align:left"></td><td><strong>安全日志</strong>：记录包含账号管理、协议、防攻击和状态等内容的信息</td></tr><tr><td style="text-align:left"></td><td><strong>诊断日志</strong>：记录协助进行问题定位的信息</td></tr><tr><td style="text-align:left"><strong>Trap信息</strong></td><td>Trap信息是系统检测到故障而产生的通知，主要记录故障等系统状态信息</td></tr><tr><td style="text-align:left"><strong>Debug信息</strong></td><td>Debug信息是系统对设备内部运行的信息的输出，主要用于跟踪设备内部运行的状态</td></tr></tbody></table><h5 id="信息的分级">信息的分级</h5><blockquote><p>设备产生信息比较多时，用户较难分辨哪些是设备正常运转的信息，哪些是出现故障需要处理的信息。对信息进行分级，用户可以根据信息的级别进行粗略判断，及时采取措施，屏蔽无需处理的信息</p></blockquote><ul><li>根据信息的严重等级或紧急程度，信息分为8个等级，信息越严重，其严重等级阈值越小</li></ul><table><thead><tr><th>显示值</th><th>严重等级</th><th>描述</th></tr></thead><tbody><tr><td>0</td><td>Emergencies</td><td>设备致命的异常，系统已经无法恢复正常，必须重启设备</td></tr><tr><td>1</td><td>Alert</td><td>设备重大的异常，需要立即采取措施。如设备内存占用率达到极限等</td></tr><tr><td>2</td><td>Critical</td><td>设备的异常，需要采取措施进行处理或原因分析</td></tr><tr><td>3</td><td>Error</td><td>错误的操作或设备的异常流程，不会影响后续业务，但是需要关注并分析原因</td></tr><tr><td>4</td><td>Warning</td><td>设备运转的异常点，可能引起业务故障，需要引起注意</td></tr><tr><td>5</td><td>Notification</td><td>设备正常运转的关键操作信息</td></tr><tr><td>6</td><td>Informational</td><td>设备正常运转的一般性操作信息</td></tr><tr><td>7</td><td>Debugging</td><td>设备正常运转的一般性信息，用户无需关注</td></tr></tbody></table><h5 id="信息的输出">信息的输出</h5><p>设备产生的信息可以向<strong>远程终端、控制台、Log缓冲区、日志文件、SNMP代理</strong>等方向输出信息</p><ul><li>为了便于各个方向信息的输出控制，信息中心定义了10条信息通道，通道之间独立输出，互不影响</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\信息的输出.png" style="zoom:50%;" /><h5 id="信息的过滤">信息的过滤</h5><blockquote><p>为了使信息的输出控制更加灵活，信息中心提供了信息过滤的功能。设备正常运行后，各模块在业务处理时都会上报信息</p></blockquote><p>当用户希望过滤某些不需要关注的业务模块/级别的信息时，可以配置信息在信息通道中的过滤功能</p><p>信息中心通过信息过滤表实现信息在通道中的过滤。信息过滤表是根据信息分类、分级、来源对输出到各个方向的信息进行过滤的</p><p>信息过滤表记录的内容如下：</p><ul><li>信息模块号、Log信息输出开关状态、Log信息输出过滤级别、Trap信息输出开关状态、Trap信息输出过滤级别、Debug信息输出开关状态、Debug信息输出过滤级别</li></ul><p><strong>信息中心的应用场景</strong></p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\信息中心的应用场景.png" style="zoom:50%;" /><h4 id="信息中心命令">信息中心命令</h4><p><strong>1. 使能信息中心功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> info<span class="token operator">-</span>center enable <span class="token comment">#缺省情况下，信息中心功能处于使能状态</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>2. 为指定编号的信息通道命名</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> info<span class="token operator">-</span>center channel channel<span class="token operator">-</span>number name channel<span class="token operator">-</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>3. 配置对指定的Log或Trap信息进行过滤的功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> info<span class="token operator">-</span>center <span class="token keyword">filter</span><span class="token operator">-</span>id <span class="token punctuation">&#123;</span> id <span class="token punctuation">|</span> bymodule<span class="token operator">-</span>alias modname alias <span class="token punctuation">&#125;</span> <span class="token punctuation">[</span> bytime interval <span class="token punctuation">|</span> bynumber number <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td>id</td><td>指定需要过滤的Log或Trap信息对应的ID信息</td></tr><tr><td><strong>bymodule-alias</strong> modname alias</td><td>指定需要过滤的Log或Trap信息对应的模块名称和助记符名称</td></tr><tr><td><strong>all</strong></td><td>指定过滤所有Log或者Trap信息</td></tr></tbody></table><p><strong>4. 使能Log信息向Log缓冲区的发送功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> info<span class="token operator">-</span>center logbuffer<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>缺省情况下，Log信息向Log缓冲区的发送功能处于使能状态</p></blockquote><p><strong>5. 配置向日志主机输出信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> info<span class="token operator">-</span>center loghost ip<span class="token operator">-</span>address<span class="token punctuation">&#123;</span> source<span class="token operator">-</span>ip source<span class="token operator">-</span>ip<span class="token operator">-</span>address <span class="token punctuation">&#125;</span> <span class="token punctuation">|</span> transport <span class="token punctuation">&#123;</span> udp <span class="token punctuation">|</span> tcp ssl<span class="token operator">-</span>policy policy<span class="token operator">-</span>name <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td>ip-address</td><td>指定日志主机的IPv4地址</td></tr><tr><td><strong>source-ip</strong> source-ip-address</td><td>指定发向日志主机的报文源IPv4地址</td></tr><tr><td><strong>port</strong> port-number</td><td>指定发送时对应的端口号</td></tr><tr><td>transport { UDP | TCP }</td><td>指定日志报文的传输模式，传输缺省情况下，采用UDP模式</td></tr><tr><td><strong>ssl-policy</strong> policy-name</td><td>指定SSL [Secure Sockets Layer]策略名称</td></tr></tbody></table><p><strong>6. 配置信息输出时所使用的信息通道</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> info<span class="token operator">-</span>center <span class="token punctuation">&#123;</span> console <span class="token punctuation">|</span> logbuffer <span class="token punctuation">|</span> logfile <span class="token punctuation">|</span> monitor <span class="token punctuation">|</span> snmp <span class="token punctuation">|</span> trapbuffer <span class="token punctuation">&#125;</span> channel <span class="token punctuation">&#123;</span> channel<span class="token operator">-</span>number <span class="token punctuation">|</span> channel<span class="token operator">-</span>name <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td><strong>console</strong></td><td>指定向控制台输出信息的信息通道</td></tr><tr><td><strong>logbuffer</strong></td><td>指定向Log缓冲区输出信息的信息通道</td></tr><tr><td><strong>logfile</strong></td><td>指定向日志文件输出信息的信息通道</td></tr><tr><td><strong>monitor</strong></td><td>指定向用户终端输出信息的信息通道</td></tr><tr><td><strong>snmp</strong></td><td>指定向SNMP代理输出信息的信息通道</td></tr><tr><td><strong>trapbuffer</strong></td><td>指定向Trap缓冲区输出信息的信息通道</td></tr><tr><td>channel-number</td><td>指定通道编号</td></tr><tr><td>channel-name</td><td>指定通道名称</td></tr></tbody></table><p><strong>7. 使能终端显示信息中心发送信息的功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> terminal monitor<span class="token comment"># 缺省情况下，控制台显示功能处于使能状态，用户终端显示功能处于未使能状态</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>8. 使能终端显示Debug信息功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> terminal debugging<span class="token comment"># 缺省情况下，终端显示Debug信息功能处于未使能状态</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>9. 使能终端显示Log信息功能</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> terminal logging<span class="token comment"># 缺省情况下，终端显示Log信息功能处于使能状态</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>10. 查看Log缓冲区记录的信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> display logbuffer <span class="token punctuation">[</span> size size <span class="token punctuation">|</span> slot slot<span class="token operator">-</span>id <span class="token punctuation">|</span> module module<span class="token operator">-</span>name <span class="token punctuation">|</span> security <span class="token punctuation">|</span> level <span class="token punctuation">&#123;</span> severity <span class="token punctuation">|</span> level <span class="token punctuation">&#125;</span> <span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>11. 查看日志文件信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> display logfile file<span class="token operator">-</span>name <span class="token punctuation">[</span> offset <span class="token punctuation">|</span> hex <span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>12. 查看信息中心Trap缓冲区记录的信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> display trapbuffer<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>13. 查看设备允许发送的调试信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> display debugging<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>14. 查看信息中心输出方向的配置信息</strong></p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token namespace">[HUAWEI]</span> display info<span class="token operator">-</span>center<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="报文捕获">报文捕获</h4><blockquote><p>当设备的业务流量出现异常，可以使用报文捕获功能，抓取业务报文进行分析，以便及时处理非法报文，保证网络数据的正常传输</p></blockquote><ul><li><strong>capture-packet命令</strong>用来在设备捕获符合设置规则的业务报文，并上送到终端显示，或保存到本地</li></ul><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">capture<span class="token operator">-</span>packet interface interface<span class="token operator">-</span><span class="token function">type</span> interface<span class="token operator">-</span>number <span class="token punctuation">[</span> acl acl<span class="token operator">-</span>number <span class="token punctuation">]</span> <span class="token punctuation">[</span> vxlan <span class="token punctuation">[</span> vni vni<span class="token operator">-</span>id <span class="token punctuation">]</span> destination <span class="token punctuation">&#123;</span> terminal <span class="token punctuation">|</span> file file<span class="token operator">-</span>name <span class="token punctuation">&#125;</span> <span class="token operator">*</span> <span class="token punctuation">[</span> car cir car<span class="token operator">-</span>value <span class="token punctuation">|</span> time<span class="token operator">-</span>out time <span class="token punctuation">|</span> packet<span class="token operator">-</span>num number <span class="token punctuation">|</span> packet<span class="token operator">-</span>len <span class="token punctuation">&#123;</span> length <span class="token punctuation">|</span> total<span class="token operator">-</span>packet <span class="token punctuation">&#125;</span> <span class="token punctuation">]</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th>参数</th><th>参数说明</th></tr></thead><tbody><tr><td><strong>acl</strong> acl-number</td><td>捕获VXLAN报文内层信息匹配到指定ACL规则的报文</td></tr><tr><td><strong>vlan</strong> vlan-id</td><td>捕获指定VLAN报文。</td></tr><tr><td><strong>inner-vlan</strong> inner-vlan-id</td><td>捕获指定内层VLAN报文。</td></tr><tr><td><strong>destination</strong></td><td>将捕获的报文上送目的地</td></tr><tr><td><strong>terminal</strong></td><td>将捕获的报文发送到终端显示</td></tr><tr><td><strong>file</strong> file-name</td><td>将捕获的报文保存在指定的文件里，文件名必须为*.cap格式</td></tr><tr><td><strong>time-out</strong> time</td><td>捕获报文超时时间，超时后报文捕获实例自动关闭</td></tr><tr><td><strong>packet-num</strong> number</td><td>捕获报文的数量，捕获指定数量的报文后报文捕获实例自动关闭</td></tr><tr><td><strong>packet-len</strong> length</td><td>报文在终端显示或存储在存储介质中的长度</td></tr><tr><td><strong>total-packet</strong></td><td>在终端显示或在存储介质中存储整个报文</td></tr></tbody></table><h4 id="lldp">LLDP</h4><p><strong>链路层发现协议 [LLDP，Link Layer Discovery Protocol] 是IEEE 802.1ab中定义的链路层拓扑发现协议</strong></p><p>能够准确定位诸如哪些设备附带有哪些接口，以及哪些接口与其他设备相互连接等信息，并能够显示客户端、交换机、路由器、应用服务器和网络服务器之间的路径</p><p>在实际组网中可以通过LLDP协议获取设备的物理连接信息</p><h4 id="流量统计">流量统计</h4><blockquote><p>流量可以帮助用户了解应用流策略后流量通过和被丢弃的情况，由此分析和判断流策略的应用是否合理，也有助于进行相关的故障诊断与排查</p></blockquote><h2 id="网络故障排除">网络故障排除</h2><h3 id="数通网络故障排除方法">数通网络故障排除方法</h3><h4 id="网络故障排除基本概念">网络故障排除基本概念</h4><p>网络故障是指由于某种原因而使网络丧失规定功能并影响业务的现象。</p><p>从用户的角度出发，凡是影响业务的现象都可以定义为故障。</p><p>常见的故障现象和分类如下：</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\常见的故障现象和分类.png" style="zoom:50%;" /><h4 id="结构化的网络故障排除流程">结构化的网络故障排除流程</h4><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\结构化的网络故障排除流程.png" style="zoom:50%;" /><p>关于<strong>非结构化网络故障排除流程</strong>：</p><ul><li>非结构化的网络故障排除流程，就只是凭直觉在这些步骤之间重复执行，虽然最终也可能找到解决故障的方法，但没有办法保证效率</li><li>在复杂的网络环境中，有可能会由于非结构化的网络故障排除流程而导致新的故障，从而使网络故障的排除变得更加困难</li></ul><p><strong>报告故障 - 主动沟通确认</strong></p><table><thead><tr><th></th><th>事件信息</th></tr></thead><tbody><tr><td>故障报告者</td><td>姓名、所在的部门、职位级别、所负责的工作内容、使用电脑的位置等信息</td></tr><tr><td>故障频率</td><td>故障是突发的、偶尔的、还是频繁的</td></tr><tr><td>用户操作</td><td>出现故障之前和之后，用户对自己的终端做了哪些操作</td></tr></tbody></table><p><strong>确认故障</strong></p><ul><li><p><strong>确认故障的四个要素</strong>：</p><ul><li>故障的主体：哪个网络业务出现了故障</li><li>故障的表现：故障的现象是什么样的</li><li>故障的时间：用户是什么时间发现的故障，以及专业人员推测的故障出现的真实时间</li><li>故障的位置：哪个网络组件出现了故障</li></ul></li><li><p>对故障现象进行准确的描述</p></li><li><p>最后应确认该故障是否属于自己的负责范围，即自己是否被赋予了相应的权限来处理该故障</p></li></ul><p><strong>收集信息</strong></p><ul><li>需要收集哪些信息：收集信息阶段主要是收集与故障相关的信息，如文档、网络变更情况等</li><li>如何收集这些信息：使用设备自身的操作命令；使用信息收集工具，如抓包工具、网管软件等</li><li>获取授权：在信息安全要求高的网络环境中，对信息的收集是需要得到授权的，有时需要签署书面的授权文件</li><li>收集信息阶段的风险评估：<ul><li>有些收集信息的操作，如对路由器或交换机执行debug命令，会导致设备的CPU占用率过高，严重的情况下甚至会使设备停止响应用户的操作指令，从而引入额外的故障现象</li><li>在收集信息的时候应评估这些风险，平衡引入新故障的风险与解决现有故障的紧迫性之间的关系，并明确的告知用户这些风险，由用户来决定是否进行风险较大的信息收集工作</li></ul></li></ul><p><strong>判断分析</strong></p><blockquote><p>判断分析阶段是对收集到的信息进行分析整理</p></blockquote><p>通过对故障信息、维护信息、变更信息的汇总，结合团队经验或个人经验进行综合的判断和分析，得到可能导致网络故障的原因列表</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\判断分析.png" style="zoom:50%;" /><p><strong>原因列表</strong></p><p>在原因列表阶段，首先需要列出所有可能的故障原因，然后通过信息过滤，列出最可能的待排查故障原因，同时排除掉当前最不可能的故障原因，从而缩小故障的排除范围</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\原因列表.png" style="zoom:50%;" /><p><strong>故障评估</strong>：需要在逐一排查前进行故障评估工作</p><p><strong>逐一排查</strong></p><ul><li>在逐一排查阶段同样需要平衡解决问题的迫切性与引入新故障的风险性之间的矛盾。所以，应该明确告知用户排查工作可能带来的风险，并在得到许可的情况下才能执行操作</li><li>有些情况下，通过逐一排查验证推断的过程涉及到网络变更，这时必须做好完善的应急预案和回退准备</li></ul><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\故障排查.png" style="zoom:50%;" /><p><strong>解决故障</strong>：通过逐一排查找到了故障的根本原因，并排除了故障，网络故障排除的流程就可以结束</p><p>复杂的网络环境中，故障现象消失后仍然需要观察一段时间，一方面确认用户报告的故障已经得到了解决，另一方面确认故障排除的过程中没有引入新的故障</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\解决故障.png" style="zoom:50%;" /><p><strong>收尾工作</strong>：收尾工作包括相关文档的整理、信息的通告等</p><p>需要对之前网络故障排除流程中所有进行了变更的配置或软件进行备份，并做好故障排除文档的整理和移交工作。为了避免同样的故障再次发生，在此阶段应该向用户提出改进建议</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\收尾工作.png" style="zoom:50%;" /><h4 id="网络故障排除的核心思想和方法">网络故障排除的核心思想和方法</h4><p>以业务流量路径为核心的故障排除思想：通常情况下，网络中业务流量的路径是在网络规划阶段就已经设计好的，只需要知道受到网络故障影响的业务的流量往返路径，跟踪此路径，逐步排除即可</p><ul><li><strong>确认业务流量路径 - 网络层</strong>：在数据包转发过程中可能存在多条路径，因此需要根据报文转发过程，确认业务流量的传输路径</li><li><strong>确认业务流量路径 - 数据链路层</strong>：确认业务流量对应的数据帧在二层网络环境中是如何被交换机转发的</li></ul><h5 id="分层故障处理法">分层故障处理法</h5><p>所有模型都遵循相同的基本前提：当模型的所有低层结构工作正常时，它的高层结构才能正常工作。一般建议在处理故障时，从参考模型自底向上进行故障排查</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\分层故障处理法.png" style="zoom:50%;" /><h5 id="对比配置法">对比配置法</h5><p>对比配置法是指对比正常状态与故障状态下的配置、软件版本、硬件型号等内容，检查两者之间的差异</p><p><strong>分块故障处理法</strong></p><p>华为的交换机和路由器等网络设备的配置文件具有清晰的组织结构，由此可以进行分块故障处理</p><p>当出现一个故障案例现象时，我们可以把它归入以下某一类或某几类中，从而有助于缩减故障定位范围 ：</p><ul><li><p>管理部分 [路由器名称、口令、服务、日志等]</p></li><li><p>端口部分 [地址、封装、cost、认证等]</p></li><li><p>路由协议部分（静态路由、RIP、OSPF、BGP、路由引入等）</p></li><li><p>策略部分（路由策略、策略路由、安全配置等）</p></li><li><p>接入部分（Console登录、Telnet登录、拨号等）</p></li><li><p>其他应用部分（DNS、DHCP、VPN配置等）</p></li></ul><h5 id="分段故障处理法">分段故障处理法</h5><p>数据包转发过程可能经过多台路由器和物理链路，每段物理连接都有可能发生故障，因此分段处理的方法是有效的</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\分段故障处理法.png" style="zoom:50%;" /><h5 id="替换法">替换法</h5><p>替换法是检查硬件问题最常用的方法之一</p><p>当怀疑是网线问题时，更换一根确定是好的网线试试；当怀疑是接口模块有问题时，更换一个其它接口模块试试</p><img src="C:\Users\888888\Desktop\网络工程相关内容复习\Advanced Routing Switching Technology\网络运维相关知识\替换法.png" style="zoom:50%;" /><h2 id="网络割接">网络割接</h2><h3 id="割接基本概念">割接基本概念</h3><p>割接项目：如果对网络执行的技术迁移动作会影响现网运行业务，则在技术迁移项目实施时需严格地遵循预先设定的<strong>操作流程</strong>和<strong>风险控制</strong>措施，一般将此类项目定义为割接项目</p><p>割接常见场景:</p><ul><li>网络扩容：随着业务流量的增加，对网络进行扩容，增加网络设备、添加链路</li><li>网络改造：涉及对网络结构的调整，包括物理结构、逻辑结构</li><li>设备替换：将原有老旧设备升级替换为新设备，或者更换为其他厂家设备，或者使用其他类型设备代替</li><li>配置变更：在不改变物理拓扑结构的情况下，对设备配置进行变更，对正在运行的业务可能会产生影响</li></ul><h4 id="割接流程">割接流程</h4><img src="C:/Users/888888/Desktop/网络工程相关内容复习/Advanced Routing Switching Technology/网络运维相关知识/割接流程.png" style="zoom:80%;" /><h3 id="割接操作流程">割接操作流程</h3><h4 id="准备阶段">准备阶段</h4><p><strong>项目调研</strong></p><p>在割接开始前需要与客户网络信息负责人、一线维护工程师、ISP的技术接口人以及设备厂家代表等多方进行沟通，同时进行客户网络信息的收集</p><ul><li>信息采集分析：现网的<strong>静态、动态信息</strong>用于分析网络情况以及割接前后网络情况进行对比分析，判断割接前后业务量是否正常</li><li>业务模型分析：对客户的<strong>业务流量</strong>走向、业务流量大小进行观察，包括<strong>流量走向的变化和链路流量大小</strong>，可用于割接前后进行对比</li><li>现网硬件环境观察：<ul><li>需要记录的内容：<strong>光纤接口对应关系、ODF位置、接口标识</strong></li><li>对现网环境的观察便于割接时操作，同时相应的接口对应关系要进行记录，涉及到设备替换、线缆替换等割接操作便于割接完进行检查</li></ul></li></ul><p><strong>项目分析</strong></p><p>对客户的需求进行分析、梳理，分析客户对割接后网络的<strong>新需求</strong>，如带宽，网络KPI指标，新业务承载能力等，同时在该阶段将割接方案中的割接变更需求进行明确</p><p><strong>风险评估</strong></p><p>根据调研结果、需求分析结果，以及割接方案的框架进行<strong>割接风险分析与评估</strong>，针对可能出现的风险项目提前制定应对措施，并将对应的风险项对应措施责任人确认</p><p><strong>输出割接方案</strong></p><ul><li>根据调研结果、项目分析结果、技术人员风险评估编写相应的割接方案</li><li>割接方案中需要将割接前准备阶段、实施阶段、收尾阶段的详细步骤、过程进行明确</li><li><strong>回退方案</strong>：当割接失败时需要将网络退回到割接前初始状态，此时需要按照回退方案进行操作，将网络恢复</li></ul><p><strong>方案验证和审定</strong></p><p>大型的、重要的割接项目，要求在实验室内搭建环境进行提前验证，将风险点进行测试，并对整个方案的可行性确认，<strong>使用实验室环境验证的被称为实验局测试</strong></p><p><strong>割接准备</strong></p><p>割接准备是割接实施前的重要步骤，同时充分地准备也是顺利完成割接的基础</p><blockquote><p>割接的准备分为环境准备 [硬件，软件，工具，备件等]、人员准备 [甲方，乙方，监理]和流程准备 [执行时间划分]</p></blockquote><img src="C:/Users/888888/Desktop/网络工程相关内容复习/Advanced Routing Switching Technology/网络运维相关知识/软硬件准备.png" style="zoom: 67%;" /><center>软硬件准备</center><img src="C:/Users/888888/Desktop/网络工程相关内容复习/Advanced Routing Switching Technology/网络运维相关知识/工具备件准备.png" style="zoom: 67%;" /><center>工具备件准备</center>#### 实施阶段<p><strong>割接前快照</strong></p><p>为方便割接回退以及割接之后对比业务是否正常，在正式开始割接之前需要对现网配置、现网数据再进行一次快照，具体包括以下内容：</p><ul><li>现网配置进行备份</li><li>现网动态数据采集 [端口状态、流量、各路由协议状态、路由数量、STP协议状态、各端口ARP/MAC地址表项]</li><li>割接前对业务进行测试，确保割接涉及的业务在割接前属于正常状态</li></ul><p><strong>割接执行</strong></p><ul><li>现场割接人员按照提前准备好的割接步骤一步步严格执行，无特殊原因不能临时更改实施步骤</li><li>每一步骤的执行记录下割接实际操作过程的时间点、执行动作、执行结果</li></ul><p><strong>割接回退</strong></p><ul><li>如果在指定的时间前未完成割接，需按照提前准备的回退方案一步步进行回退，将网络恢复。</li><li>回退范围可根据实际情况，与客户协商<strong>部分回退</strong>或<strong>全部回退</strong></li></ul><p><strong>割接测试</strong></p><p>割接实施完成后为测试割接是否成功，需要从以下几个方面对网络、业务进行测试：</p><ol><li>网络运行状态测试：对现网的动态数据在进行一次采集，与割接前进行对比</li><li>业务测试：通过PING、TRACERT或者客户侧的第三方软件测试网络连通性、延迟、抖动等指标是否到达业务要求</li><li>客户应用测试：测试由网络承载的客户应用，检查是否正常</li></ol><img src="C:/Users/888888/Desktop/网络工程相关内容复习/Advanced Routing Switching Technology/网络运维相关知识/割接测试.png" style="zoom:67%;" /><h4 id="收尾阶段">收尾阶段</h4><p><strong>守局</strong></p><p>割接操作完成且通过客户应用业务测试后，网络需进入一个特殊的观察期，在此期间工程师一般驻守在客户局点，观察网络运行状态，防止出现意外故障。</p><p><strong>割接验收</strong></p><p>割接顺利完成并在守局观察无异常之后还需要对客户进行维护培训以及资料移交</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;网络运维相关知识&lt;/h1&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h2 id=&quot;网络运维&quot;&gt;网络运维&lt;/h2&gt;
&lt;h3 id=&quot;日常维护&quot;&gt;日常维护&lt;/h3&gt;
&lt;h4 id=&quot;网络维护概述&quot;&gt;网络维护概述&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;网络的生命周期大致包括了&lt;stro</summary>
      
    
    
    
    <category term="网络工程相关" scheme="https://shierjinghuang.github.io/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/"/>
    
    
    <category term="网络工程" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B/"/>
    
    <category term="路由与交换进阶" scheme="https://shierjinghuang.github.io/tags/%E8%B7%AF%E7%94%B1%E4%B8%8E%E4%BA%A4%E6%8D%A2%E8%BF%9B%E9%98%B6/"/>
    
    <category term="HCIP" scheme="https://shierjinghuang.github.io/tags/HCIP/"/>
    
    <category term="网络运维" scheme="https://shierjinghuang.github.io/tags/%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
</feed>
